{"version":3,"file":"index.js","sources":["../src/services/Apisb.js","../src/constants.js","../src/stores/SessionStorageStore.js","../src/services/ClientSession.js","../src/services/SpecificAPI.js","../src/stores/AuthStore.js","../src/services/PluginUtils.js","../src/services/SyncfusionUtils.js","../src/stores/OrbitalStore.js","../src/stores/BrandStore.js","../src/stores/PluginStore.js","../src/components/DateComponents/DateComponentsV1/DatePicker.js","../src/components/DateComponents/DateComponentsV1/DateTimePicker.js","../src/components/DateComponents/DateComponentsV1/RecurrenceEditor.js","../src/components/DateComponents/DateComponentsV1/Scheduler.js","../src/components/DateComponents/DateComponentsV1/TimePicker.js","../src/components/OrbitalErrorDiv.js","../src/components/DateComponents/DateComponentsV2/DatePickerV2.js","../src/components/DateComponents/DateComponentsV2/DateTimePickerV2.js","../src/components/DateComponents/DateComponentsV2/RecurrenceEditorV2.js","../src/components/DateComponents/DateComponentsV2/SchedulerV2.js","../src/components/DateComponents/DateComponentsV2/TimePickerV2.js","../src/components/MandatoryFieldLabel.js","../src/components/NormalFieldLabel.js","../src/components/LoadingOverlay.js","../src/components/HTMLTextEditor/v2/HTMLTextEditor.js","../src/components/HTMLTextEditor/v3/HtmlEditorItems.js","../src/components/HTMLTextEditor/v3/HTMLEditor.js","../src/components/Tooltip.js","../src/components/UploadImage/ImageService.js","../src/components/UploadImage/styledComponents.js","../src/components/UploadImage/CropImage.js","../src/components/UploadImage/UploadImage.js","../src/components/UploadDocument/styledComponents.js","../src/components/UploadDocument/UploadDocument.js","../src/components/OrbitalAddressComponentsPicker.js","../src/components/OrbitalLocationPicker.js","../src/components/ReactTable/v2/styledComponents.js","../src/components/ReactTable/v2/Utils.js","../src/components/ReactTable/v2/ReactTable.js","../src/components/Icons/OrbitalSaveIcon.js","../src/components/Icons/OrbitalAddIcon.js","../src/components/Icons/OrbitalCancelIcon.js","../src/components/OrbitalCheckbox.js","../src/components/OrbitalSelect.js","../src/components/CustomFields/CompleteSchema.js","../src/components/CustomFields/AddEditProperty.js","../src/components/CustomFields/DeleteProperty.js","../src/components/CustomFields/OrbitalJsonSchema.js","../src/components/PluginContainer.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport default class APISb {\r\n    static cleanToken(token) {\r\n        token = `Bearer ${token}`;\r\n        token = token.replaceAll('\"', \"\");\r\n        return token;\r\n    }\r\n\r\n    static get(token, baseUrl, endpoint, params, customHeaders) {\r\n        var url = baseUrl + endpoint;\r\n\r\n        token = this.cleanToken(token);\r\n        var defaultHeaders = {\r\n            \"content-type\": \"application/json\",\r\n            \"Accept\": \"application/json\",\r\n            \"Authorization\": token\r\n        };\r\n        defaultHeaders = { ...defaultHeaders, ...customHeaders };\r\n\r\n        var config = {\r\n            method: \"get\",\r\n            url: url,\r\n            params: params || {},\r\n            headers: defaultHeaders\r\n        }\r\n\r\n        return new Promise(function (resolve, reject) {\r\n            axios(config)\r\n                .then((result) => {\r\n                    resolve(result);\r\n                })\r\n                .catch((error) => {\r\n                    reject(error);\r\n                })\r\n        })\r\n    }\r\n\r\n    static post(token, baseUrl, endpoint, params, data, customHeaders) {\r\n        var url = baseUrl + endpoint;\r\n\r\n        token = this.cleanToken(token);\r\n        var defaultHeaders = {\r\n            \"content-type\": \"application/json\",\r\n            \"Accept\": \"application/json\",\r\n            \"Authorization\": token\r\n        };\r\n        defaultHeaders = { ...defaultHeaders, ...customHeaders };\r\n\r\n        var config = {\r\n            method: \"post\",\r\n            url: url,\r\n            params: params || {},\r\n            data: data,\r\n            headers: defaultHeaders\r\n        }\r\n\r\n        return new Promise(function (resolve, reject) {\r\n            axios(config)\r\n                .then((result) => {\r\n                    resolve(result);\r\n                })\r\n                .catch((error) => {\r\n                    reject(error);\r\n                })\r\n        })\r\n    }\r\n\r\n    static put(token, baseUrl, endpoint, params, data, customHeaders) {\r\n        var url = baseUrl + endpoint;\r\n\r\n        token = this.cleanToken(token);\r\n        var defaultHeaders = {\r\n            \"content-type\": \"application/json\",\r\n            \"Accept\": \"application/json\",\r\n            \"Authorization\": token\r\n        };\r\n        defaultHeaders = { ...defaultHeaders, ...customHeaders };\r\n\r\n        var config = {\r\n            method: \"put\",\r\n            url: url,\r\n            params: params || {},\r\n            data: data,\r\n            headers: defaultHeaders\r\n        }\r\n\r\n        return new Promise(function (resolve, reject) {\r\n            axios(config)\r\n                .then((result) => {\r\n                    resolve(result);\r\n                })\r\n                .catch((error) => {\r\n                    reject(error);\r\n                })\r\n        })\r\n    }\r\n\r\n    static delete(token, baseUrl, endpoint, params, customHeaders) {\r\n        var url = baseUrl + endpoint;\r\n\r\n        token = this.cleanToken(token);\r\n        var defaultHeaders = {\r\n            \"content-type\": \"application/json\",\r\n            \"Accept\": \"application/json\",\r\n            \"Authorization\": token\r\n        };\r\n        defaultHeaders = { ...defaultHeaders, ...customHeaders };\r\n\r\n        var config = {\r\n            method: \"delete\",\r\n            url: url,\r\n            params: params || {},\r\n            headers: defaultHeaders\r\n        }\r\n\r\n        return new Promise(function (resolve, reject) {\r\n            axios(config)\r\n                .then((result) => {\r\n                    resolve(result);\r\n                })\r\n                .catch((error) => {\r\n                    reject(error);\r\n                })\r\n        })\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /******************************* WITHOUT TOKEN ***************************/\r\n    /*************************************************************************/\r\n\r\n    static get_plain(baseUrl, endpoint, params, customHeaders) {\r\n        var url = baseUrl + endpoint;\r\n\r\n        var defaultHeaders = {\r\n            \"content-type\": \"application/json\",\r\n            \"Accept\": \"application/json\"\r\n        };\r\n        defaultHeaders = { ...defaultHeaders, ...customHeaders };\r\n\r\n        var config = {\r\n            method: \"get\",\r\n            url: url,\r\n            params: params || {},\r\n            headers: defaultHeaders\r\n        }\r\n\r\n        return new Promise(function (resolve, reject) {\r\n            axios(config)\r\n                .then((result) => {\r\n                    resolve(result);\r\n                })\r\n                .catch((error) => {\r\n                    reject(error);\r\n                })\r\n        })\r\n    }\r\n\r\n    static post_plain(baseUrl, endpoint, params, data, customHeaders) {\r\n        var url = baseUrl + endpoint;\r\n\r\n        var defaultHeaders = {\r\n            \"content-type\": \"application/json\",\r\n            \"Accept\": \"application/json\"\r\n        };\r\n        defaultHeaders = { ...defaultHeaders, ...customHeaders };\r\n\r\n        var config = {\r\n            method: \"post\",\r\n            url: url,\r\n            params: params || {},\r\n            data: data,\r\n            headers: defaultHeaders\r\n        }\r\n\r\n        return new Promise(function (resolve, reject) {\r\n            axios(config)\r\n                .then((result) => {\r\n                    resolve(result);\r\n                })\r\n                .catch((error) => {\r\n                    reject(error);\r\n                })\r\n        })\r\n    }\r\n\r\n    static put_plain(baseUrl, endpoint, params, data, customHeaders) {\r\n        var url = baseUrl + endpoint;\r\n\r\n        var defaultHeaders = {\r\n            \"content-type\": \"application/json\",\r\n            \"Accept\": \"application/json\"\r\n        };\r\n        defaultHeaders = { ...defaultHeaders, ...customHeaders };\r\n\r\n        var config = {\r\n            method: \"put\",\r\n            url: url,\r\n            params: params || {},\r\n            data: data,\r\n            headers: defaultHeaders\r\n        }\r\n\r\n        return new Promise(function (resolve, reject) {\r\n            axios(config)\r\n                .then((result) => {\r\n                    resolve(result);\r\n                })\r\n                .catch((error) => {\r\n                    reject(error);\r\n                })\r\n        })\r\n    }\r\n}","export const SBDashboardAuthkey = \"SBDashboardAuth\";\r\nexport const SBUserAuthkey = \"SBUserAuth\";\r\nexport const authkey = \"auth\";\r\nexport const SBAPI_URL = \"sbapiUrl\";\r\nexport const currentLang = \"currentLang\";\r\nexport const localizationChannel = \"setLocalizationEvent\";\r\nexport const pluginVersionChannel = \"pluginVersionEvent\";","import _ from \"lodash\";\r\nimport * as constants from \"../constants\";\r\n\r\nconst MySessionStorage = require('browser-session-store')\r\n\r\nMySessionStorage.setItem = function (key) {\r\n    if (key == constants.currentLang) {\r\n        var localizationChannel = constants.localizationChannel;\r\n        var setLocalizationEvent = new Event(localizationChannel);\r\n        setLocalizationEvent.key = key;\r\n        window.dispatchEvent(setLocalizationEvent);\r\n    }\r\n};\r\n\r\nexport default class SessionStorageStore {\r\n    static cleanKey(value) {\r\n        if (value != null) {\r\n            value = value.replaceAll('\"', \"\");\r\n        }\r\n        return value;\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************** CURRENT LANG *********************************/\r\n    /*************************************************************************/\r\n    static getCurrentLang() {\r\n        var currentLang = sessionStorage.getItem(constants.currentLang);\r\n        currentLang = this.cleanKey(currentLang);\r\n        return currentLang;\r\n    }\r\n\r\n    static setCurrentLang(currentLang) {\r\n        return new Promise(function (resolve, reject) {\r\n            MySessionStorage.put(constants.currentLang, currentLang, (error) => {\r\n                if (error) {\r\n                    reject(error);\r\n                } else {\r\n                    MySessionStorage.setItem(constants.currentLang);\r\n                    resolve(currentLang);\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n    static removeCurrentLang() {\r\n        return new Promise(function (resolve, reject) {\r\n            MySessionStorage.remove(constants.currentLang, (error) => {\r\n                if (error) {\r\n                    reject(error);\r\n                } else {\r\n                    resolve();\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************** DASHBOARD AUTH KEY ***************************/\r\n    /*************************************************************************/\r\n    static getDashboardAuthKey() {\r\n        var SBDashboardAuthkey = sessionStorage.getItem(constants.SBDashboardAuthkey);\r\n        SBDashboardAuthkey = this.cleanKey(SBDashboardAuthkey);\r\n        return SBDashboardAuthkey;\r\n    }\r\n\r\n    static setDashboardAuthKey(dashboardAuthKey) {\r\n        return new Promise(function (resolve, reject) {\r\n            MySessionStorage.put(constants.SBDashboardAuthkey, dashboardAuthKey, (error) => {\r\n                if (error) {\r\n                    reject(error);\r\n                } else {\r\n                    resolve(dashboardAuthKey);\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n    static removeDashboardAuthKey() {\r\n        return new Promise(function (resolve, reject) {\r\n            MySessionStorage.remove(constants.SBDashboardAuthkey, (error) => {\r\n                if (error) {\r\n                    reject(error);\r\n                } else {\r\n                    resolve();\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************** USER AUTH KEY ********************************/\r\n    /*************************************************************************/\r\n    static getUserAuthKey() {\r\n        var SBUserAuthkey = sessionStorage.getItem(constants.SBUserAuthkey);\r\n        SBUserAuthkey = this.cleanKey(SBUserAuthkey);\r\n        return SBUserAuthkey;\r\n    }\r\n\r\n    static setUserAuthKey(userAuthKey) {\r\n        return new Promise(function (resolve, reject) {\r\n            MySessionStorage.put(constants.SBUserAuthkey, userAuthKey, (error) => {\r\n                if (error) {\r\n                    reject(error);\r\n                } else {\r\n                    resolve(userAuthKey);\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n    static removeUserAuthKey() {\r\n        return new Promise(function (resolve, reject) {\r\n            MySessionStorage.remove(constants.SBUserAuthkey, (error) => {\r\n                if (error) {\r\n                    reject(error);\r\n                } else {\r\n                    resolve();\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************** AUTH DATA-STRUCTURE **************************/\r\n    /*************************************************************************/\r\n    static getAuth() {\r\n        var authkey = sessionStorage.getItem(constants.authkey);\r\n        return authkey;\r\n    }\r\n\r\n    static setAuth(authkey) {\r\n        return new Promise(function (resolve, reject) {\r\n            MySessionStorage.put(constants.authkey, authkey, (error) => {\r\n                if (error) {\r\n                    reject(error);\r\n                } else {\r\n                    resolve(authkey);\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n    static removeAuth() {\r\n        return new Promise(function (resolve, reject) {\r\n            MySessionStorage.remove(constants.authkey, (error) => {\r\n                if (error) {\r\n                    reject(error);\r\n                } else {\r\n                    resolve();\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************** SBAPI URL ************************************/\r\n    /*************************************************************************/\r\n    static getSBAPIUrl() {\r\n        var SBAPI_URL = sessionStorage.getItem(constants.SBAPI_URL);\r\n        SBAPI_URL = this.cleanKey(SBAPI_URL);\r\n        return SBAPI_URL;\r\n    }\r\n\r\n    static setSBAPIUrl(SBAPIUrl) {\r\n        return new Promise(function (resolve, reject) {\r\n            MySessionStorage.put(constants.SBAPI_URL, SBAPIUrl, (error) => {\r\n                if (error) {\r\n                    reject(error);\r\n                } else {\r\n                    resolve(SBAPIUrl);\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n    static removeSBAPIUrl() {\r\n        return new Promise(function (resolve, reject) {\r\n            MySessionStorage.remove(constants.SBAPI_URL, (error) => {\r\n                if (error) {\r\n                    reject(error);\r\n                } else {\r\n                    resolve();\r\n                }\r\n            });\r\n        })\r\n    }\r\n}","import _ from \"lodash\";\r\n\r\nimport SessionStorageStore from \"../stores/SessionStorageStore\";\r\n\r\n\r\nclass ClientSession {\r\n  static isLoggedIn() {\r\n    return new Promise(function (resolve, reject) {\r\n      var auth = SessionStorageStore.getAuth();\r\n      if (_.isEmpty(auth) == true) {\r\n        resolve(false);\r\n      } else {\r\n        resolve(true);\r\n      }\r\n    })\r\n  }\r\n\r\n  static checkLogin() {\r\n    var self = this;\r\n    return new Promise(function (resolve, reject) {\r\n      self.isLoggedIn()\r\n        .then((logged) => {\r\n          if (logged == true) {\r\n            resolve();\r\n          } else {\r\n            reject(\"The user isn't logged in\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          reject(error);\r\n        })\r\n    })\r\n  }\r\n\r\n  static getAuth() {\r\n    return new Promise(function (resolve, reject) {\r\n      var auth = SessionStorageStore.getAuth();\r\n      if (_.isEmpty(auth) == true) {\r\n        reject(null);\r\n      } else {\r\n        resolve(auth);\r\n      }\r\n    })\r\n  }\r\n}\r\nexport default ClientSession;\r\n","import APISb from \"./Apisb\";\r\n\r\nexport default class SpecificAPI {\r\n    static getAvailablePlugin(authKey, apiUrl, pluginKey) {\r\n        return new Promise(function (resolve, reject) {\r\n            var url = \"/PluginAvailableListMo/search/findByPluginKey\";\r\n            var params = { \"pluginKey\": pluginKey }\r\n\r\n            APISb.get(authKey, apiUrl, url, params)\r\n                .then((result) => {\r\n                    var data = result.data;\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    resolve(error);\r\n                })\r\n        })\r\n    }\r\n\r\n    static getPluginActivationForAll(authKey, apiUrl, pluginKey, brandId, userId) {\r\n        return new Promise(function (resolve, reject) {\r\n            var url = \"/PluginActivationMo/search/findByPluginKeyAndBrandIdAndIdRelAndPluginActiveAndPluginEnableAndBuyForAll\";\r\n            var params = {\r\n                \"pluginKey\": pluginKey,\r\n                \"brandId\": brandId,\r\n                \"idRel\": userId,\r\n                \"pluginActive\": true,\r\n                \"pluginEnable\": true,\r\n                \"buyForAll\": true\r\n            };\r\n\r\n            APISb.get(authKey, apiUrl, url, params)\r\n                .then((result) => {\r\n                    var data = result.data;\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    reject(error);\r\n                })\r\n        })\r\n    }\r\n\r\n    static getPluginActivation(authKey, apiUrl, pluginKey, brandId, userId) {\r\n        return new Promise(function (resolve, reject) {\r\n            var url = \"/PluginActivationMo/search/findByPluginKeyAndBrandIdAndIdRelAndPluginActiveAndPluginEnable\";\r\n            var params = {\r\n                \"pluginKey\": pluginKey,\r\n                \"brandId\": brandId,\r\n                \"idRel\": userId,\r\n                \"pluginActive\": true,\r\n                \"pluginEnable\": true\r\n            };\r\n\r\n            APISb.get(authKey, apiUrl, url, params)\r\n                .then((result) => {\r\n                    var data = result.data;\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    reject(error);\r\n                })\r\n        })\r\n    }\r\n\r\n    static getPluginConfiguration(authKey, apiUrl, pluginId) {\r\n        return new Promise(function (resolve, reject) {\r\n            var url = \"/BrandPluginConfigMo/search/findByPluginId\";\r\n            var params = { \"pluginId\": pluginId };\r\n            APISb.get(authKey, apiUrl, url, params)\r\n                .then((result) => {\r\n                    var data = result.data;\r\n                    data = data[0] || data;\r\n                    var config = data && data.configData ? data.configData : {};\r\n                    resolve(config);\r\n                })\r\n                .catch((error) => {\r\n                    reject(error);\r\n                })\r\n\r\n        })\r\n    }\r\n\r\n    static getBrandById(authKey, apiUrl, brandId) {\r\n        return new Promise(function (resolve, reject) {\r\n            var url = \"/BrandsMo/\" + brandId;\r\n            APISb.get(authKey, apiUrl, url, null)\r\n                .then((result) => {\r\n                    var data = result.data;\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    reject(error);\r\n                })\r\n        })\r\n    }\r\n\r\n    static getBrandConfig(authKey, apiUrl, brandId) {\r\n        return new Promise(function (resolve, reject) {\r\n            var url = \"/BrandConfigurationMo/search/findByBrandId\";\r\n            var params = { \"brandId\": brandId };\r\n\r\n            APISb.get(authKey, apiUrl, url, params)\r\n                .then((result) => {\r\n                    var data = result.data;\r\n                    data = data[0] || data;\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    reject(error);\r\n                })\r\n        })\r\n    }\r\n\r\n    static getOrbitalConfig(authKey, apiUrl, key) {\r\n        return new Promise(function (resolve, reject) {\r\n            var url = \"/ConfigMo/search/findByKey\";\r\n\r\n            key = key || \"D001\";\r\n            var params = { \"key\": key };\r\n\r\n            APISb.get(authKey, apiUrl, url, params)\r\n                .then((result) => {\r\n                    var data = result.data;\r\n                    resolve(data);\r\n                })\r\n                .catch((error) => {\r\n                    reject(error);\r\n                })\r\n        })\r\n    }\r\n\r\n    static getGeneralPluginLocalization(authKey, apiUrl, pluginKey) {\r\n        return new Promise(function (resolve, reject) {\r\n            var url = `/LocalizationAvailablePluginsMo/search/findByPluginKey`;\r\n            var params = { \"pluginKey\": pluginKey }\r\n\r\n            APISb.get(authKey, apiUrl, url, params)\r\n                .then((result) => {\r\n                    var data = result.data || {};\r\n                    var dashboard = data.dashboard || {};\r\n                    resolve(dashboard);\r\n                })\r\n                .catch((error) => {\r\n                    reject(error);\r\n                })\r\n        })\r\n    }\r\n\r\n    static getActivePluginLocalization(authKey, apiUrl, pluginActivationId) {\r\n        return new Promise(function (resolve, reject) {\r\n            var url = \"/LocalizationActivePluginsMo/search/findByPluginActivationId\";\r\n            var params = { \"pluginActivationId\": pluginActivationId };\r\n\r\n            APISb.get(authKey, apiUrl, url, params)\r\n                .then((result) => {\r\n                    var data = result.data || {};\r\n                    var dashboard = data.dashboard || {};\r\n                    resolve(dashboard);\r\n                })\r\n                .catch((error) => {\r\n                    reject(error);\r\n                })\r\n        })\r\n    }\r\n\r\n}","import SessionStorageStore from \"./SessionStorageStore\";\r\n\r\nexport default class AuthStore {\r\n    static defaultLang = \"En\";\r\n\r\n    static auth = {};\r\n\r\n    static setAuthStore() {\r\n        var self = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var auth = SessionStorageStore.getAuth();\r\n            if (_.isEmpty(auth) == true) {\r\n                reject(\"'Auth' is null\");\r\n            } else {\r\n                self.setAuth(auth);\r\n                resolve();\r\n            }\r\n        })\r\n    }\r\n\r\n    static setAuth(auth) {\r\n        this.auth = auth;\r\n    }\r\n\r\n    static getAuth() {\r\n        return this.auth;\r\n    }\r\n\r\n    static getUser() {\r\n        var user = this.auth.user || {};\r\n        return user;\r\n    }\r\n\r\n    static getUserId() {\r\n        var user = this.auth.user || {};\r\n        var userId = user.id;\r\n        return userId\r\n    }\r\n\r\n    static getUserRole() {\r\n        var user = this.auth.user || {};\r\n        var role = user.role;\r\n        return role;\r\n    }\r\n\r\n    static getUserSubRole() {\r\n        var user = this.auth.user || {};\r\n        var subRole = user.subRole;\r\n        return subRole;\r\n    }\r\n\r\n    static getDefautlLang() {\r\n        var auth = this.auth || {};\r\n        var lang = auth.lang;\r\n        return lang;\r\n    }\r\n\r\n    static getCurrentLang() {\r\n        return this.getDefautlLang();\r\n    }\r\n\r\n    static getUserLang() {\r\n        return this.getDefautlLang();\r\n    }\r\n\r\n    static getPreferedLanguages() {\r\n        var auth = this.auth || {};\r\n        var user = auth.user || {};\r\n        var brand = user._brand || {};\r\n        var brandConfiguration = brand._brandConfiguration || {};\r\n        var languages = brandConfiguration.preferedLang || [];\r\n\r\n        return languages;\r\n    }\r\n\r\n    static getUserPluginPermission() {\r\n        var user = this.auth.user || {};\r\n        var permissions = user._permission || {};\r\n        return permissions\r\n    }\r\n\r\n    static checkPermissionKey(permission_key) {\r\n        var user = this.auth.user || {};\r\n        var permissions = user._permission || {};\r\n        var permitted = permissions[permission_key] || \"D\";\r\n\r\n        return permitted;\r\n    }\r\n\r\n    static getBrandId() {\r\n        var user = this.auth.user || {};\r\n        var brandId = user.brandId;\r\n        return brandId\r\n    }\r\n\r\n    static getReferrerId() {\r\n        var user = this.auth.user || {};\r\n        var referrerId = user.referrerId;\r\n        return referrerId\r\n    }\r\n\r\n    static getOrbitalId(){\r\n        var user = this.auth.user || {};\r\n        var orbitalId = user.orbitalIdId;\r\n        return orbitalId \r\n    }\r\n\r\n    static getOwnerId() {\r\n        var user = this.auth && this.auth.user ? this.auth.user : null;\r\n        if (user.role == \"Owner\" && user.subRole == \"Sub Owner\") {\r\n            return user.referrerId;\r\n        } else if (user.role == \"Owner\") {\r\n            return user.id;\r\n        } else if (user.role == \"Brand Manager\" && user.subRole == \"Brand Assistant\") {\r\n            return user.referrerId;\r\n        } else if (user.role == \"Brand Manager\") {\r\n            return user.id;\r\n        }\r\n    }\r\n\r\n    static getParentId() {\r\n        return this.getOwnerId();\r\n    }\r\n}","import _ from \"lodash\";\r\n\r\nimport ClientSession from \"./ClientSession\";\r\nimport SpecificAPI from \"./SpecificAPI\";\r\nimport SessionStorageStore from \"../stores/SessionStorageStore\";\r\nimport AuthStore from \"../stores/AuthStore\";\r\n\r\nimport * as constants from \"../constants\";\r\n\r\nfunction getBrowserLang() {\r\n    function capitalizeFirstLetter(string) {\r\n        return string.charAt(0).toUpperCase() + string.slice(1);\r\n    }\r\n\r\n    try {\r\n        var browserLang = navigator.language || navigator.userLanguage; //no ?s necessary\r\n        browserLang = browserLang.substring(0, 2).toLowerCase();\r\n        browserLang = capitalizeFirstLetter(browserLang);\r\n        return browserLang;\r\n    } catch (e) {\r\n        console.error(e);\r\n        return null;\r\n    }\r\n}\r\n\r\nexport function getInitialLocalizationLanguage() {\r\n    const browserLang = getBrowserLang();\r\n    const lang = SessionStorageStore.getCurrentLang() || AuthStore.getDefautlLang() || browserLang || \"En\";\r\n    return lang;\r\n}\r\n\r\nexport function getBrandPluginActivationInstance(authKey, apiUrl, pluginKey, brandId) {\r\n    return SpecificAPI.getPluginActivation(authKey, apiUrl, pluginKey, brandId, brandId);\r\n}\r\n\r\nexport function getOwnerPluginActivationInstance(authKey, apiUrl, pluginKey, brandId, ownerId) {\r\n    return new Promise(function (resolve, reject) {\r\n        var p0 = SpecificAPI.getPluginActivationForAll(authKey, apiUrl, pluginKey, brandId, brandId);\r\n        var p1 = SpecificAPI.getPluginActivation(authKey, apiUrl, pluginKey, brandId, ownerId);\r\n        Promise.all([p0, p1])\r\n            .then((results) => {\r\n                var buyForAllActivation = results[0];\r\n                var singleOwnerActivation = results[1];\r\n\r\n                var pluginActivation = _.isEmpty(buyForAllActivation) == false ? buyForAllActivation : singleOwnerActivation;\r\n                resolve(pluginActivation);\r\n            })\r\n            .catch((error) => {\r\n                reject(error);\r\n            })\r\n    })\r\n}\r\n\r\nexport function getPluginActivation(authKey, apiUrl, pluginTarget, pluginKey, brandId, ownerId, PluginStore) {\r\n    var self = this;\r\n    return new Promise(function (resolve, reject) {\r\n        SpecificAPI.getAvailablePlugin(authKey, apiUrl, pluginKey)\r\n            .then((availablePlugin) => {\r\n                PluginStore.setAvailablePlugin(availablePlugin);\r\n\r\n                if (pluginTarget == \"brand\") {\r\n                    return self.getBrandPluginActivationInstance(authKey, apiUrl, pluginKey, brandId);\r\n                } else if (pluginTarget == \"owner\") {\r\n                    return self.getOwnerPluginActivationInstance(authKey, apiUrl, pluginKey, brandId, ownerId)\r\n                }\r\n            })\r\n            .then((pluginActivation) => {\r\n                if (_.isEmpty(pluginActivation) == true) {\r\n                    reject(\"Plugin '\" + pluginKey + \"' is not active\")\r\n                } else {\r\n                    resolve(pluginActivation);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n            })\r\n    })\r\n}\r\n\r\nexport function getPluginLocalization(authKey, apiUrl, pluginKey, pluginActivationId) {\r\n    return new Promise(function (resolve, reject) {\r\n        var p0 = SpecificAPI.getGeneralPluginLocalization(authKey, apiUrl, pluginKey);\r\n        var p1 = pluginActivationId ? SpecificAPI.getActivePluginLocalization(authKey, apiUrl, pluginActivationId) : null;\r\n\r\n        Promise.all([p0, p1])\r\n            .then((results) => {\r\n                var generalPluginLocalization = results[0];\r\n                var activePluginLocalization = results[1];\r\n\r\n                var localization = { ...generalPluginLocalization, ...activePluginLocalization };\r\n\r\n                resolve(localization);\r\n            })\r\n            .catch((error) => {\r\n                reject(\"Error getting localization\");\r\n            })\r\n    })\r\n}\r\n\r\nexport function setLocalization(localizationInstance, localizationObj, callbackLocalization) {\r\n    var newLocalizationObject = {};\r\n    _.each(localizationObj, (obj, key) => {\r\n        var languages = Object.keys(obj);\r\n        _.each(languages, (language) => {\r\n            if (newLocalizationObject[language] == null) {\r\n                newLocalizationObject[language] = {};\r\n            }\r\n\r\n            newLocalizationObject[language][key] = obj[language];\r\n        })\r\n    })\r\n\r\n    newLocalizationObject.En = newLocalizationObject.En || {};\r\n    newLocalizationObject.It = newLocalizationObject.It || {};\r\n\r\n    newLocalizationObject.En = { ...callbackLocalization.En, ...newLocalizationObject.En }\r\n    newLocalizationObject.It = { ...callbackLocalization.It, ...newLocalizationObject.It }\r\n\r\n    localizationInstance.setContent(newLocalizationObject);\r\n}\r\n\r\nexport function setUserLocalizationLanguage(AuthStore, localizationInstance) {\r\n    var lang = SessionStorageStore.getCurrentLang() || AuthStore.getDefautlLang();\r\n    localizationInstance.setLanguage(lang);\r\n}\r\n\r\nexport function checkPermission(AuthStore, pluginKey) {\r\n    return new Promise(function (resolve, reject) {\r\n        var userPluginPermission = AuthStore.getUserPluginPermission();\r\n\r\n        var pluginPermission = userPluginPermission[pluginKey];\r\n        if (pluginPermission === null || pluginPermission === \"D\") {\r\n            reject(\"The user is not allowed to access the '\" + pluginKey + \"' plugin\");\r\n        } else {\r\n            resolve();\r\n        }\r\n    })\r\n}\r\n\r\nexport function initializePluginPipeline(initializationObject) {\r\n    var { authKey, apiUrl, pluginTarget, pluginKey, pluginVersion, AuthStore, OrbitalStore, BrandStore, PluginStore, localizationInstance, callbackLocalization, syncfusionLocalization } = initializationObject;\r\n    var self = this;\r\n    return new Promise(function (resolve, reject) {\r\n        var pluginVersionEvent = new Event(constants.pluginVersionChannel);\r\n        pluginVersionEvent.pluginVersion = pluginVersion;\r\n        window.dispatchEvent(pluginVersionEvent);\r\n\r\n        ClientSession.checkLogin()\r\n            .then(() => {\r\n                var auth = SessionStorageStore.getAuth();\r\n                auth = auth && typeof auth == \"string\" ? JSON.parse(auth) : auth;\r\n                return AuthStore.setAuth(auth);\r\n            })\r\n            .then(() => {\r\n                self.checkPermission(AuthStore, pluginKey);\r\n            })\r\n            .then(() => {\r\n                var brandId = AuthStore.getBrandId();\r\n                var ownerId = AuthStore.getOwnerId();\r\n\r\n                return self.getPluginActivation(authKey, apiUrl, pluginTarget, pluginKey, brandId, ownerId, PluginStore);\r\n            })\r\n            .then((pluginActivation) => {\r\n                var pluginActivationId = pluginActivation.id;\r\n                var brandId = AuthStore.getBrandId();\r\n                PluginStore.setPluginActivation(pluginActivation);\r\n\r\n                var p0 = self.getPluginLocalization(authKey, apiUrl, pluginKey, pluginActivationId);\r\n                var p1 = SpecificAPI.getOrbitalConfig(authKey, apiUrl, null);\r\n                var p2 = SpecificAPI.getBrandById(authKey, apiUrl, brandId);\r\n                var p3 = SpecificAPI.getBrandConfig(authKey, apiUrl, brandId);\r\n\r\n                return Promise.all([p0, p1, p2, p3])\r\n            })\r\n            .then((results) => {\r\n                var localizationObj = results[0];\r\n                self.setLocalization(localizationInstance, localizationObj, callbackLocalization);\r\n                self.setUserLocalizationLanguage(AuthStore, localizationInstance);\r\n\r\n                var orbitalConfig = results[1];\r\n                OrbitalStore.setOrbitalConfig(orbitalConfig);\r\n\r\n                var brand = results[2];\r\n                BrandStore.setBrand(brand);\r\n\r\n                var brandConfig = results[3];\r\n                BrandStore.setBrandConfiguration(brandConfig);\r\n\r\n                resolve();\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error during plugin initalization pipeline\");\r\n                reject(error);\r\n            })\r\n    })\r\n}\r\n\r\nexport function initializePluginPipeline_WITHOUT_pluginAvailable_pluginActivation(initializationObject) {\r\n    var { authKey, apiUrl, pluginTarget, pluginKey, pluginVersion, AuthStore, OrbitalStore, BrandStore, PluginStore, localizationInstance, callbackLocalization } = initializationObject;\r\n    var self = this;\r\n    return new Promise(function (resolve, reject) {\r\n\r\n        var pluginVersionEvent = new Event(constants.pluginVersionChannel);\r\n        pluginVersionEvent.pluginVersion = pluginVersion;\r\n        window.dispatchEvent(pluginVersionEvent);\r\n\r\n        ClientSession.checkLogin()\r\n            .then(() => {\r\n                var auth = SessionStorageStore.getAuth();\r\n                auth = auth && typeof auth == \"string\" ? JSON.parse(auth) : auth;\r\n                return AuthStore.setAuth(auth);\r\n            })\r\n            .then(() => {\r\n                return SpecificAPI.getAvailablePlugin(authKey, apiUrl, pluginKey)\r\n            })\r\n            .then((availablePlugin) => {\r\n                PluginStore.setAvailablePlugin(availablePlugin);\r\n                var brandId = AuthStore.getBrandId();\r\n\r\n                var p0 = SpecificAPI.getOrbitalConfig(authKey, apiUrl, null);\r\n                var p1 = SpecificAPI.getBrandById(authKey, apiUrl, brandId);\r\n                var p2 = SpecificAPI.getBrandConfig(authKey, apiUrl, brandId);\r\n\r\n                return Promise.all([p0, p1, p2])\r\n            })\r\n            .then((results) => {\r\n                var orbitalConfig = results[0];\r\n                OrbitalStore.setOrbitalConfig(orbitalConfig);\r\n\r\n                var brand = results[1];\r\n                BrandStore.setBrand(brand);\r\n\r\n                var brandConfig = results[2];\r\n                BrandStore.setBrandConfiguration(brandConfig);\r\n\r\n                var localizationObj = {};\r\n                self.setLocalization(localizationInstance, localizationObj, callbackLocalization);\r\n\r\n                resolve();\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error during plugin initalization pipeline\");\r\n                reject(error);\r\n            })\r\n    })\r\n}\r\n\r\nexport function getLocalizationChannel() {\r\n    var localizationChannel = constants.localizationChannel;\r\n    return localizationChannel;\r\n}\r\n\r\nexport function getPluginVersionChannel() {\r\n    var pluginVersionChannel = constants.pluginVersionChannel;\r\n    return pluginVersionChannel;\r\n}\r\n\r\nexport function initializeSystemPluginPipeline(initializationObject) {\r\n    var { authKey, apiUrl, pluginTarget, pluginKey, pluginVersion, AuthStore, OrbitalStore, BrandStore, PluginStore, localizationInstance, callbackLocalization } = initializationObject;\r\n    var self = this;\r\n    return new Promise(function (resolve, reject) {\r\n        var pluginVersionEvent = new Event(constants.pluginVersionChannel);\r\n        pluginVersionEvent.pluginVersion = pluginVersion;\r\n        window.dispatchEvent(pluginVersionEvent);\r\n\r\n        ClientSession.checkLogin()\r\n            .then(() => {\r\n                var auth = SessionStorageStore.getAuth();\r\n                auth = auth && typeof auth == \"string\" ? JSON.parse(auth) : auth;\r\n                return AuthStore.setAuth(auth);\r\n            })\r\n            .then(() => {\r\n                var p0 = self.getPluginLocalization(authKey, apiUrl, pluginKey, null);\r\n                var p1 = SpecificAPI.getOrbitalConfig(authKey, apiUrl, null);\r\n\r\n                return Promise.all([p0, p1])\r\n            })\r\n            .then((results) => {\r\n                var localizationObj = results[0];\r\n                self.setLocalization(localizationInstance, localizationObj, callbackLocalization);\r\n                self.setUserLocalizationLanguage(AuthStore, localizationInstance);\r\n\r\n                var orbitalConfig = results[1];\r\n                OrbitalStore.setOrbitalConfig(orbitalConfig);\r\n\r\n                resolve();\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error during plugin initalization pipeline\");\r\n                reject(error);\r\n            })\r\n    })\r\n}","import syncfusionLocalization from \"./syncfusionLocalization.json\";\r\n\r\nexport function getLocaleByLanguage(lang) {\r\n    if (lang && lang === \"It\") {\r\n\r\n        return \"it\";\r\n    } else if (lang && lang === \"En\") {\r\n        return \"en-US\";\r\n    } else {\r\n        return \"en-US\";\r\n    }\r\n}\r\n\r\nexport function setSyncfusionLocalization(L10n, loadCldr) {\r\n    return new Promise(function (resolve, reject) {\r\n        loadCldr(\r\n            require('cldr-data/supplemental/numberingSystems.json'),\r\n            require('cldr-data/main/it/ca-gregorian.json'),\r\n            require('cldr-data/main/it/numbers.json'),\r\n            require('cldr-data/main/it/timeZoneNames.json'),\r\n            require('cldr-data/main/it/dateFields.json')\r\n        );\r\n        L10n.load(syncfusionLocalization);\r\n        resolve();\r\n    })\r\n}","export default class OrbitalStore {\r\n    /*************************************************************************/\r\n    /************************** ORBITAL CONFIG *******************************/\r\n    /*************************************************************************/\r\n    static orbitalConfig = {};\r\n\r\n    static setOrbitalConfig(orbitalConfig) {\r\n        this.orbitalConfig = orbitalConfig || {};\r\n    }\r\n\r\n    static getOrbitalConfig() {\r\n        return this.orbitalConfig;\r\n    }\r\n\r\n    static getDefaultImage() {\r\n        var image = this.orbitalConfig && this.orbitalConfig.image ? this.orbitalConfig.image : null;\r\n        return image;\r\n    }\r\n\r\n    static getDefaultLang(){\r\n        var defaultLang = this.orbitalConfig && this.orbitalConfig.defaultLang ? this.orbitalConfig.defaultLang : null;\r\n        return defaultLang;\r\n    }\r\n}","const EventEmitter = require('events');\r\nexport default class BrandStore {\r\n    static eventEmitter = new EventEmitter();\r\n\r\n    static emit(channel, data) {\r\n        this.eventEmitter.emit(channel, data);\r\n    }\r\n\r\n    static on(channel, callback) {\r\n        return this.eventEmitter.on(channel, callback);\r\n    }\r\n\r\n    static removeListener(channel, callback) {\r\n        return this.eventEmitter.removeListener(channel, callback);\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /**************************** BRAND **************************************/\r\n    /*************************************************************************/\r\n    static brand = null;\r\n\r\n    static setBrand(brand) {\r\n        this.brand = brand || {};\r\n    }\r\n\r\n    static getBrand() {\r\n        return this.brand;\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************** BRAND CONFIG *********************************/\r\n    /*************************************************************************/\r\n    static brandConfiguration = null;\r\n\r\n    static setBrandConfiguration(brandConfiguration) {\r\n        this.brandConfiguration = brandConfiguration || {};\r\n    }\r\n\r\n    static getBrandConfiguration() {\r\n        return this.brandConfiguration;\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************** GET METHODS **********************************/\r\n    /*************************************************************************/\r\n    static getBrandId() {\r\n        var brandId = this.brand.id;\r\n        return brandId;\r\n    }\r\n\r\n    static getPreferedLanguages() {\r\n        var preferedLang = this.brandConfiguration.preferedLang;\r\n        return preferedLang;\r\n    }\r\n\r\n    static getDefaultLang() {\r\n        var defaultLang = this.brandConfiguration.defaultLang;\r\n        return defaultLang;\r\n    }\r\n\r\n    static getCurrency() {\r\n        var currency = this.brandConfiguration.currency;\r\n        return currency;\r\n    }\r\n\r\n    static getCustomerIsolation() {\r\n        var customerIsolation = this.brandConfiguration.customerIsolation;\r\n        return customerIsolation;\r\n    }\r\n\r\n    static getPermissionGroups() {\r\n        var pluginPermissionGroups = this.brandConfiguration != null ? this.brandConfiguration.pluginPermissionGroups : null;\r\n        return pluginPermissionGroups;\r\n    }\r\n\r\n    static setPermissionGroups(pluginPermissionGroups) {\r\n        var brandConfiguration = this.brandConfiguration ? this.brandConfiguration : {};\r\n        brandConfiguration.pluginPermissionGroups = pluginPermissionGroups;\r\n        this.brandConfiguration = brandConfiguration;\r\n    }\r\n\r\n}","export default class PluginStore {\r\n    /*************************************************************************/\r\n    /************************** AVAILABLE PLUGIN *****************************/\r\n    /*************************************************************************/\r\n    static availablePlugin = null;\r\n\r\n    static setAvailablePlugin(availablePlugin) {\r\n        this.availablePlugin = availablePlugin;\r\n    }\r\n\r\n    static getAvailablePlugin() {\r\n        return this.availablePlugin;\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************** ACTIVED PLUGIN *******************************/\r\n    /*************************************************************************/\r\n    static pluginActivation = null;\r\n\r\n    static setPluginActivation(pluginActivation) {\r\n        this.pluginActivation = pluginActivation;\r\n    }\r\n\r\n    static getPluginActivation() {\r\n        return this.pluginActivation;\r\n    }\r\n\r\n    static getPluginConfiguration() {\r\n        var pluginConfiguration = this.pluginActivation && this.pluginActivation.config ? this.pluginActivation.config : null;\r\n        return pluginConfiguration;\r\n    }\r\n\r\n    static getPluginDefaultData() {\r\n        var pluginDefaultData = this.pluginActivation && this.pluginActivation.defaultData ? this.pluginActivation.defaultData : null;\r\n        return pluginDefaultData;\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { DatePickerComponent } from \"@syncfusion/ej2-react-calendars\";\r\n\r\nimport \"./css/buttons/material_custom.css\";\r\nimport \"./css/calendar/material_custom.css\";\r\nimport \"./css/schedule/material_custom.css\";\r\nimport \"./css/datepicker/material_custom.css\";\r\nimport \"./css/input_group/material_custom.css\";\r\n\r\nclass DatePicker extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: this.props.value\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        setTimeout(() => {\r\n            this.setState({\r\n                value: nextProps.value\r\n            })\r\n        }, 100)\r\n    }\r\n\r\n    render() {\r\n        var { format } = this.props;\r\n\r\n        return <DatePickerComponent\r\n            {...this.props}\r\n            value={this.state.value}\r\n            format={format || \"dd/MM/yyyy\"}>\r\n        </DatePickerComponent>\r\n    }\r\n}\r\nexport default DatePicker;","import React, { Component } from \"react\";\r\nimport { DateTimePickerComponent } from \"@syncfusion/ej2-react-calendars\";\r\n\r\nimport \"./css/buttons/material_custom.css\";\r\nimport \"./css/calendar/material_custom.css\";\r\nimport \"./css/schedule/material_custom.css\";\r\nimport \"./css/datepicker/material_custom.css\";\r\nimport \"./css/timepicker/material_custom.css\";\r\nimport \"./css/datetimepicker/material_custom.css\";\r\nimport \"./css/input_group/material_custom.css\";\r\n\r\nclass DatePicker extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {}\r\n    }\r\n\r\n    render() {\r\n        var { format } = this.props;\r\n\r\n        return <DateTimePickerComponent\r\n            {...this.props}\r\n            format={format || \"dd/MM/yyyy HH:mm\"}>\r\n        </DateTimePickerComponent>\r\n    }\r\n}\r\nexport default DatePicker;","import React, { Component } from \"react\";\r\nimport { RecurrenceEditorComponent } from \"@syncfusion/ej2-react-schedule\";\r\nimport { L10n, loadCldr } from '@syncfusion/ej2-base';\r\n\r\nimport \"./css/buttons/material_custom.css\";\r\nimport \"./css/calendar/material_custom.css\";\r\nimport \"./css/schedule/material_custom.css\";\r\nimport \"./css/datepicker/material_custom.css\";\r\nimport \"./css/timepicker/material_custom.css\";\r\nimport \"./css/datetimepicker/material_custom.css\";\r\nimport \"./css/input_group/material_custom.css\";\r\nimport \"./css/dropdown/material_custom.css\";\r\n\r\nloadCldr(\r\n    require('cldr-data/supplemental/numberingSystems.json'),\r\n    require('cldr-data/main/it-CH/ca-gregorian.json'),\r\n    require('cldr-data/main/it-CH/numbers.json'),\r\n    require('cldr-data/main/it-CH/timeZoneNames.json'),\r\n    require('cldr-data/main/it-CH/dateFields.json')\r\n);\r\n\r\nL10n.load({\r\n    \"en-US\": {\r\n        \"recurrenceeditor\": {\r\n            \"none\": \"None\",\r\n            \"daily\": \"Daily\",\r\n            \"weekly\": \"Weekly\",\r\n            \"monthly\": \"Monthly\",\r\n            \"month\": \"Month\",\r\n            \"yearly\": \"Yearly\",\r\n            \"never\": \"Never\",\r\n            \"until\": \"Until\",\r\n            \"count\": \"Count\",\r\n            \"first\": \"First\",\r\n            \"second\": \"Second\",\r\n            \"third\": \"Third\",\r\n            \"fourth\": \"Fourth\",\r\n            \"last\": \"Last\",\r\n            \"repeat\": \"Repeat\",\r\n            \"repeatEvery\": \"Repeat Every\",\r\n            \"on\": \"Repeat On\",\r\n            \"end\": \"End\",\r\n            \"onDay\": \"Day\",\r\n            \"days\": \"Day(s)\",\r\n            \"weeks\": \"Week(s)\",\r\n            \"months\": \"Month(s)\",\r\n            \"years\": \"Year(s)\",\r\n            \"every\": \"every\",\r\n            \"summaryTimes\": \"time(s)\",\r\n            \"summaryOn\": \"on\",\r\n            \"summaryUntil\": \"until\",\r\n            \"summaryRepeat\": \"Repeats\",\r\n            \"summaryDay\": \"day(s)\",\r\n            \"summaryWeek\": \"week(s)\",\r\n            \"summaryMonth\": \"month(s)\",\r\n            \"summaryYear\": \"year(s)\"\r\n        }\r\n    },\r\n    'it-CH': {\r\n        \"recurrenceeditor\": {\r\n            \"none\": \"Nessuna\",\r\n            \"daily\": \"Giornaliera\",\r\n            \"weekly\": \"Settimanale\",\r\n            \"monthly\": \"Mensile\",\r\n            \"month\": \"Mese\",\r\n            \"yearly\": \"Annuale\",\r\n            \"never\": \"Mai\",\r\n            \"until\": \"Fino\",\r\n            \"count\": \"Volte\",\r\n            \"first\": \"Primo\",\r\n            \"second\": \"Secondo\",\r\n            \"third\": \"Terzo\",\r\n            \"fourth\": \"Quarto\",\r\n            \"last\": \"Ultimo\",\r\n            \"repeat\": \"Ripeti\",\r\n            \"repeatEvery\": \"Ripeti sempre\",\r\n            \"on\": \"Ripeti\",\r\n            \"end\": \"Fine\",\r\n            \"onDay\": \"Giorni\",\r\n            \"days\": \"Giorno(i)\",\r\n            \"weeks\": \"Settimana(e)\",\r\n            \"months\": \"Mese(i)\",\r\n            \"years\": \"Anno(i)\",\r\n            \"every\": \"sempre\",\r\n            \"summaryTimes\": \"tempo(i)\",\r\n            \"summaryOn\": \"on\",\r\n            \"summaryUntil\": \"fino\",\r\n            \"summaryRepeat\": \"Ripeti\",\r\n            \"summaryDay\": \"giorno(i)\",\r\n            \"summaryWeek\": \"settimana(e)\",\r\n            \"summaryMonth\": \"mese(i)\",\r\n            \"summaryYear\": \"anno(i)\"\r\n        }\r\n    }\r\n})\r\n\r\nclass RecurrenceEditor extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            locale: this.props.locale\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        setTimeout(() => {\r\n            this.setState({\r\n                locale: nextProps.locale\r\n            })\r\n        }, 100)\r\n    }\r\n\r\n\r\n    render() {\r\n        var { dateFormat } = this.props;\r\n        var locale = this.state.locale || \"en-US\"\r\n\r\n        return <RecurrenceEditorComponent\r\n            dateFormat={dateFormat || \"dd/MM/yyyy\"}\r\n            locale={locale}\r\n            {...this.props}>\r\n        </RecurrenceEditorComponent>\r\n    }\r\n}\r\nexport default RecurrenceEditor;","/** @format */\r\n\r\nimport React, { Component } from \"react\";\r\nimport {\r\n  ScheduleComponent, Inject, ViewDirective, ViewsDirective,\r\n  Day, Week, WorkWeek, Month, Agenda,\r\n} from \"@syncfusion/ej2-react-schedule\";\r\nimport moment from \"moment\";\r\n\r\nimport \"./css/buttons/material_custom.css\";\r\nimport \"./css/calendar/material_custom.css\";\r\nimport \"./css/schedule/material_custom.css\";\r\n\r\nconst _ = require(\"lodash\");\r\nconst date_format = \"DD/MM/YYYY\";\r\n\r\nexport class ReservationScheduler extends Component {\r\n  constructor() {\r\n    super(...arguments);\r\n    this.state = {\r\n      closedDates: this.props.closedDates ? this.props.closedDates : [],\r\n      dataSource: { dataSource: this.props.events || [] },\r\n    }\r\n    this.scheduleObj = null;\r\n    this.currentView = this.props.currentView || \"Month\";\r\n    this.selectedDate = moment().format(date_format);\r\n\r\n    this.checkSelectedDate = this.checkSelectedDate.bind(this);\r\n    this.checkClosedDate = this.checkClosedDate.bind(this);\r\n    this.changeAgendaRange = this.changeAgendaRange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.currentView = this.props.currentView || \"Month\";\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    var { closedDates, currentView, events } = nextProps;\r\n\r\n    if (this.scheduleObj != null) {\r\n      if (closedDates && closedDates.toString() !== this.state.closedDates.toString()) {\r\n        this.setState({\r\n          closedDates: closedDates,\r\n        }, () => {\r\n          this.scheduleObj.refresh();\r\n        });\r\n      }\r\n\r\n      if (currentView != null) {\r\n        this.scheduleObj.changeCurrentView(currentView);\r\n        this.currentView = currentView;\r\n      }\r\n\r\n      var new_events = events || [];\r\n      var dataSource = { dataSource: new_events };\r\n      this.setState({\r\n        dataSource: dataSource\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  /*************************************************************************/\r\n  /************************** RENDER CELL **********************************/\r\n  /*************************************************************************/\r\n  checkSelectedDate(args) {\r\n    var selected_date = moment(this.selectedDate, date_format).format(date_format);\r\n\r\n    var date = moment(args.date).format(date_format);\r\n    if (args.elementType == \"monthCells\" && date == selected_date) {\r\n      args.element.setAttribute(\"style\", \"background-color:rgb(0, 123, 255, 0.2)\");\r\n      args.element.classList.remove(\"e-current-date\");\r\n    } else {\r\n      args.element.removeAttribute(\"style\", \"background-color:rgb(0, 123, 255, 0.2)\");\r\n      args.element.classList.remove(\"e-current-date\");\r\n    }\r\n\r\n    var weekday = moment(selected_date, date_format).format(\"dddd\");\r\n    if (args.elementType == \"monthDay\") {\r\n      if (args.element.textContent == weekday) {\r\n        args.element.classList.add(\"e-current-day\");\r\n      } else {\r\n        args.element.classList.remove(\"e-current-day\");\r\n      }\r\n    }\r\n  }\r\n\r\n  parseClosedDates(closedDates) {\r\n    let closed_day = closedDates.length\r\n      ? _.map(this.state.closedDates, function (el) {\r\n        let se = new Date(el);\r\n        let s = new Date(\r\n          se.getFullYear(),\r\n          se.getMonth(),\r\n          se.getDate()\r\n        ).getTime();\r\n        return s;\r\n      })\r\n      : [];\r\n    return closed_day;\r\n  }\r\n\r\n  checkClosedDate(args) {\r\n    var closed_day = this.parseClosedDates(this.state.closedDates);\r\n    if (args.date) {\r\n      var date = new Date(args.date.getFullYear(), args.date.getMonth(), args.date.getDate()).getTime();\r\n\r\n      if (args.elementType == \"monthCells\" && closed_day.indexOf(date) > -1) {\r\n        args.element.classList.add(\"e-current-date\");\r\n      }\r\n    }\r\n  }\r\n\r\n  /*************************************************************************/\r\n  /************************** RENDER ***************************************/\r\n  /*************************************************************************/\r\n  changeAgendaRange() {\r\n    if (this.currentView == \"Agenda\") {\r\n      setTimeout(() => {\r\n        if (this.props.onChangeAgendaRange) {\r\n          var first = _.first(this.scheduleObj.activeView.renderDates);\r\n          var last = _.last(this.scheduleObj.activeView.renderDates);\r\n\r\n          this.props.onChangeAgendaRange(first, last);\r\n        }\r\n      }, 100)\r\n    }\r\n  }\r\n\r\n  /*************************************************************************/\r\n  /************************** RENDER ***************************************/\r\n  /*************************************************************************/\r\n  render() {\r\n    var self = this;\r\n\r\n    function renderCell(args) {\r\n      self.checkSelectedDate(args);\r\n      self.checkClosedDate(args);\r\n    }\r\n\r\n    function cellClick(args) {\r\n      var tmp = moment(args.startTime).format(date_format);\r\n      self.selectedDate = tmp;\r\n      self.scheduleObj.refresh();\r\n      if (self.props.onChangeDate) {\r\n        self.props.onChangeDate(moment(args.startTime));\r\n      }\r\n    }\r\n\r\n    function popupOpen(args) {\r\n      if (args.type == \"QuickInfo\") {\r\n        args.cancel = true;\r\n      }\r\n      if (args.type == \"Editor\") {\r\n        args.cancel = true;\r\n      }\r\n    }\r\n\r\n    function actionComplete(props) {\r\n      if (props.requestType == \"toolBarItemRendered\") {\r\n        var todayButton = _.find(props.items || [], { cssClass: \"e-today\" });\r\n        if (todayButton) {\r\n          todayButton.click = (a, b, c) => {\r\n            var previousDate = new Date(2001, 1, 1);\r\n            var currentDate = new Date();\r\n            self.scheduleObj.navigating({\r\n              action: \"date\",\r\n              previousDate: previousDate,\r\n              currentDate: currentDate,\r\n            });\r\n          };\r\n        }\r\n      }\r\n    }\r\n\r\n    function navigating(props) {\r\n      var { previousDate, currentDate, action, currentView } = props;\r\n\r\n      var today = moment().format(date_format);\r\n      previousDate = previousDate ? moment(previousDate).format(date_format) : null;\r\n      currentDate = currentDate ? moment(currentDate).format(date_format) : null;\r\n\r\n      if (\r\n        action == \"date\" &&\r\n        currentDate &&\r\n        currentDate == today &&\r\n        previousDate != today &&\r\n        currentView == \"Month\"\r\n      ) {\r\n        self.scheduleObj.selectedDate = new Date();\r\n        self.selectedDate = moment().format(date_format);\r\n        self.scheduleObj.refresh();\r\n        if (self.props.onChangeDate) {\r\n          self.props.onChangeDate(moment());\r\n        }\r\n      }\r\n\r\n      if (action == \"view\" && self.props.onChangeView) {\r\n        self.currentView = currentView;\r\n        self.props.onChangeView(currentView);\r\n      }\r\n\r\n      self.changeAgendaRange();\r\n    }\r\n\r\n    return (\r\n      <ScheduleComponent\r\n        ref={schedule => this.scheduleObj = schedule}\r\n        height={this.props.height}\r\n        editorTemplate={() => { return <div></div> }}\r\n        eventSettings={this.state.dataSource}\r\n        renderCell={renderCell}\r\n        cellClick={cellClick}\r\n        popupOpen={popupOpen}\r\n        actionComplete={actionComplete}\r\n        navigating={navigating}>\r\n        <ViewsDirective>\r\n          {this.props.dayView == true && <ViewDirective option='Day' />}\r\n          {this.props.weekView == true && <ViewDirective option='Week' />}\r\n          {this.props.workWeekView == true && <ViewDirective option='WorkWeek' />}\r\n          {this.props.monthView == true && <ViewDirective option=\"Month\" />}\r\n          {this.props.agendaView == true && <ViewDirective option=\"Agenda\" />}\r\n        </ViewsDirective>\r\n        <Inject services={[Day, Week, WorkWeek, Month, Agenda]} />\r\n      </ScheduleComponent>\r\n    );\r\n  }\r\n}\r\nexport default ReservationScheduler;","import React, { Component } from \"react\";\r\nimport { TimePickerComponent } from \"@syncfusion/ej2-react-calendars\";\r\n\r\nimport \"./css/buttons/material_custom.css\";\r\nimport \"./css/calendar/material_custom.css\";\r\nimport \"./css/schedule/material_custom.css\";\r\nimport \"./css/datepicker/material_custom.css\";\r\nimport \"./css/timepicker/material_custom.css\";\r\nimport \"./css/input_group/material_custom.css\";\r\n\r\nclass TimePicker extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: this.props.value\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        setTimeout(() => {\r\n            this.setState({\r\n                value: nextProps.value\r\n            })\r\n        }, 100)\r\n    }\r\n\r\n    render() {\r\n        var { format } = this.props;\r\n\r\n        return <TimePickerComponent\r\n            {...this.props}\r\n            value={this.state.value}\r\n            format={format || \"HH:mm\"}>\r\n        </TimePickerComponent>\r\n    }\r\n}\r\nexport default TimePicker;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst OrbitalErrorDiv = styled.div`\r\n    margin-top: 0,25rem;\r\n    font-size: 80%;\r\n    color: #dc3545;\r\n`;\r\n\r\nexport default OrbitalErrorDiv;","import React from \"react\";\r\nimport { DatePickerComponent } from \"@syncfusion/ej2-react-calendars\";\r\n// import { OrbitalErrorDiv } from \"orbital_common_components\";\r\nimport styled from \"styled-components\";\r\nimport _ from \"lodash\";\r\n\r\nimport OrbitalErrorDiv from \"./../../OrbitalErrorDiv\";\r\nimport * as SyncfusionUtils from \"./../../../services/SyncfusionUtils\";\r\n\r\nconst StyledDiv = styled.div`\r\n    .e-input-group, .e-input-group.e-control-wrapper{\r\n        height: calc(1.5em + 0.75rem + 2px);\r\n        line-height: 1.5;\r\n        font-size: 1rem;\r\n        font-weight: 400;\r\n        color: #495057;\r\n        background-color: #fff;\r\n        background-clip: padding-box;\r\n        border: 1px solid;\r\n        border-color: ${props => props.isInvalid === true ? \"#dc3545 !important\" : \"#ced4da\"};\r\n        border-radius: 0.25rem;\r\n    } \r\n    \r\n    .e-input-group.e-error, .e-input-group.e-control-wrapper.e-error, .e-input-group.e-error:not(.e-float-icon-left), .e-input-group.e-control-wrapper.e-error:not(.e-float-icon-left) {\r\n        border-color: #ced4da;\r\n    }\r\n\r\n    .e-input-group.e-error .e-input-group-icon, .e-input-group.e-control-wrapper.e-error .e-input-group-icon{\r\n        border-color: #ced4da;\r\n    }\r\n    \r\n    .e-input-group input.e-input, .e-input-group.e-control-wrapper input.e-input, .e-float-input input, .e-float-input.e-control-wrapper input, .e-input-group textarea.e-input, .e-input-group.e-control-wrapper textarea.e-input, .e-float-input textarea, .e-float-input.e-control-wrapper textarea, .e-input-group .e-input[disabled], .e-input-group.e-control-wrapper .e-input[disabled], .e-input-group.e-disabled input.e-input, .e-input-group.e-control-wrapper.e-disabled input.e-input, .e-input-group.e-disabled textarea.e-input, .e-input-group.e-control-wrapper.e-disabled textarea.e-input {\r\n        margin-top: 0.225rem;\r\n    }\r\n`;\r\n\r\n\r\nfunction DatePickerV2(props) {\r\n    const { enabled, disabled, isInvalid, errorMessage, format, language, firstDayOfWeek = 1 } = props;\r\n    const isEnabled = enabled === false || disabled === true ? false : true;\r\n    const invalid = isInvalid === true || _.isEmpty(isInvalid) === false;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <StyledDiv isInvalid={invalid}>\r\n                <DatePickerComponent\r\n                    {...props}\r\n                    enabled={isEnabled}\r\n                    firstDayOfWeek={firstDayOfWeek}\r\n                    locale={SyncfusionUtils.getLocaleByLanguage(language)}\r\n                    format={format || \"dd/MM/yyyy\"}>\r\n                </DatePickerComponent>\r\n            </StyledDiv>\r\n            {isInvalid &&\r\n                <OrbitalErrorDiv>{errorMessage}</OrbitalErrorDiv>\r\n            }\r\n        </React.Fragment>\r\n    )\r\n}\r\nexport default DatePickerV2;","import React from \"react\";\r\nimport { DateTimePickerComponent } from \"@syncfusion/ej2-react-calendars\";\r\n// import { OrbitalErrorDiv } from \"orbital_common_components\";\r\nimport styled from \"styled-components\";\r\nimport _ from \"lodash\";\r\n\r\nimport OrbitalErrorDiv from \"./../../OrbitalErrorDiv\";\r\nimport * as SyncfusionUtils from \"./../../../services/SyncfusionUtils\";\r\n\r\nconst StyledDiv = styled.div`\r\n    .e-input-group, .e-input-group.e-control-wrapper{\r\n        height: calc(1.5em + 0.75rem + 2px);\r\n        line-height: 1.5;\r\n        font-size: 1rem;\r\n        font-weight: 400;\r\n        color: #495057;\r\n        background-color: #fff;\r\n        background-clip: padding-box;\r\n        border: 1px solid;\r\n        border-color: ${props => props.isInvalid === true ? \"#dc3545 !important\" : \"#ced4da\"};\r\n        border-radius: 0.25rem;\r\n    } \r\n\r\n    .e-input-group.e-error, .e-input-group.e-control-wrapper.e-error, .e-input-group.e-error:not(.e-float-icon-left), .e-input-group.e-control-wrapper.e-error:not(.e-float-icon-left) {\r\n        border-color: #ced4da;\r\n    }\r\n\r\n    .e-input-group.e-error .e-input-group-icon, .e-input-group.e-control-wrapper.e-error .e-input-group-icon{\r\n        border-color: #ced4da;\r\n    }\r\n    \r\n    .e-input-group input.e-input, .e-input-group.e-control-wrapper input.e-input, .e-float-input input, .e-float-input.e-control-wrapper input, .e-input-group textarea.e-input, .e-input-group.e-control-wrapper textarea.e-input, .e-float-input textarea, .e-float-input.e-control-wrapper textarea, .e-input-group .e-input[disabled], .e-input-group.e-control-wrapper .e-input[disabled], .e-input-group.e-disabled input.e-input, .e-input-group.e-control-wrapper.e-disabled input.e-input, .e-input-group.e-disabled textarea.e-input, .e-input-group.e-control-wrapper.e-disabled textarea.e-input {\r\n        margin-top: 0.225rem;\r\n    }\r\n`;\r\n\r\nfunction DateTimePickerV2(props) {\r\n    const { format, isInvalid, errorMessage, language, firstDayOfWeek = 1 } = props;\r\n    var invalid = isInvalid === true || _.isEmpty(isInvalid) === false;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <StyledDiv isInvalid={invalid}>\r\n                <DateTimePickerComponent\r\n                    {...props}\r\n                    firstDayOfWeek={firstDayOfWeek}\r\n                    locale={SyncfusionUtils.getLocaleByLanguage(language)}\r\n                    format={format || \"dd/MM/yyyy HH:mm\"}>\r\n                </DateTimePickerComponent>\r\n            </StyledDiv>\r\n            {isInvalid &&\r\n                <OrbitalErrorDiv>{errorMessage}</OrbitalErrorDiv>\r\n            }\r\n        </React.Fragment>\r\n    )\r\n}\r\nexport default DateTimePickerV2;","import React from \"react\";\r\nimport { RecurrenceEditorComponent } from \"@syncfusion/ej2-react-schedule\";\r\nimport styled from \"styled-components\";\r\nimport _ from \"lodash\";\r\n\r\nimport * as SyncfusionUtils from \"./../../../services/SyncfusionUtils.js\";\r\n\r\nconst StyledDiv = styled.div`\r\n    .e-input-group, .e-input-group.e-control-wrapper{\r\n        height: calc(1.5em + 0.75rem + 2px);\r\n        line-height: 1.5;\r\n        font-size: 1rem;\r\n        font-weight: 400;\r\n        color: #495057;\r\n        background-color: #fff;\r\n        background-clip: padding-box;\r\n        border: 1px solid;\r\n        border-color: ${props => props.isInvalid === true ? \"#dc3545 !important\" : \"#ced4da\"};\r\n        border-radius: 0.25rem;\r\n    } \r\n\r\n    .e-input-group.e-error, .e-input-group.e-control-wrapper.e-error, .e-input-group.e-error:not(.e-float-icon-left), .e-input-group.e-control-wrapper.e-error:not(.e-float-icon-left) {\r\n        border-color: #ced4da;\r\n    }\r\n\r\n    .e-input-group.e-error .e-input-group-icon, .e-input-group.e-control-wrapper.e-error .e-input-group-icon{\r\n        border-color: #ced4da;\r\n    }\r\n    \r\n    .e-input-group input.e-input, .e-input-group.e-control-wrapper input.e-input, .e-float-input input, .e-float-input.e-control-wrapper input, .e-input-group textarea.e-input, .e-input-group.e-control-wrapper textarea.e-input, .e-float-input textarea, .e-float-input.e-control-wrapper textarea, .e-input-group .e-input[disabled], .e-input-group.e-control-wrapper .e-input[disabled], .e-input-group.e-disabled input.e-input, .e-input-group.e-control-wrapper.e-disabled input.e-input, .e-input-group.e-disabled textarea.e-input, .e-input-group.e-control-wrapper.e-disabled textarea.e-input {\r\n        margin-top: 0.225rem;\r\n    }\r\n`;\r\n\r\nfunction RecurrenceEditorv2(props) {\r\n    const { language, dateFormat, isInvalid, firstDayOfWeek = 1 } = props;\r\n    var invalid = isInvalid === true || _.isEmpty(isInvalid) === false;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <StyledDiv isInvalid={invalid}>\r\n                <RecurrenceEditorComponent\r\n                    {...props}\r\n                    firstDayOfWeek={firstDayOfWeek}\r\n                    locale={SyncfusionUtils.getLocaleByLanguage(language)}\r\n                    dateFormat={dateFormat || \"dd/MM/yyyy\"}>\r\n                </RecurrenceEditorComponent>\r\n            </StyledDiv>\r\n        </React.Fragment>\r\n    )\r\n}\r\nexport default RecurrenceEditorv2;","import React, { useState, useEffect } from \"react\";\r\nimport { ScheduleComponent, Inject, ViewDirective, ViewsDirective, Day, Week, WorkWeek, Month, Agenda } from \"@syncfusion/ej2-react-schedule\";\r\nimport moment from \"moment\";\r\nimport _ from \"lodash\";\r\nimport * as SyncfusionUtils from \"./../../../services/SyncfusionUtils\";\r\n\r\nconst dateFormat = \"DD/MM/YYYY\";\r\nvar scheduleObj = {};\r\n\r\nfunction SchedulerV2(props) {\r\n    const { language = \"En\", height, dayView, weekView, workWeekView, monthView, agendaView, currentView: startingCurrentView, firstDayOfWeek = 1, closedDates = [], events, onChangeDate, onChangeView, onChangeAgendaRange } = props;\r\n    const [selectedDate, setSelectedDate] = useState(moment().format(dateFormat));\r\n    const [currentView, setCurrentView] = useState(startingCurrentView || \"Month\");\r\n\r\n    /*************************************************************************/\r\n    /*************************** STANDARD ************************************/\r\n    /*************************************************************************/\r\n    useEffect(() => {\r\n        if (_.isEmpty(scheduleObj) === false) {\r\n            scheduleObj.refresh();\r\n        }\r\n    }, [language, closedDates])\r\n\r\n    useEffect(() => {\r\n        if (_.isEmpty(scheduleObj) === false) {\r\n            scheduleObj.changeCurrentView(currentView);\r\n            changeAgendaRange();\r\n        }\r\n    }, [currentView])\r\n\r\n    /*************************************************************************/\r\n    /*************************** FUNCTIONS ***********************************/\r\n    /*************************************************************************/\r\n    function cellClick(args) {\r\n        var { cancel, element, endTime, event, isAllDay, name, startTime } = args;\r\n        var parsedDate = moment(startTime).format(dateFormat);\r\n        setSelectedDate(parsedDate);\r\n        scheduleObj.refresh();\r\n        if (onChangeDate) {\r\n            var parsedStartTime = moment(startTime);\r\n            onChangeDate(parsedStartTime);\r\n        }\r\n    }\r\n\r\n    function popupOpen(args) {\r\n        var { cancel, data, element, name, target, type } = args;\r\n        if (type === \"QuickInfo\" || type === \"Editor\") {\r\n            args.cancel = true;\r\n        }\r\n    }\r\n\r\n    function actionComplete(args) {\r\n        var { items, name, requestType } = args;\r\n        if (requestType === \"toolBarItemRendered\") {\r\n            var todayButton = _.find(items || [], { cssClass: \"e-today\" });\r\n            if (_.isEmpty(todayButton) === false) {\r\n                todayButton.click = () => {\r\n                    var previousDate = new Date(2001, 1, 1);\r\n                    var currentDate = new Date();\r\n                    scheduleObj.navigating({\r\n                        action: \"date\",\r\n                        previousDate: previousDate,\r\n                        currentDate: currentDate,\r\n                    });\r\n                    setTimeout(() => {\r\n                        cellClick({ startTime: currentDate })\r\n                    }, 10)\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    function changeAgendaRange() {\r\n        if (currentView === \"Agenda\" && onChangeAgendaRange) {\r\n            setTimeout(() => {\r\n                var first = moment(_.first(scheduleObj.activeView.renderDates));\r\n                var last = moment(_.last(scheduleObj.activeView.renderDates));\r\n                onChangeAgendaRange(first, last);\r\n            }, 100)\r\n        }\r\n    }\r\n\r\n    function manageViewAction(args) {\r\n        var { currentView } = args;\r\n        setCurrentView(currentView);\r\n        if (onChangeView) {\r\n            currentView = currentView;\r\n            onChangeView(currentView);\r\n        }\r\n    }\r\n\r\n    function manageDateAction(args) {\r\n        var { currentDate, previousDate, currentView } = args;\r\n        var today = moment().format(dateFormat);\r\n        previousDate = previousDate ? moment(previousDate).format(dateFormat) : null;\r\n        currentDate = currentDate ? moment(currentDate).format(dateFormat) : null;\r\n\r\n        if (\r\n            currentDate &&\r\n            currentDate === today &&\r\n            previousDate !== today &&\r\n            currentView === \"Month\"\r\n        ) {\r\n            scheduleObj.selectedDate = new Date();\r\n            cellClick({ startTime: new Date() })\r\n        }\r\n    }\r\n\r\n    function navigating(args) {\r\n        var { action, cancel, currentDate, name, previousDate, currentView } = args;\r\n\r\n        switch (action) {\r\n            case \"date\":\r\n                manageDateAction(args);\r\n                break;\r\n            case \"view\":\r\n                manageViewAction(args);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        changeAgendaRange();\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /*************************** RENDER **************************************/\r\n    /*************************************************************************/\r\n    function checkSelectedDate(args) {\r\n        var { date, element, elementType, groupIndex, name } = args;\r\n        var parsedSelectedDate = moment(selectedDate, dateFormat).format(dateFormat);\r\n\r\n        var parsedCellDate = moment(date).format(dateFormat);\r\n        if (elementType === \"monthCells\" && parsedCellDate === parsedSelectedDate) {\r\n            element.setAttribute(\"style\", \"background-color:rgb(0, 123, 255, 0.2)\");\r\n            element.classList.remove(\"e-current-date\");\r\n        } else {\r\n            element.removeAttribute(\"style\", \"background-color:rgb(0, 123, 255, 0.2)\");\r\n            element.classList.remove(\"e-current-date\");\r\n        }\r\n\r\n        var selectedDateWeekday = moment(parsedSelectedDate, dateFormat).format(\"dddd\");\r\n        if (elementType === \"monthDay\") {\r\n            if (element.textContent === selectedDateWeekday) {\r\n                element.classList.add(\"e-current-day\");\r\n            } else {\r\n                element.classList.remove(\"e-current-day\");\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    function parseClosedDates(closedDates) {\r\n        var parsedClosedDates = _.map(closedDates || [], (date) => {\r\n            var parsedDate = moment(date).format(dateFormat);\r\n            return parsedDate;\r\n        })\r\n        return parsedClosedDates;\r\n    }\r\n\r\n    function checkClosedDate(args) {\r\n        var { date, element, elementType, groupIndex, name } = args;\r\n\r\n        var parsedClosedDates = parseClosedDates(closedDates) || [];\r\n        var parsedCellDate = moment(date).format(dateFormat);\r\n        if (elementType === \"monthCells\" && _.indexOf(parsedClosedDates, parsedCellDate) > -1) {\r\n            args.element.classList.add(\"e-current-date\");\r\n            var innerElement = element.getElementsByClassName(\"e-date-header e-navigate\")[0];\r\n            innerElement.setAttribute(\"style\", \"background-color:#dc3545\");\r\n        }\r\n    }\r\n\r\n    function renderCell(args) {\r\n        checkSelectedDate(args);\r\n        checkClosedDate(args);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ScheduleComponent\r\n                locale={SyncfusionUtils.getLocaleByLanguage(language)}\r\n                ref={(schedule) => { scheduleObj = schedule }}\r\n                height={height}\r\n                firstDayOfWeek={firstDayOfWeek}\r\n                editorTemplate={() => { return <div></div> }}\r\n                eventSettings={events || []}\r\n                renderCell={renderCell}\r\n                cellClick={cellClick}\r\n                popupOpen={popupOpen}\r\n                actionComplete={actionComplete}\r\n                navigating={navigating}>\r\n                <ViewsDirective>\r\n                    {dayView === true && <ViewDirective option='Day' />}\r\n                    {weekView === true && <ViewDirective option='Week' />}\r\n                    {workWeekView === true && <ViewDirective option='WorkWeek' />}\r\n                    {monthView === true && <ViewDirective option=\"Month\" />}\r\n                    {agendaView === true && <ViewDirective option=\"Agenda\" />}\r\n                </ViewsDirective>\r\n                <Inject services={[Day, Week, WorkWeek, Month, Agenda]} />\r\n            </ScheduleComponent>\r\n        </React.Fragment>\r\n    )\r\n}\r\nexport default SchedulerV2;","import React from \"react\";\r\n// import { OrbitalErrorDiv } from \"orbital_common_components\";\r\nimport { TimePickerComponent } from \"@syncfusion/ej2-react-calendars\";\r\nimport styled from \"styled-components\";\r\nimport _ from \"lodash\";\r\n\r\nimport OrbitalErrorDiv from \"./../../OrbitalErrorDiv\";\r\n\r\nconst StyledDiv = styled.div`\r\n    .e-input-group, .e-input-group.e-control-wrapper{\r\n        height: calc(1.5em + 0.75rem + 2px);\r\n        line-height: 1.5;\r\n        font-size: 1rem;\r\n        font-weight: 400;\r\n        color: #495057;\r\n        background-color: #fff;\r\n        background-clip: padding-box;\r\n        border: 1px solid;\r\n        border-color: ${props => props.isInvalid === true ? \"#dc3545 !important\" : \"#ced4da\"};\r\n        border-radius: 0.25rem;\r\n    } \r\n    \r\n    .e-input-group.e-error, .e-input-group.e-control-wrapper.e-error, .e-input-group.e-error:not(.e-float-icon-left), .e-input-group.e-control-wrapper.e-error:not(.e-float-icon-left) {\r\n        border-color: #ced4da;\r\n    }\r\n\r\n    .e-input-group.e-error .e-input-group-icon, .e-input-group.e-control-wrapper.e-error .e-input-group-icon{\r\n        border-color: #ced4da;\r\n    }\r\n    \r\n    .e-input-group input.e-input, .e-input-group.e-control-wrapper input.e-input, .e-float-input input, .e-float-input.e-control-wrapper input, .e-input-group textarea.e-input, .e-input-group.e-control-wrapper textarea.e-input, .e-float-input textarea, .e-float-input.e-control-wrapper textarea, .e-input-group .e-input[disabled], .e-input-group.e-control-wrapper .e-input[disabled], .e-input-group.e-disabled input.e-input, .e-input-group.e-control-wrapper.e-disabled input.e-input, .e-input-group.e-disabled textarea.e-input, .e-input-group.e-control-wrapper.e-disabled textarea.e-input {\r\n        margin-top: 0.225rem;\r\n    }\r\n`;\r\n\r\nfunction TimePickerv2(props) {\r\n    const { enabled, disabled, isInvalid, errorMessage } = props;\r\n    const isEnabled = enabled === false || disabled === true ? false : true;\r\n    const invalid = isInvalid === true || _.isEmpty(isInvalid) === false;\r\n\r\n    return <React.Fragment>\r\n        <StyledDiv isInvalid={invalid}>\r\n            <TimePickerComponent {...props} enabled={isEnabled} ></TimePickerComponent>\r\n        </StyledDiv>\r\n        {isInvalid &&\r\n            <OrbitalErrorDiv>{errorMessage}</OrbitalErrorDiv>\r\n        }\r\n    </React.Fragment>\r\n\r\n}\r\nexport default TimePickerv2;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst StyledDiv = styled.div`\r\n    font-weight:  ${props => (props.halfbold) === true ? \"500\" : \"normal\"};;\r\n`;\r\n\r\nconst StyledSpan = styled.span`\r\n    color: #dc3545;\r\n`;\r\n\r\nfunction MandatoryFieldLabel(props) {\r\n    return <StyledDiv {...props}>\r\n        <StyledSpan>* </StyledSpan><span>{props.value}</span>\r\n    </StyledDiv>\r\n}\r\nexport default MandatoryFieldLabel;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst StyledDiv = styled.div`\r\n    font-weight:  ${props => (props.halfbold) === true ? \"500\" : \"normal\"};;\r\n    color:  ${props => (props.isTransparent || props.istransparent) === true ? \"transparent\" : null};\r\n`;\r\n\r\nfunction NormalFieldLabel(props) {\r\n    return <StyledDiv {...props}>{props.value}</StyledDiv>\r\n}\r\nexport default NormalFieldLabel","import React from 'react';\r\nimport LoadingOverlay from 'react-loading-overlay';\r\n\r\nfunction CustomLoadingOverlay(props) {\r\n    return <LoadingOverlay {...props}\r\n        styles={{\r\n            overlay: (base) => ({\r\n                ...base,\r\n                background: 'rgba(24, 144, 255, 0.5)'\r\n            })\r\n        }}>\r\n        {props.children}\r\n    </LoadingOverlay>\r\n}\r\nexport default CustomLoadingOverlay;","import React, { Component } from \"react\";\r\nimport { Editor } from \"react-draft-wysiwyg\";\r\nimport { EditorState, convertToRaw, ContentState } from \"draft-js\";\r\nimport draftToHtml from \"draftjs-to-html\";\r\nimport htmlToDraft from \"html-to-draftjs\";\r\nimport styled from \"styled-components\";\r\nimport _ from \"lodash\";\r\n\r\n// import { LoadingOverlay } from \"orbital_common_components\";\r\nimport LoadingOverlay from \"../../LoadingOverlay\";\r\n\r\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\r\n\r\nconst StyledDiv = styled.div`\r\n  .rdw-editor-toolbar{\r\n    border-top-color: white;\r\n    border-right-color: white;\r\n    border-left-color: white;\r\n    border-bottom-color: #d9d9d9;\r\n    z-index: 1;\r\n  }\r\n\r\n  .rdw-editor-wrapper{\r\n    border: 1px solid;\r\n    border-color: ${props => props.isInvalid === true ? \"#ff4d4f\" : \"#d9d9d9\"};\r\n  }\r\n\r\n  .rdw-editor-main{\r\n    height: ${props => props.editorHeight};\r\n    max-height: ${props => props.maxHeight};\r\n  }\r\n`;\r\n\r\nclass HTMLTextEditor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n      init: 0,\r\n      editorState: EditorState.createEmpty()\r\n    };\r\n\r\n    this.onEditorStateChange = this.onEditorStateChange.bind(this);\r\n    this.uploadImageCallBack = this.uploadImageCallBack.bind(this);\r\n  }\r\n\r\n  /*************************************************************************/\r\n  /************************** STANDARD *************************************/\r\n  /*************************************************************************/\r\n  componentDidMount() {\r\n    this.parseData(this.props.data);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (this.props.data != nextProps.data && this.state.init == 0) {\r\n      this.setState({ init: 1 });\r\n      this.parseData(nextProps.data);\r\n    } else if (this.props.data != nextProps.data && this.props.lang != nextProps.lang) {\r\n      this.parseData(nextProps.data);\r\n    }\r\n  }\r\n\r\n  parseData(data) {\r\n    data = _.isEmpty(data) === false ? data : \"\";\r\n    const contentBlock = htmlToDraft(data);\r\n    if (contentBlock) {\r\n      const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\r\n      const editorState = EditorState.createWithContent(contentState);\r\n      this.setState({ editorState: editorState });\r\n    }\r\n  }\r\n\r\n  /*************************************************************************/\r\n  /************************** FUNCTIONS ************************************/\r\n  /*************************************************************************/\r\n  uploadImageCallBack(file) {\r\n    var self = this;\r\n    return new Promise(function (resolve, reject) {\r\n      self.setState({ loading: true }, () => {\r\n        self.props\r\n          .onUploadImage(file)\r\n          .then(imageUrl => {\r\n            var uploadResponse = { data: { link: imageUrl } };\r\n            resolve(uploadResponse);\r\n          })\r\n          .catch(error => {\r\n            reject(error);\r\n          })\r\n          .finally(() => {\r\n            self.setState({ loading: false });\r\n          });\r\n      });\r\n    });\r\n  }\r\n\r\n  onEditorStateChange(editorState) {\r\n    this.props.onChange(draftToHtml(convertToRaw(editorState.getCurrentContent())));\r\n    this.setState({ editorState: editorState });\r\n  }\r\n\r\n  /*************************************************************************/\r\n  /************************** RENDER ***************************************/\r\n  /*************************************************************************/\r\n  render() {\r\n    var { localization, disabled, error, isInvalid, editorHeight, maxHeight } = this.props;\r\n    var { editorState, loading } = this.state;\r\n\r\n    return (\r\n      <LoadingOverlay active={loading} spinner text={(localization.loading || \"Loading\") + \"...\"}>\r\n        <StyledDiv isInvalid={error || isInvalid} editorHeight={editorHeight} maxHeight={maxHeight}>\r\n          <Editor\r\n            readOnly={disabled}\r\n            toolbarHidden={disabled}\r\n            editorClassName={\"editor_style\"}\r\n            toolbar={{\r\n              options: [\"inline\", \"blockType\", \"fontFamily\", \"fontSize\", \"list\", \"textAlign\", \"link\", \"image\", \"remove\", \"history\"],\r\n              inline: { inDropdown: true },\r\n              list: { inDropdown: true },\r\n              textAlign: { inDropdown: true },\r\n              link: { inDropdown: true },\r\n              history: { inDropdown: true },\r\n              image: {\r\n                uploadCallback: this.uploadImageCallBack,\r\n                previewImage: true,\r\n                inputAccept: \"image/gif,image/jpeg,image/jpg,image/png,image/svg\",\r\n                alt: { present: true, mandatory: false },\r\n                defaultSize: { width: \"100%\", height: \"100%\" }\r\n              }\r\n            }}\r\n            editorState={editorState}\r\n            onEditorStateChange={this.onEditorStateChange}>\r\n            <textarea disabled value={draftToHtml(convertToRaw(editorState.getCurrentContent()))} />\r\n          </Editor>\r\n        </StyledDiv>\r\n      </LoadingOverlay>\r\n    );\r\n  }\r\n}\r\nexport default HTMLTextEditor;","export const items = [\r\n    'Bold',\r\n    'Italic',\r\n    'Underline',\r\n    'StrikeThrough',\r\n    'FontName',\r\n    'FontSize',\r\n    // 'FontColor',\r\n    // 'BackgroundColor',\r\n    'LowerCase',\r\n    'UpperCase',\r\n    '|',\r\n    'Formats',\r\n    'Alignments',\r\n    'NumberFormatList',\r\n    'BulletFormatList',\r\n    'Outdent',\r\n    'Indent',\r\n    'SuperScript',\r\n    'SubScript',\r\n    '|',\r\n    'CreateTable',\r\n    'CreateLink',\r\n    'Image',\r\n    // 'FileManager',\r\n    '|',\r\n    'ClearFormat',\r\n    'Print',\r\n    'SourceCode',\r\n    'FullScreen',\r\n    '|',\r\n    'Undo',\r\n    'Redo'\r\n];\r\n\r\nexport const tableItems = [\r\n    'TableHeader',\r\n    'TableRows',\r\n    'TableColumns',\r\n    'TableCell',\r\n    '-',\r\n    'BackgroundColor',\r\n    'TableRemove',\r\n    'TableCellVerticalAlign',\r\n    'Styles'\r\n]\r\n\r\nexport const imageItems = [\r\n    'Replace',\r\n    'Align',\r\n    'Caption',\r\n    'Remove',\r\n    'InsertLink',\r\n    'OpenImageLink',\r\n    '-',\r\n    'EditImageLink',\r\n    'RemoveImageLink',\r\n    'Display',\r\n    'AltText',\r\n    'Dimension',\r\n    // {\r\n    //     tooltipText: 'Rotate Left',\r\n    //     template: '<button class=\"e-tbar-btn e-btn\" id=\"roatateLeft\"><span class=\"e-btn-icon e-icons e-rotate-left\"></span>'\r\n    // },\r\n    // {\r\n    //     tooltipText: 'Rotate Right',\r\n    //     template: '<button class=\"e-tbar-btn e-btn\" id=\"roatateRight\"><span class=\"e-btn-icon e-icons e-rotate-right\"></span>'\r\n    // }\r\n];","// @import url(\"https://cdn.syncfusion.com/ej2/20.3.60/bootstrap4.css\");\r\n\r\nimport React, { useEffect } from \"react\";\r\nimport { RichTextEditorComponent, Toolbar, Inject, Image, Link, HtmlEditor, Count, QuickToolbar, Table, PasteCleanup } from '@syncfusion/ej2-react-richtexteditor';\r\nimport { FileManager } from '@syncfusion/ej2-react-richtexteditor';\r\nimport _ from \"lodash\";\r\n\r\nimport * as SyncfusionUtils from \"./../../../services/SyncfusionUtils\";\r\nimport { items, tableItems, imageItems } from \"./HtmlEditorItems\";\r\n\r\nfunction HTMLEditor(props) {\r\n    const { language = \"En\", height, enabled, disabled, value, onChange } = props;\r\n    const isEnabled = enabled === false || disabled === true ? false : true;\r\n    var rteObj;\r\n\r\n    /*************************************************************************/\r\n    /************************ STANDARD ***************************************/\r\n    /*************************************************************************/\r\n    useEffect(() => {\r\n        try {\r\n            var element = document.getElementById(\"js-licensing\");\r\n            if (element) {\r\n                element.remove();\r\n            }\r\n\r\n            var aTags = document.getElementsByTagName(\"a\");\r\n            var searchText = \"Claim your free account\";\r\n            _.each(aTags, (tag) => {\r\n                if (tag && tag.textContent.toLowerCase() == searchText.toLowerCase()) {\r\n                    var parentElement = tag.parentElement;\r\n                    parentElement.remove();\r\n\r\n                    var secondParentElement = parentElement.parentElement;\r\n                    if (secondParentElement) {\r\n                        secondParentElement.remove();\r\n\r\n                        var thirdParentElement = secondParentElement.parentElement;\r\n                        if (thirdParentElement) {\r\n                            thirdParentElement.remove();\r\n\r\n                            var fourthParentElement = thirdParentElement.parentElement;\r\n                            if (fourthParentElement) {\r\n                                fourthParentElement.remove();\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    var divTags = document.getElementsByTagName(\"div\");\r\n                    _.each(divTags, (tag) => {\r\n                        if (tag) {\r\n                            var style = tag.style;\r\n                            if (style.position === \"fixed\" &&\r\n                                style.width == \"100%\" &&\r\n                                style.height == \"100%\" &&\r\n                                style.zIndex == \"99999\" &&\r\n                                style.backgroundColor == \"rgba(0, 0, 0, 0.5)\") {\r\n                                tag.remove();\r\n                                return;\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n        } catch (e) {\r\n            console.error(e)\r\n        }\r\n    })\r\n\r\n    /*************************************************************************/\r\n    /************************ RENDER ***************************************/\r\n    /*************************************************************************/\r\n    const quickToolbarSettings = {\r\n        table: tableItems,\r\n        image: imageItems\r\n    };\r\n\r\n    const toolbarSettings = {\r\n        items: items\r\n    };\r\n\r\n    return (\r\n        <RichTextEditorComponent\r\n            id=\"toolsRTE\"\r\n            height={height}\r\n            locale={SyncfusionUtils.getLocaleByLanguage(language)}\r\n            ref={(richtexteditor) => { rteObj = richtexteditor; }}\r\n            enabled={isEnabled}\r\n            value={value}\r\n            toolbarSettings={toolbarSettings}\r\n            pasteCleanupSettings={{\r\n                prompt: true,\r\n                plainText: false,\r\n                keepFormat: false\r\n            }}\r\n            insertImageSettings={{\r\n                allowedTypes: [\".png\", \".png\"],\r\n                display: \"inline\",\r\n                width: \"auto\",\r\n                height: \"auto\",\r\n                saveFormat: \"Base64\"\r\n            }}\r\n            quickToolbarSettings={quickToolbarSettings}\r\n            showCharCount={true}\r\n            change={(e) => {\r\n                onChange(e.value)\r\n            }}>\r\n            <Inject services={[Toolbar, Image, Link, HtmlEditor, Count, QuickToolbar, Table, FileManager, PasteCleanup]} />\r\n        </RichTextEditorComponent>\r\n    );\r\n}\r\nexport default HTMLEditor;","import React, { Component } from \"react\";\r\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\r\nimport _ from \"lodash\";\r\n\r\nclass CustomTooltip extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    render() {\r\n        var placement = this.props.placement || \"top\";\r\n        var delay = this.props.delay || { show: 250, hide: 400 };\r\n        var tooltip = this.props.tooltip || \"\";\r\n        var children = this.props.children || <div>Error children</div>\r\n\r\n        if (_.isEmpty(tooltip) === true) {\r\n            return <React.Fragment>\r\n                {children}\r\n            </React.Fragment>\r\n        } else {\r\n            return (\r\n                <OverlayTrigger\r\n                    style={this.props.style}\r\n                    className={this.props.className}\r\n                    placement={placement}\r\n                    delay={{ delay }}\r\n                    overlay={<Tooltip>\r\n                        {tooltip}\r\n                    </Tooltip>}>\r\n                    {children}\r\n                </OverlayTrigger>\r\n            )\r\n        }\r\n    }\r\n}\r\nexport default CustomTooltip;","\r\nexport default class ImageService {\r\n  static compress({ file, divider }) {\r\n    return new Promise((resolve, reject) => {\r\n\r\n      const fileName = file.name;\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = event => {\r\n        const img = new Image();\r\n        img.src = event.target.result;\r\n        img.onload = () => {\r\n          const elem = document.createElement(\"canvas\");\r\n          elem.width = img.width / divider;\r\n          elem.height = img.height / divider;\r\n          const ctx = elem.getContext(\"2d\");\r\n          // img.width and img.height will contain the original dimensions\r\n          ctx.drawImage(img, 0, 0, img.width / divider, img.height / divider);\r\n          ctx.canvas.toBlob(\r\n            blob => {\r\n              const newFile = new File(\r\n                [blob],\r\n                [\r\n                  fileName.slice(0, fileName.indexOf(\".\")),\r\n                  `(${divider})`,\r\n                  fileName.slice(fileName.indexOf(\".\"))\r\n                ].join(\"\"),\r\n                {\r\n                  type: file.type,\r\n                  lastModified: Date.now()\r\n                }\r\n              );\r\n              resolve(newFile);\r\n            },\r\n            file.type,\r\n            1\r\n          );\r\n        };\r\n        reader.onerror = error => reject(error);\r\n      };\r\n    });\r\n  }\r\n\r\n  static batchCompress(file) {\r\n    var dividers = [\r\n      {\r\n        file,\r\n        divider: 1\r\n      },\r\n      {\r\n        file,\r\n        divider: 2\r\n      },\r\n      {\r\n        file,\r\n        divider: 3\r\n      },\r\n      {\r\n        file,\r\n        divider: 4\r\n      }\r\n    ];\r\n    var actions = dividers.map(ImageService.compress);\r\n    var results = Promise.all(actions);\r\n    return results;\r\n  }\r\n\r\n  static getResizedCanvas(canvas, newWidth, newHeight) {\r\n    var tmpCanvas = document.createElement(\"canvas\");\r\n    tmpCanvas.width = newWidth;\r\n    tmpCanvas.height = newHeight;\r\n\r\n    var ctx = tmpCanvas.getContext(\"2d\");\r\n    ctx.drawImage(\r\n      canvas,\r\n      0,\r\n      0,\r\n      canvas.width,\r\n      canvas.height,\r\n      0,\r\n      0,\r\n      newWidth,\r\n      newHeight\r\n    );\r\n\r\n    return tmpCanvas;\r\n  }\r\n}","import React from \"react\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faDownload, faTrashAlt, faPencilAlt, faCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { faTimesCircle, faSave } from '@fortawesome/free-regular-svg-icons';\r\nimport { Button } from 'react-bootstrap';\r\nimport styled from \"styled-components\";\r\n\r\nconst ImageBoxDiv = styled.div`\r\n    position: relative;\r\n`;\r\nfunction ImageBox(props) {\r\n    return <ImageBoxDiv>{props.children}</ImageBoxDiv>\r\n}\r\n\r\nconst IconsBoxDiv = styled.div`\r\n    position: absolute;\r\n    z-index: 10;\r\n    top: -3px;\r\n    left: -17px;\r\n`;\r\n\r\nfunction IconsBox(props) {\r\n    return <IconsBoxDiv>{props.children}</IconsBoxDiv>\r\n}\r\n\r\nconst StyledFaCircleUpdate = styled(FontAwesomeIcon)`\r\n    opacity: 0.7;\r\n    color: #007bff;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst StyledPencilAlt = styled(FontAwesomeIcon)`\r\n    color: white;\r\n    cursor: pointer;\r\n`;\r\n\r\nfunction UpdateImageIcon() {\r\n    return <span className=\"fa-stack small\">\r\n        <StyledFaCircleUpdate className=\"fa-stack-2x\" icon={faCircle} />\r\n        <StyledPencilAlt className=\"fa-stack-1x\" icon={faPencilAlt} />\r\n    </span>\r\n}\r\n\r\nconst StyledDivDeleteImage = styled.div`\r\n    top: -10px\r\n`;\r\n\r\nconst StyledFaCircleDelete = styled(FontAwesomeIcon)`\r\n    opacity: 0.7;\r\n    color: #dc3545;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst StyledTrashAlt = styled(FontAwesomeIcon)`\r\n    color: white;\r\n    cursor: pointer;\r\n`;\r\n\r\nfunction DeleteImageIcon(props) {\r\n    return <StyledDivDeleteImage className=\"fa-stack small\" {...props}>\r\n        <StyledFaCircleDelete className=\"fa-stack-2x\" icon={faCircle} />\r\n        <StyledTrashAlt className=\"fa-stack-1x\" icon={faTrashAlt} />\r\n    </StyledDivDeleteImage>\r\n}\r\n\r\n\r\nconst StyledImg = styled.img`\r\n    max-width: 100% !important;\r\n    max-height: 100%;\r\n    cursor: pointer;\r\n`;\r\nfunction StyledImage(props) {\r\n    return <StyledImg {...props}></StyledImg>\r\n}\r\n\r\nconst StyledButton = styled(Button)`\r\n    width: 104px;\r\n    height: 104px;\r\n    background-color: #fafafa;\r\n    text-align: center;\r\n    border-radius: 4px;\r\n    vertical-align: top;\r\n    border: 1px dashed;\r\n    border-color: ${(props) => ((props.error === true || props.isInvalid === true) ? \"#dc3545\" : \"#d9d9d9\")};\r\n`;\r\nfunction UploadImageButton(props) {\r\n    return <StyledButton {...props}>{props.children}</StyledButton>\r\n}\r\n\r\n\r\nconst StyledDivErrorMessage = styled.div`\r\n    margin-top: 0.25rem;\r\n    font-size: 80%;\r\n    color: #dc3545;\r\n`;\r\nfunction ErrorMessage(props) {\r\n    return <StyledDivErrorMessage>{props.children}</StyledDivErrorMessage>\r\n}\r\n\r\nconst StyledFontAwesomeIconClose = styled(FontAwesomeIcon)`\r\n    cursor: pointer;\r\n    font-size: 1.5rem;\r\n    color: grey\r\n`;\r\nfunction CloseIcon(props) {\r\n    return <span><StyledFontAwesomeIconClose icon={faTimesCircle} {...props}></StyledFontAwesomeIconClose></span>\r\n}\r\n\r\n\r\nconst StyledFontAwesomeIconCropper = styled(FontAwesomeIcon)`\r\n    font-size: 1.5rem;\r\n    margin-right: 15px;\r\n    cursor: ${(props) => (props.isError === true ? \"not-allowed\" : \"pointer\")};\r\n    color: ${(props) => (props.isError === true ? \"#dee2e6\" : \"#007bff\")};\r\n`;\r\n\r\nfunction CropperDownloadIcon(props) {\r\n    return <span><StyledFontAwesomeIconCropper {...props} icon={faDownload}></StyledFontAwesomeIconCropper></span>\r\n}\r\n\r\nconst StyledFontAwesomeIconSave = styled(FontAwesomeIcon)`\r\n    font-size: 1.5rem;\r\n    margin-right: 15px;\r\n    cursor: ${(props) => (props.isError === true ? \"not-allowed\" : \"pointer\")};\r\n    color: ${(props) => (props.isError === true ? \"#dee2e6\" : \"#007bff\")};\r\n`;\r\nfunction CropperSaveIcon(props) {\r\n    return <span><StyledFontAwesomeIconSave {...props} icon={faSave}></StyledFontAwesomeIconSave></span>\r\n}\r\n\r\nexport {\r\n    ImageBox, IconsBox, UpdateImageIcon, DeleteImageIcon, StyledImage, UploadImageButton, ErrorMessage, CloseIcon,\r\n    CropperDownloadIcon, CropperSaveIcon\r\n};","import React, { Component } from \"react\";\r\nimport { Row, Col, Card, Image } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport uuidV4 from \"uuid/v4\";\r\nimport Cropper from 'cropperjs';\r\n\r\nimport Tooltip from \"../Tooltip\";\r\nimport ImageService from \"./ImageService\";\r\n\r\nimport { CropperDownloadIcon, CropperSaveIcon, CloseIcon } from \"./styledComponents\";\r\n\r\nimport 'cropperjs/dist/cropper.css';\r\n\r\n// https://fengyuanchen.github.io/cropperjs/\r\n// https://www.npmjs.com/package/react-image-file-resizer\r\n\r\nclass CropImage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            src: null,\r\n            croppedImageUrl: null,\r\n            isError: true\r\n        }\r\n\r\n        this.downloadCroppedImg = this.downloadCroppedImg.bind(this);\r\n        this.parseCroppedImage = this.parseCroppedImage.bind(this);\r\n        this.start = this.start.bind(this);\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************** STANDARD *************************************/\r\n    /*************************************************************************/\r\n    componentDidMount() {\r\n        this.setState({\r\n            src: this.props.src\r\n        }, () => {\r\n            this.start();\r\n        })\r\n    }\r\n\r\n    checkCroppedDimensionsErrors(props, croppedWidth, croppedHeight, showMessage) {\r\n        var { minCroppedWidth, maxCroppedWidth, minCroppedHeight, maxCroppedHeight, localization } = props;\r\n        var isError = false;\r\n\r\n        if (minCroppedWidth != null && croppedWidth < minCroppedWidth) {\r\n            isError = true;\r\n            if (showMessage == true) {\r\n                toast.warn(localization.minCroppedWidth || \"minCroppedWidth\");\r\n            }\r\n        }\r\n        if (maxCroppedWidth != null && croppedWidth > maxCroppedWidth) {\r\n            isError = true;\r\n            if (showMessage == true) {\r\n                toast.warn(localization.maxCroppedWidth || \"maxCroppedWidth\");\r\n            }\r\n        }\r\n\r\n        if (minCroppedHeight != null && croppedHeight < minCroppedHeight) {\r\n            isError = true;\r\n            if (showMessage == true) {\r\n                toast.warn(localization.minCroppedHeight || \"minCroppedHeight\");\r\n            }\r\n        }\r\n        if (maxCroppedHeight != null && croppedHeight > maxCroppedHeight) {\r\n            isError = true;\r\n            if (showMessage == true) {\r\n                toast.warn(localization.maxCroppedHeight || \"maxCroppedHeight\");\r\n            }\r\n        }\r\n\r\n        return isError;\r\n    }\r\n\r\n    start() {\r\n        var self = this;\r\n        var aspectRatio = null;\r\n        if (self.props.aspectRatio) {\r\n            aspectRatio = self.props.aspectRatio.split(\":\");\r\n            aspectRatio = parseInt(aspectRatio[0]) / parseInt(aspectRatio[1]);\r\n        }\r\n\r\n        const image = document.getElementById('image');\r\n        self.cropper = new Cropper(image, {\r\n            zoomable: false,\r\n            aspectRatio: aspectRatio,\r\n            minCropBoxWidth: self.props.minCroppedWidth,\r\n            minCropBoxHeight: self.props.minCroppedHeight,\r\n            data: {\r\n                x: 0,\r\n                y: 0,\r\n                width: self.props.startWidthCrop || 10,\r\n                height: self.props.startHeightCrop || 10\r\n            },\r\n            crop(event) {\r\n                var width = event.detail.width;\r\n                var height = event.detail.height;\r\n\r\n                var { minCroppedWidth, maxCroppedWidth, minCroppedHeight, maxCroppedHeight } = self.props;\r\n                var isError = self.checkCroppedDimensionsErrors(self.props, width, height);\r\n\r\n                if (isError == false) {\r\n                    self.cropper.setData({\r\n                        width: Math.max(minCroppedWidth, Math.min(maxCroppedWidth, width)),\r\n                        height: Math.max(minCroppedHeight, Math.min(maxCroppedHeight, height)),\r\n                    });\r\n                    // var data = self.cropper.getData();\r\n\r\n                    // data.width = Math.max(minCroppedWidth, Math.min(maxCroppedWidth, width));\r\n                    // data.height = Math.max(minCroppedHeight, Math.min(maxCroppedHeight, height));\r\n\r\n                    // self.cropper.setData(data);\r\n                }\r\n            },\r\n            cropend(event) {\r\n                var croppedCanvas = self.cropper.getCroppedCanvas();\r\n\r\n                var croppedImageUrl = croppedCanvas.toDataURL();\r\n\r\n                var cropped_width = croppedCanvas.width;\r\n                var cropped_height = croppedCanvas.height;\r\n                var isError = self.checkCroppedDimensionsErrors(self.props, cropped_width, cropped_height, true);\r\n\r\n                self.setState({\r\n                    croppedImageUrl: croppedImageUrl,\r\n                    isError: isError\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************** UPLOAD MANAGEMENT ****************************/\r\n    /*************************************************************************/\r\n    downloadCroppedImg() {\r\n        var { croppedImageUrl, isError } = this.state;\r\n        if (croppedImageUrl != null && isError == false) {\r\n            fetch(this.state.croppedImageUrl, {\r\n                method: \"GET\",\r\n                headers: {}\r\n            })\r\n                .then(response => {\r\n                    response.arrayBuffer().then(function (buffer) {\r\n                        const url = window.URL.createObjectURL(new Blob([buffer]));\r\n                        const link = document.createElement(\"a\");\r\n                        link.href = url;\r\n                        link.setAttribute(\"download\", \"image.png\"); //or any other extension\r\n                        document.body.appendChild(link);\r\n                        link.click();\r\n                    });\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    }\r\n\r\n    parseCroppedImage() {\r\n        var self = this;\r\n        var { croppedImageUrl, isError } = this.state;\r\n\r\n        if (isError == false && croppedImageUrl != null) {\r\n            fetch(croppedImageUrl)\r\n                .then((result) => {\r\n                    return result.blob();\r\n                })\r\n                .then((blobFile) => {\r\n                    return new File([blobFile], \"cropped.png\", { type: \"image/png\" });\r\n                })\r\n                .then((newFile) => {\r\n                    newFile.uid = uuidV4();\r\n                    newFile.url = croppedImageUrl;\r\n\r\n                    return ImageService.batchCompress(newFile);\r\n                })\r\n                .then((response) => {\r\n                    var files = response.map(f => {\r\n                        f.uid = uuidV4();\r\n                        return f;\r\n                    });\r\n\r\n                    self.props.onSave(croppedImageUrl, files)\r\n                })\r\n        }\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************** RENDER ***************************************/\r\n    /*************************************************************************/\r\n    render() {\r\n        var { localization } = this.props;\r\n        var { src, croppedImageUrl, isError } = this.state;\r\n\r\n        return (\r\n            <Card>\r\n                <Card.Header>\r\n                    <span style={{ float: \"right\" }}>\r\n                        <Tooltip tooltip={localization.download || \"Download\"}>\r\n                            <CropperDownloadIcon tooltip={localization.download || \"Download\"} isError={isError} onClick={this.downloadCroppedImg}></CropperDownloadIcon>\r\n                        </Tooltip>\r\n                        <Tooltip tooltip={localization.save || \"Save\"}>\r\n                            <CropperSaveIcon isError={isError} onClick={() => { this.parseCroppedImage() }}></CropperSaveIcon>\r\n                        </Tooltip>\r\n                        <Tooltip tooltip={localization.cancel || \"Cancel\"}>\r\n                            <CloseIcon onClick={this.props.onClose}></CloseIcon>\r\n                        </Tooltip>\r\n                    </span>\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    <Row>\r\n                        <Col sm={5}>\r\n                            {localization.loaded_image_to_crop || \"Loaded image to crop\"}\r\n                        </Col>\r\n                        <Col sm={2} />\r\n                        <Col sm={5}>\r\n                            {localization.cropped_image || \"Cropped image\"}\r\n                        </Col>\r\n                    </Row>\r\n                    <Row style={{ marginTop: \"1rem\" }}>\r\n                        <Col sm={5}>\r\n                            <Image src={src} id=\"image\" fluid />\r\n                        </Col>\r\n                        <Col sm={2} />\r\n                        <Col sm={5}>\r\n                            {croppedImageUrl == null &&\r\n                                <div>\r\n                                    {localization.crop_message || \"Crop the image by creating or moving the 'cropping window'!\"}\r\n                                </div>\r\n                            }\r\n                            {croppedImageUrl &&\r\n                                <Image src={croppedImageUrl} fluid />\r\n                            }\r\n                        </Col>\r\n                    </Row>\r\n                </Card.Body>\r\n            </Card>\r\n        )\r\n    }\r\n}\r\nexport default CropImage;","import React, { Component } from \"react\";\r\nimport { Row, Col, Modal, Card, Image as ReactBootstrapImage } from 'react-bootstrap';\r\nimport { toast } from \"react-toastify\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUpload } from '@fortawesome/free-solid-svg-icons';\r\nimport Resizer from 'react-image-file-resizer';\r\nimport _ from \"lodash\";\r\n\r\nimport Tooltip from \"../Tooltip\";\r\nimport CropImage from \"./CropImage\";\r\nimport { ImageBox, IconsBox, UpdateImageIcon, DeleteImageIcon, StyledImage, UploadImageButton, ErrorMessage, CloseIcon } from \"./styledComponents\";\r\n\r\nclass UploadImage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showPreviewImage: false,\r\n            showCropModal: false,\r\n            image: this.props.image,\r\n            imageToCropSrc: null,\r\n            imageToCrop: null,\r\n            fileName: null,\r\n            fileExtension: null,\r\n            fileType: null\r\n        }\r\n\r\n        this.checkImageRatioAndDimensions = this.checkImageRatioAndDimensions.bind(this);\r\n        this.handleFileUpload = this.handleFileUpload.bind(this);\r\n        this.manageUploadedFile = this.manageUploadedFile.bind(this);\r\n        this.onRemove = this.onRemove.bind(this);\r\n        this.saveCrop = this.saveCrop.bind(this);\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************** STANDARD *************************************/\r\n    /*************************************************************************/\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.image != this.state.image) {\r\n            this.setState({\r\n                image: nextProps.image\r\n            })\r\n        }\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************** UPLOAD IMAGE FROM INPUT  *********************/\r\n    /*************************************************************************/\r\n    handleFileUpload(e) {\r\n        var self = this;\r\n\r\n        var files = e.target.files;\r\n        if (files.length > 0) {\r\n            var fileSrc = files[0];\r\n            var reader = new FileReader();\r\n            reader.onload = function () {\r\n                var data = reader.result;\r\n                self.manageUploadedFile(data, fileSrc);\r\n            };\r\n            reader.readAsDataURL(fileSrc);\r\n        } else {\r\n\r\n        }\r\n    }\r\n\r\n    checkImageRatioAndDimensions(uploadedImage) {\r\n        var self = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var { localization, sizeConstraints, ratio, imageSize, cropProperties } = self.props;\r\n            var { constraints, minHeight, maxHeight, minWidth, maxWidth } = sizeConstraints || {};\r\n            var { cropImage } = cropProperties || {};\r\n            var isError = false;\r\n\r\n            try {\r\n                var currentImageSize = (uploadedImage.length * (3 / 4)) - 1;\r\n                currentImageSize = currentImageSize / 1048576;\r\n                if (cropImage != true && imageSize != null && currentImageSize > imageSize) {\r\n                    var message = (localization.imageSizeMustBeAtMost || \"Image size must be at most\") + \" \" + imageSize.toString() + \"MB\";\r\n                    toast.warn(message);\r\n                    resolve(true);\r\n                    return;\r\n                }\r\n\r\n                var image = new Image();\r\n                image.onload = function () {\r\n                    var imageWidth = this.width;\r\n                    var imageHeight = this.height;\r\n\r\n                    if (ratio && cropImage != true) {\r\n                        var imageRatio = imageWidth / imageHeight;\r\n\r\n                        var tmpRatio = ratio.split(\":\");\r\n                        var tmpRatio = tmpRatio[0] / tmpRatio[1];\r\n\r\n                        if (imageRatio != tmpRatio) {\r\n                            isError = true;\r\n                            var message = (localization.errorAspectRatio || \"Aspect ratio must be\") + \" \" + ratio;\r\n                            toast.warn(message);\r\n                            reject();\r\n                            return;\r\n                        }\r\n                    }\r\n\r\n                    if (constraints === true) {\r\n                        if (imageWidth < minWidth) {\r\n                            isError = true;\r\n                            var message = localization.imageDimensionsConstraintsAtLeast || \"Image dimensions must be at least\";\r\n                            message = message + \" \" + minWidth + \"x\" + minHeight + \" pixel\";\r\n                            toast.warn(message);\r\n                        } else if (imageWidth > maxWidth) {\r\n                            isError = true;\r\n                            var message = localization.imageDimensionsConstraintsAtMost || \"Image dimensions must be at most\";\r\n                            message = message + \" \" + maxWidth + \"x\" + maxHeight + \" pixel\";;\r\n                            toast.warn(message);\r\n                        } else if (imageHeight < minHeight) {\r\n                            isError = true;\r\n                            var message = localization.imageDimensionsConstraintsAtLeast || \"Image dimensions must be at least\";\r\n                            message = message + \" \" + minWidth + \"x\" + minHeight + \" pixel\";;\r\n                            toast.warn(message);\r\n                        } else if (imageHeight > maxHeight) {\r\n                            isError = true;\r\n                            var message = localization.imageDimensionsConstraintsAtMost || \"Image dimensions must be at most\";\r\n                            message = message + \" \" + maxWidth + \"x\" + maxHeight + \" pixel\";;\r\n                            toast.warn(message);\r\n                        }\r\n\r\n                        if (isError === true) {\r\n                            reject();\r\n                        } else {\r\n                            resolve();\r\n                            return;\r\n                        }\r\n                    }\r\n\r\n                    resolve();\r\n                    return;\r\n                }\r\n                image.src = uploadedImage;\r\n            } catch (e) {\r\n                reject(e);\r\n                console.error(e);\r\n                toast.error(localization.errorUploadingImage || \"Error uploading image\");\r\n            }\r\n        })\r\n    }\r\n\r\n    manageUploadedFile(uploadedImage, fileSrc) {\r\n        var self = this;\r\n        var { localization, resizeProperties, cropProperties } = this.props;\r\n        var { resizeImage, resizeHeight, resizeWidth, } = resizeProperties || {};\r\n        var { cropImage } = cropProperties || {};\r\n        var fileName = fileSrc.name;\r\n        var fileType = fileSrc.type;\r\n        var fileExtension = uploadedImage.split(';')[0].split('/')[1];\r\n\r\n        self.checkImageRatioAndDimensions(uploadedImage)\r\n            .then(() => {\r\n                if (resizeImage === true) {\r\n                    self.fileChangedHandler(fileSrc, resizeWidth, resizeHeight)\r\n                        .then((data) => {\r\n                            if (cropImage === true) {\r\n                                self.setState({\r\n                                    imageToCrop: data,\r\n                                    imageToCropSrc: fileSrc,\r\n                                    showCropModal: true,\r\n                                    fileName: fileName,\r\n                                    fileType: fileType,\r\n                                    fileExtension: fileExtension\r\n                                })\r\n                            } else {\r\n                                self.props.onChange(data, fileName, fileExtension, fileType);\r\n                            }\r\n                        })\r\n                        .catch((error) => {\r\n                            console.error(error);\r\n                            toast.error(localization.errorResizingImage || \"Error resizing image\")\r\n                        })\r\n                } else if (cropImage === true) {\r\n                    self.setState({\r\n                        imageToCrop: uploadedImage,\r\n                        imageToCropSrc: fileSrc,\r\n                        showCropModal: true,\r\n                        fileName: fileName,\r\n                        fileType: fileType,\r\n                        fileExtension: fileExtension\r\n                    })\r\n                } else {\r\n                    self.props.onChange(uploadedImage, fileName, fileExtension, fileType);\r\n                }\r\n            })\r\n            .catch((e) => {\r\n\r\n            })\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************** RESIZE IMAGE MANAGEMENT **********************/\r\n    /*************************************************************************/\r\n    fileChangedHandler(input, newWidth, newHeight) {\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                if (input && (newWidth != null || newHeight != null)) {\r\n                    Resizer.imageFileResizer(\r\n                        input,\r\n                        newWidth || 5000,\r\n                        newHeight || 5000,\r\n                        'PNG',\r\n                        100,\r\n                        0,\r\n                        uri => {\r\n                            resolve(uri);\r\n                        },\r\n                        'base64',\r\n                        newWidth || 1,\r\n                        newHeight || 1\r\n                    );\r\n                }\r\n            } catch (e) {\r\n                console.error(\"Error resizing image; \" + e);\r\n                reject(e);\r\n            }\r\n        })\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************** RENDER ***************************************/\r\n    /*************************************************************************/\r\n    saveCrop(data) {\r\n        var self = this;\r\n        var { fileName, fileType, fileExtension } = self.state;\r\n        if (this.props.onChange) {\r\n            this.setState({\r\n                showCropModal: false\r\n            }, () => {\r\n                var { localization, imageSize } = self.props;\r\n\r\n                var currentImageSize = (data.length * (3 / 4)) - 1;\r\n                currentImageSize = currentImageSize / 1048576;\r\n                if (imageSize != null && currentImageSize > imageSize) {\r\n                    var message = (localization.imageSizeMustBeAtMost || \"Image size must be at most\") + \" \" + imageSize.toString() + \"MB\";\r\n                    toast.warn(message);\r\n                } else {\r\n                    self.props.onChange(data, fileName, fileExtension, fileType);\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    onRemove() {\r\n        if (this.props.onRemove) {\r\n            this.setState({\r\n                showCropModal: false\r\n            }, () => {\r\n                this.props.onRemove();\r\n            })\r\n        } else {\r\n            this.setState({\r\n                image: null\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var { disabled, localization, cropProperties, error, isInvalid, errorMessage, ratio, viewImgHeight, viewImgWidth, viewImgMaxHeight } = this.props;\r\n        var { image, showPreviewImage, showCropModal } = this.state;\r\n        var { imageToCropSrc, imageToCrop } = this.state;\r\n        cropProperties = cropProperties || {};\r\n\r\n        viewImgHeight = viewImgHeight || \"auto\";\r\n        viewImgWidth = viewImgHeight ? \"auto\" : viewImgWidth || \"auto\";\r\n        var imageStyle = { \"height\": viewImgHeight, \"width\": viewImgWidth, \"maxHeight\": viewImgMaxHeight }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Row>\r\n                    <Col sm={12}>\r\n                        {_.isEmpty(image) === false &&\r\n                            <ImageBox>\r\n                                <IconsBox>\r\n                                    <div>\r\n                                        <label htmlFor=\"file-input\">\r\n                                            <UpdateImageIcon></UpdateImageIcon>\r\n                                        </label>\r\n                                        <input\r\n                                            id=\"file-input\"\r\n                                            type=\"file\"\r\n                                            accept=\"image/*\"\r\n                                            style={{ display: \"none\" }}\r\n                                            multiple={false}\r\n                                            onChange={this.handleFileUpload} />\r\n                                    </div>\r\n                                    <DeleteImageIcon onClick={() => this.onRemove()}></DeleteImageIcon>\r\n                                </IconsBox>\r\n                                <StyledImage style={imageStyle} src={image} alt=\"img\" onClick={() => { this.setState({ showPreviewImage: true }) }}></StyledImage>\r\n                            </ImageBox>\r\n                        }\r\n                        {_.isEmpty(image) === true &&\r\n                            <React.Fragment>\r\n                                <input\r\n                                    ref=\"fileInput\"\r\n                                    onChange={this.handleFileUpload}\r\n                                    type=\"file\"\r\n                                    accept=\"image/*\"\r\n                                    style={{ display: \"none\" }}\r\n                                    multiple={false}>\r\n                                </input>\r\n                                <UploadImageButton disabled={disabled} variant=\"outline-secondary\" isInvalid={error || isInvalid} onClick={() => this.refs.fileInput.click()}>\r\n                                    <FontAwesomeIcon icon={faUpload} onClick={this.props.onCancel} />\r\n                                </UploadImageButton>\r\n                            </React.Fragment>\r\n                        }\r\n                    </Col>\r\n                </Row>\r\n                {(error === true || isInvalid === true) &&\r\n                    <Row>\r\n                        <Col>\r\n                            <ErrorMessage>{errorMessage || \"Error\"}</ErrorMessage>\r\n                        </Col>\r\n                    </Row>\r\n                }\r\n                <Modal\r\n                    onHide={() => { }}\r\n                    size=\"xl\"\r\n                    show={showPreviewImage}>\r\n                    <Modal.Body>\r\n                        <Card>\r\n                            <Card.Header>\r\n                                <span style={{ float: \"right\" }}>\r\n                                    <Tooltip tooltip={localization.cancel || \"Cancel\"}>\r\n                                        <CloseIcon onClick={() => { this.setState({ showPreviewImage: false }) }}></CloseIcon>\r\n                                    </Tooltip>\r\n                                </span>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <ReactBootstrapImage src={image} fluid />\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Modal.Body>\r\n                </Modal>\r\n                <Modal\r\n                    onHide={() => { }}\r\n                    size=\"xl\"\r\n                    show={showCropModal}>\r\n                    <CropImage\r\n                        aspectRatio={ratio}\r\n                        localization={localization}\r\n                        avoidResize={true}\r\n\r\n                        startHeightCrop={cropProperties.startHeightCrop}\r\n                        startWidthCrop={cropProperties.startWidthCrop}\r\n\r\n\r\n                        minCroppedHeight={cropProperties.minCroppedHeight}\r\n                        minCroppedWidth={cropProperties.minCroppedWidth}\r\n                        maxCroppedHeight={cropProperties.maxCroppedHeight}\r\n                        maxCroppedWidth={cropProperties.maxCroppedWidth}\r\n\r\n                        fileSrc={imageToCropSrc}\r\n                        src={imageToCrop}\r\n                        onSave={this.saveCrop}\r\n                        onClose={this.onRemove}>\r\n                    </CropImage>\r\n                </Modal>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\nexport default UploadImage;","import React from \"react\";\r\nimport { Button } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faFileAlt } from '@fortawesome/free-regular-svg-icons';\r\nimport { faTrashAlt, faPencilAlt, faCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport styled from \"styled-components\";\r\nimport _ from \"lodash\";\r\n\r\nconst StyledButtonUpload = styled(Button)`\r\n    width: 50px;\r\n    height: 60px;\r\n    background-color: #fafafa;\r\n    text-align: center;\r\n    border-radius: 4px;\r\n    vertical-align: top;\r\n    border: 1px dashed;\r\n    border-color: ${(props) => ((props.error === true || props.isInvalid === true) ? \"#dc3545\" : \"#d9d9d9\")};\r\n`;\r\n\r\nfunction UploadImageButton(props) {\r\n    return <StyledButtonUpload {...props}>{props.children}</StyledButtonUpload>\r\n}\r\n\r\nconst StyledDivDocumentBox = styled.div`\r\n    position: relative;\r\n`;\r\nfunction DocumentBox(props) {\r\n    return <StyledDivDocumentBox>{props.children}</StyledDivDocumentBox>\r\n}\r\n\r\nconst StyledDivIconxBox = styled.div`\r\n    position: absolute;\r\n    z-index: 10;\r\n    top: -3px;\r\n    left: -17px;\r\n`;\r\nfunction IconsBox(props) {\r\n    return <StyledDivIconxBox>{props.children}</StyledDivIconxBox>\r\n}\r\n\r\nconst StyledFaCircleUpdate = styled(FontAwesomeIcon)`\r\n    opacity: 0.7;\r\n    color: #007bff;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst StyledPencilAlt = styled(FontAwesomeIcon)`\r\n    color: white;\r\n    cursor: pointer;\r\n`;\r\nfunction UpdateImageIcon() {\r\n    return <span className=\"fa-stack small\">\r\n        <StyledFaCircleUpdate className=\"fa-stack-2x\" icon={faCircle} />\r\n        <StyledPencilAlt className=\"fa-stack-1x\" icon={faPencilAlt} />\r\n    </span>\r\n}\r\n\r\n\r\nconst StyledDiv = styled.div`\r\n    top: -10px\r\n`;\r\n\r\nconst StyledFaCircleDelete = styled(FontAwesomeIcon)`\r\n    opacity: 0.7;\r\n    color: #dc3545;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst StyledTrashAlt = styled(FontAwesomeIcon)`\r\n    color: white;\r\n    cursor: pointer;\r\n`;\r\nfunction DeleteImageIcon(props) {\r\n    return <StyledDiv className=\"fa-stack small\" {...props}>\r\n        <StyledFaCircleDelete className=\"fa-stack-2x\" icon={faCircle} />\r\n        <StyledTrashAlt className=\"fa-stack-1x\" icon={faTrashAlt} />\r\n    </StyledDiv>\r\n}\r\n\r\nconst StyledFontAwesomeIcon = styled(FontAwesomeIcon)`\r\n    color: #007bff;\r\n    font-size: 4rem;\r\n`;\r\nfunction FileIcon(props) {\r\n    return <StyledFontAwesomeIcon icon={faFileAlt} />\r\n}\r\n\r\nconst StyledDivErrorMessage = styled.div`\r\n    margin-top: 0.25rem;\r\n    font-size: 80%;\r\n    color: #dc3545;\r\n`;\r\nfunction ErrorMessage(props) {\r\n    return <StyledDivErrorMessage>{props.children}</StyledDivErrorMessage>\r\n}\r\n\r\nexport { UploadImageButton, DocumentBox, IconsBox, UpdateImageIcon, DeleteImageIcon, FileIcon, ErrorMessage };","import React, { useRef } from \"react\";\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUpload } from '@fortawesome/free-solid-svg-icons';\r\nimport _ from \"lodash\";\r\n\r\nimport { UploadImageButton, DocumentBox, IconsBox, UpdateImageIcon, DeleteImageIcon, FileIcon, ErrorMessage } from \"./styledComponents\";\r\n\r\nfunction UploadDocument(props) {\r\n    var { localization, document, onChange, onRemove, disabled, isInvalid, errorMessage } = props;\r\n    const inputRef = useRef(null);\r\n\r\n    function handleFileUpload(e) {\r\n        var files = e.target.files;\r\n        if (files.length > 0) {\r\n            var fileSrc = files[0];\r\n            var reader = new FileReader();\r\n            reader.onload = function () {\r\n                var data = reader.result;\r\n                var fileName = fileSrc.name;\r\n                var fileType = fileSrc.type;\r\n                var fileExtension = data.split(';')[0].split('/')[1];\r\n                onChange(data, fileName, fileExtension, fileType);\r\n            };\r\n            reader.readAsDataURL(fileSrc);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Row>\r\n            <Col>\r\n                {_.isEmpty(document) === true &&\r\n                    <React.Fragment>\r\n                        <input\r\n                            ref={inputRef}\r\n                            onChange={handleFileUpload}\r\n                            type=\"file\"\r\n                            accept=\"application/*, text/*\"\r\n                            style={{ display: \"none\" }}\r\n                            multiple={false}>\r\n                        </input>\r\n                        <UploadImageButton disabled={disabled} variant=\"outline-secondary\" isInvalid={isInvalid} onClick={() => {\r\n                            inputRef.current.click();\r\n                        }}>\r\n                            <FontAwesomeIcon icon={faUpload} />\r\n                        </UploadImageButton>\r\n                        {isInvalid === true &&\r\n                            <ErrorMessage>{errorMessage || \"Error\"}</ErrorMessage>\r\n                        }\r\n                    </React.Fragment>\r\n                }\r\n                {_.isEmpty(document) === false &&\r\n                    <DocumentBox>\r\n                        <IconsBox>\r\n                            <div>\r\n                                <label htmlFor=\"file-input\">\r\n                                    <UpdateImageIcon></UpdateImageIcon>\r\n                                </label>\r\n                                <input\r\n                                    id=\"file-input\"\r\n                                    type=\"file\"\r\n                                    accept=\"application/*, text/*\"\r\n                                    style={{ display: \"none\" }}\r\n                                    multiple={false}\r\n                                    onChange={handleFileUpload} />\r\n                            </div>\r\n                            <DeleteImageIcon onClick={onRemove}></DeleteImageIcon>\r\n                        </IconsBox>\r\n                        <FileIcon></FileIcon>\r\n                        <div>{document && document.fileName ? document.fileName : \"N/A\"}</div>\r\n                    </DocumentBox>\r\n                }\r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\nexport default UploadDocument;","import React, { Component } from \"react\";\r\nimport { FormGroup, FormControl, Form } from 'react-bootstrap';\r\nimport PlacesAutocomplete, { geocodeByPlaceId } from \"react-places-autocomplete\";\r\nimport { toast } from \"react-toastify\";\r\nimport _ from \"lodash\";\r\n\r\nclass OrbitalAddressComponentsPicker extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            autoCompleteLocation: this.props.location,\r\n            location: this.props.location,\r\n            disabled:this.props.disabled\r\n        }\r\n        this.placeAutocomplete = React.createRef();\r\n\r\n\r\n        this.onSelectCity = this.onSelectCity.bind(this);\r\n        this.changeCity = this.changeCity.bind(this);\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************ RENDER *****************************************/\r\n    /*************************************************************************/\r\n    componentDidUpdate(nextProps) {\r\n        if (nextProps.location != this.state.location) {\r\n            this.setState({\r\n                location: nextProps.location,\r\n                autoCompleteLocation: nextProps.location\r\n            });\r\n        }\r\n\r\n        if (nextProps.disabled != this.state.disabled) {\r\n            this.setState({\r\n                disabled: nextProps.disabled\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************ RENDER *****************************************/\r\n    /*************************************************************************/\r\n    onSelectCity(location, placeId) {\r\n        var self = this;\r\n        var { localization } = this.props;\r\n\r\n        geocodeByPlaceId(placeId)\r\n            .then((results) => {\r\n                var data = results[0];\r\n                if (data) {\r\n                    var address_components = data.address_components;\r\n                    self.setState({\r\n                        autoCompleteLocation: location\r\n                    }, () => {\r\n                        self.props.onChange(address_components);\r\n                    })\r\n                } else {\r\n                    console.error(\"No data\");\r\n                    toast.error(localization.error || \"Error\");\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n                toast.error(localization.error || \"Error\");\r\n            })\r\n    };\r\n\r\n    changeCity(autoCompleteLocation) {\r\n        this.setState({ autoCompleteLocation }, () => {\r\n            if (_.isEmpty(autoCompleteLocation) == true) {\r\n                this.props.onChange([]);\r\n            }\r\n        })\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************ RENDER *****************************************/\r\n    /*************************************************************************/\r\n    getAutoCompleteClassname(suggestion) {\r\n        var className = suggestion.active ? \"suggestion-item--active\" : \"suggestion-item\";\r\n        return className;\r\n    }\r\n\r\n    getAutoCompleteStyle(suggestion) {\r\n        var backgroundColor = suggestion.active ? \"#fafafa\" : \"#ffffff\";\r\n        var style = { \"backgroundColor\": backgroundColor, \"cursor\": \"pointer\" };\r\n        return style;\r\n    }\r\n\r\n    render() {\r\n        var self = this;\r\n        var { autoCompleteLocation,disabled } = this.state;\r\n        var { localization, error } = this.props;\r\n\r\n        return (\r\n            <PlacesAutocomplete\r\n                ref={this.placeAutocomplete}\r\n                value={autoCompleteLocation || \"\"}\r\n                onChange={this.changeCity}\r\n                onSelect={this.onSelectCity}>\r\n                {({ getInputProps, suggestions, getSuggestionItemProps }) => (\r\n                    <div>\r\n                        <FormGroup style={{ width: \"100%\" }}>\r\n                            <FormControl\r\n                                isInvalid={error}\r\n                                {...getInputProps({\r\n                                    placeholder: localization.searchPlaces || \"Search places\",\r\n                                    style: { marginBottom: 10 },\r\n                                    disabled:disabled\r\n                                })}\r\n                                value={autoCompleteLocation || \"\"}>\r\n                            </FormControl>\r\n                            <Form.Control.Feedback type=\"invalid\">\r\n                                {localization.completeField || \"Please complete the field\"}\r\n                            </Form.Control.Feedback>\r\n                        </FormGroup>\r\n                        <div className=\"autocomplete-dropdown-container\">\r\n                            {suggestions.map((suggestion, index) => {\r\n                                var className = self.getAutoCompleteClassname(suggestion);\r\n                                var style = self.getAutoCompleteStyle(suggestion);\r\n                                return (\r\n                                    <div key={index}\r\n                                        {...getSuggestionItemProps(suggestion, {\r\n                                            className,\r\n                                            style\r\n                                        })}>\r\n                                        <span>{suggestion.description}</span>\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </PlacesAutocomplete>\r\n        )\r\n    }\r\n}\r\nexport default OrbitalAddressComponentsPicker;","import React, { Component } from \"react\";\r\nimport { Row, Col, FormGroup, FormControl, Form } from 'react-bootstrap';\r\nimport PlacesAutocomplete, { geocodeByAddress, getLatLng } from \"react-places-autocomplete\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faInfoCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport LocationPicker from \"react-location-picker\";\r\nimport styled from \"styled-components\";\r\nimport _ from \"lodash\";\r\n\r\n// import { MandatoryFieldLabel, NormalFieldLabel, Tooltip } from \"orbital_common_components\";\r\nimport Tooltip from \"./Tooltip\";\r\nimport MandatoryFieldLabel from \"./MandatoryFieldLabel\";\r\nimport NormalFieldLabel from \"./NormalFieldLabel\";\r\n\r\n// import \"./orbitalLocationPicker.css\"\r\n// .info_icon{\r\n//     color: #007bff;\r\n//     font-size: 0.7rem;\r\n//     margin-bottom: 0.35rem;\r\n// }\r\n\r\nconst OrbitalInfoIcon = styled(FontAwesomeIcon)`\r\n    color: #007bff;\r\n    font-size: 0.7rem;\r\n    margin-bottom: 0.35rem;\r\n`;\r\n\r\nconst google = window.google;\r\nconst addressComponentType = \"administrative_area_level_3\";\r\nconst defaultCircleOptions = {\r\n    fillColor: \"red\",\r\n    fillOpacity: 0.0,\r\n    strokeColor: \"red\",\r\n    strokeOpacity: 0,\r\n    strokeWeight: 1.2\r\n};\r\nconst defaultLatLong = {\r\n    lat: 41.9028,\r\n    lng: 12.4964\r\n};\r\n\r\nclass OrbitalLocationPicker extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            position: this.props.position || defaultLatLong,\r\n            address: this.props.address,\r\n            autoCompleteAddress: this.props.address,\r\n            city: this.props.city\r\n        }\r\n        this.placeAutocomplete = React.createRef();\r\n        this.map = React.createRef();\r\n\r\n        this.changeAddress = this.changeAddress.bind(this);\r\n        this.onSelectAddress = this.onSelectAddress.bind(this);\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************** FUNCTIONS ************************************/\r\n    /*************************************************************************/\r\n    getCity(coordinates) {\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var geocoder = new google.maps.Geocoder();\r\n                var lat = coordinates.lat;\r\n                var lng = coordinates.lng;\r\n                var latlng = new google.maps.LatLng(lat, lng);\r\n                geocoder.geocode({ latLng: latlng }, function (results, status) {\r\n                    if (status == \"OK\") {\r\n                        var firstResult = results[0];\r\n                        var address_components = firstResult.address_components;\r\n                        var addressComponent = _.find(address_components, (component) => {\r\n                            var types = component.types;\r\n                            if (types.indexOf(addressComponentType) != -1) {\r\n                                return component;\r\n                            }\r\n                        })\r\n                        var city = addressComponent.long_name;\r\n                        resolve(city);\r\n                    } else {\r\n                        console.error(\"status - \", status);\r\n                        reject(`Error getting 'city' from coordinates (${lat}, ${lng})`);\r\n                    }\r\n                })\r\n            } catch (error) {\r\n                reject(error);\r\n            }\r\n        })\r\n    }\r\n\r\n    changeAddress(autoCompleteAddress) {\r\n        this.setState({ autoCompleteAddress }, () => {\r\n            if (_.isEmpty() == true) {\r\n                this.props.onChange({\r\n                    address: null,\r\n                    position: {},\r\n                    city: null\r\n                })\r\n            }\r\n        });\r\n    };\r\n\r\n    onSelectAddress(address) {\r\n        var self = this;\r\n        var { localization } = this.props;\r\n\r\n        var city = null;\r\n        var position = null;\r\n        geocodeByAddress(address)\r\n            .then((results) => {\r\n                var data = results[0];\r\n                if (data) {\r\n                    return getLatLng(data);\r\n                }\r\n            })\r\n            .then((data) => {\r\n                position = data;\r\n                return self.getCity(position);\r\n            })\r\n            .then((data) => {\r\n                city = data;\r\n\r\n                self.setState({\r\n                    address: address,\r\n                    autoCompleteAddress: address,\r\n                    position: position,\r\n                    city: city\r\n                }, () => {\r\n                    self.props.onChange({\r\n                        address: address,\r\n                        position: position,\r\n                        city: city\r\n                    })\r\n                })\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n            })\r\n    };\r\n\r\n    /*************************************************************************/\r\n    /************************ RENDER *****************************************/\r\n    /*************************************************************************/\r\n    getAutoCompleteClassname(suggestion) {\r\n        var className = suggestion.active ? \"suggestion-item--active\" : \"suggestion-item\";\r\n        return className;\r\n    }\r\n\r\n    getAutoCompleteStyle(suggestion) {\r\n        var backgroundColor = suggestion.active ? \"#fafafa\" : \"#ffffff\";\r\n        var style = { \"backgroundColor\": backgroundColor, \"cursor\": \"pointer\" };\r\n        return style;\r\n    }\r\n\r\n    render() {\r\n        var self = this;\r\n        var { position, autoCompleteAddress, city } = this.state;\r\n        var { localization, error, mandatory } = this.props;\r\n        var { lat, lng } = position || {};\r\n\r\n        var tooltip = localization.cityDoesNotModifyAddress || \"Changing the city does not affect the address; viceversa the city will change\";\r\n        // var cityLabel = <span> {localization.city || \"City\"} <Tooltip tooltip={tooltip}><FontAwesomeIcon className=\"info_icon\" icon={faInfoCircle} /></Tooltip></span>\r\n        var cityLabel = <span> {localization.city || \"City\"} <Tooltip tooltip={tooltip}><OrbitalInfoIcon icon={faInfoCircle} /></Tooltip></span>\r\n\r\n        return (\r\n            <div>\r\n                <Row>\r\n                    <Col sm={5}>\r\n                        {mandatory == false &&\r\n                            <NormalFieldLabel value={localization.address || \"Address\"}></NormalFieldLabel>\r\n                        }\r\n                        {(mandatory == null || mandatory == true) &&\r\n                            <MandatoryFieldLabel value={localization.address || \"Address\"}></MandatoryFieldLabel>\r\n                        }\r\n                    </Col>\r\n                    <Col sm={2}>\r\n                        {mandatory == false &&\r\n                            <NormalFieldLabel value={localization.lat || \"Lat\"}></NormalFieldLabel>\r\n                        }\r\n                        {(mandatory == null || mandatory == true) &&\r\n                            <MandatoryFieldLabel value={localization.lat || \"Lat\"}></MandatoryFieldLabel>\r\n                        }\r\n                    </Col>\r\n                    <Col sm={2}>\r\n                        {mandatory == false &&\r\n                            <NormalFieldLabel value={localization.lon || \"Lon\"}></NormalFieldLabel>\r\n                        }\r\n                        {(mandatory == null || mandatory == true) &&\r\n                            <MandatoryFieldLabel value={localization.lon || \"Lon\"}></MandatoryFieldLabel>\r\n                        }\r\n                    </Col>\r\n                    <Col sm={3}>\r\n                        {mandatory == false &&\r\n                            <NormalFieldLabel value={localization.city || \"City\"}></NormalFieldLabel>\r\n                        }\r\n                        {(mandatory == null || mandatory == true) &&\r\n                            <MandatoryFieldLabel value={cityLabel}></MandatoryFieldLabel>\r\n                        }\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col sm={5}>\r\n                        <PlacesAutocomplete\r\n                            ref={this.placeAutocomplete}\r\n                            value={autoCompleteAddress || \"\"}\r\n                            onChange={this.changeAddress}\r\n                            onSelect={this.onSelectAddress}>\r\n                            {({ getInputProps, suggestions, getSuggestionItemProps }) => (\r\n                                <div>\r\n                                    <FormGroup style={{ width: \"100%\" }}>\r\n                                        <FormControl\r\n                                            isInvalid={error}\r\n                                            {...getInputProps({\r\n                                                placeholder: localization.searchPlaces || \"Search places\",\r\n                                                style: { marginBottom: 10 }\r\n                                            })}\r\n                                            value={autoCompleteAddress || \"\"}>\r\n                                        </FormControl>\r\n                                        <Form.Control.Feedback type=\"invalid\">\r\n                                            {localization.completeField || \"Please complete the field\"}\r\n                                        </Form.Control.Feedback>\r\n                                    </FormGroup>\r\n                                    <div className=\"autocomplete-dropdown-container\">\r\n                                        {suggestions.map((suggestion, index) => {\r\n                                            var className = self.getAutoCompleteClassname(suggestion);\r\n                                            var style = self.getAutoCompleteStyle(suggestion);\r\n                                            return (\r\n                                                <div\r\n                                                    key={index}\r\n                                                    {...getSuggestionItemProps(suggestion, {\r\n                                                        className,\r\n                                                        style\r\n                                                    })}>\r\n                                                    <span key={index}>{suggestion.description}</span>\r\n                                                </div>\r\n                                            );\r\n                                        })}\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </PlacesAutocomplete>\r\n                    </Col>\r\n                    <Col sm={2}>\r\n                        <FormControl\r\n                            placeholder={localization.lat || \"Lat\"}\r\n                            value={lat || \"\"}\r\n                            disabled={true}>\r\n                        </FormControl>\r\n                    </Col>\r\n                    <Col sm={2}>\r\n                        <FormControl\r\n                            placeholder={localization.lon || \"Lon\"}\r\n                            value={lng || \"\"}\r\n                            disabled={true}>\r\n                        </FormControl>\r\n                    </Col>\r\n                    <Col sm={3}>\r\n                        <FormControl\r\n                            placeholder={localization.city || \"City\"}\r\n                            value={city || \"\"}\r\n                            onChange={(e) => {\r\n                                var value = e.target.value;\r\n                                this.setState({ city: value })\r\n                                if (this.props.onChangeCity) {\r\n                                    this.props.onChangeCity(value);\r\n                                }\r\n                            }}>\r\n                        </FormControl>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col sm={12}>\r\n                        <LocationPicker\r\n                            zoom={15}\r\n                            ref={this.map}\r\n                            circleOptions={defaultCircleOptions}\r\n                            containerElement={<div className=\"mapContainer\" />}\r\n                            mapElement={position ? <div style={{ height: \"250px\" }} /> : <div style={{ height: \"250px\" }} />}\r\n                            defaultPosition={position || defaultLatLong}\r\n                            onChange={(locationPicker) => {\r\n                                var address = locationPicker.address;\r\n                                this.onSelectAddress(address);\r\n                            }}\r\n                            options={{ gestureHandling: \"cooperative\" }}>\r\n                        </LocationPicker>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default OrbitalLocationPicker;","import styled from \"styled-components\";\r\nimport { Row } from \"react-bootstrap\";\r\n\r\nconst NoData = styled.div`\r\n    display: block;\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 40%;\r\n    z-index: 1;\r\n    padding: 20px;\r\n    background-color: white;\r\n    border: 1px solid #dee2e6;\r\n`;\r\n\r\nconst SubContentContainer = styled.div`\r\n    border-bottom: 1px solid #dee2e6;\r\n    padding: 15px;\r\n`;\r\n\r\nconst StyledTable = styled.div`\r\n    display: inline-block;\r\n    border-spacing: 0;\r\n    border: 1px solid #dee2e6;\r\n    width: 100%;\r\n`;\r\n\r\nconst StyledTd = styled.div`\r\n    margin: 0;\r\n    padding: 0.5rem;\r\n    border-bottom: 1px solid #dee2e6;\r\n    border-right: 1px solid #dee2e6;\r\n    position: relative;\r\n`;\r\n\r\nconst StyledTh = styled.div`\r\n    margin: 0;\r\n    padding: 0.5rem;\r\n    border-bottom: 1px solid #dee2e6;\r\n    border-right: 1px solid #dee2e6;\r\n    position: relative;\r\n`;\r\n\r\nconst PaginationRow = styled(Row)`\r\n    margin-top: 1rem;\r\n`;\r\n\r\nconst Resizer = styled.div`\r\n    right: 0;\r\n    background: #dee2e6;\r\n    width: 1px;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    z-index: 1;\r\n    touch-action: none;\r\n`;\r\n\r\nconst StyledTr = styled.div`\r\n&:last-child{\r\n    overflow-x: hidden;\r\n    ${StyledTd}{\r\n        border-bottom: 0;\r\n    }\r\n}\r\n`;\r\n\r\nexport { NoData, SubContentContainer, StyledTable, StyledTd, StyledTh, PaginationRow, Resizer, StyledTr }","import React, { useRef, forwardRef, useEffect } from \"react\";\r\nimport { Col, Button, Form } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSort, faSortUp, faSortDown } from \"@fortawesome/free-solid-svg-icons\";\r\nimport _ from \"lodash\";\r\n\r\nimport { StyledTd, StyledTh, PaginationRow, Resizer, StyledTr } from \"./styledComponents\";\r\n\r\nexport const IndeterminateCheckbox = forwardRef(\r\n    ({ indeterminate, ...rest }, ref) => {\r\n        const defaultRef = useRef();\r\n        const resolvedRef = ref || defaultRef;\r\n\r\n        useEffect(() => {\r\n            resolvedRef.current.indeterminate = indeterminate;\r\n        }, [resolvedRef, indeterminate]);\r\n\r\n        return (\r\n            <input type=\"checkbox\" ref={resolvedRef} {...rest} />\r\n        );\r\n    }\r\n);\r\n\r\nexport function setEmptyRows(prepareRow, canNextPage, page, pageSize, data) {\r\n    var rows = null;\r\n    if (canNextPage === false && page.length < pageSize && page[0]) {\r\n        var new_filling_rows = pageSize - page.length;\r\n        new_filling_rows = new Array(new_filling_rows);\r\n        var page_tmp = _.map(new_filling_rows, f => {\r\n            return page[0];\r\n        });\r\n        rows = page_tmp.map((row, i) => {\r\n            var new_id = data.length + i;\r\n            row.id = new_id;\r\n            prepareRow(row);\r\n            return (\r\n                <StyledTr {...row.getRowProps()}>\r\n                    {row.cells.map(cell => {\r\n                        return (\r\n                            <StyledTd {...cell.getCellProps()}>\r\n                                <div style={{ color: \"#66000000\" }}>.</div>\r\n                            </StyledTd>\r\n                        );\r\n                    })}\r\n                </StyledTr>\r\n            );\r\n        });\r\n    }\r\n    return rows;\r\n};\r\n\r\nexport function setEmptyHeaders(pageSize, headerGroups) {\r\n    var new_filling_rows = new Array(pageSize);\r\n    var rows = _.map(new_filling_rows, () => {\r\n        return headerGroups.map(headerGroup => (\r\n            <StyledTr {...headerGroup.getHeaderGroupProps()}>\r\n                {headerGroup.headers.map(column => (\r\n                    <StyledTh {...column.getHeaderProps()}>\r\n                        <div style={{ color: \"#66000000\" }}>.</div>\r\n                    </StyledTh>\r\n                ))}\r\n            </StyledTr>\r\n        ));\r\n    });\r\n    return rows;\r\n};\r\n\r\nexport function setSortIcon(column) {\r\n    return (\r\n        <span>\r\n            {column.disableSortBy !== true && column.isSorted === false && (\r\n                <span>\r\n                    {\" \"}\r\n                    <FontAwesomeIcon\r\n                        icon={faSort}\r\n                        style={{ cursor: \"pointer\" }}\r\n                        onClick={() => {\r\n                            column.toggleSortBy();\r\n                        }}\r\n                    />\r\n                </span>\r\n            )}\r\n            <span>\r\n                {column.isSorted ? (\r\n                    column.isSortedDesc ? (\r\n                        <span>\r\n                            {\" \"}\r\n                            <FontAwesomeIcon\r\n                                icon={faSortDown}\r\n                                style={{ cursor: \"pointer\" }}\r\n                                onClick={() => {\r\n                                    column.toggleSortBy();\r\n                                }}\r\n                            />\r\n                        </span>\r\n                    ) : (\r\n                        <span>\r\n                            {\" \"}\r\n                            <FontAwesomeIcon\r\n                                icon={faSortUp}\r\n                                style={{ cursor: \"pointer\" }}\r\n                                onClick={() => {\r\n                                    column.toggleSortBy();\r\n                                }}\r\n                            />\r\n                        </span>\r\n                    )\r\n                ) : (\r\n                    \"\"\r\n                )}\r\n            </span>\r\n        </span>\r\n    );\r\n};\r\n\r\nexport function setResize(column) {\r\n    return <span>{column.canResize && <Resizer {...column.getResizerProps()} className={`${column.isResizing ? \"isResizing\" : \"\"}`} />}</span>;\r\n};\r\n\r\nfunction setPageSizeOptions(_defaultPageSize, _fixedPageSize) {\r\n    var base_values = [5, 10, 20, 30, 40, 50];\r\n    if (_.includes(base_values, _defaultPageSize) === false) {\r\n        base_values.push(_defaultPageSize);\r\n        base_values = _.sortBy(base_values);\r\n    }\r\n\r\n    if (_.includes(base_values, _fixedPageSize) === false) {\r\n        base_values.push(_fixedPageSize);\r\n        base_values = _.sortBy(base_values);\r\n    }\r\n\r\n    var options = _.map(base_values, (value, index) => {\r\n        return (\r\n            <option key={index} value={value}>\r\n                {value}\r\n            </option>\r\n        );\r\n    });\r\n    return options;\r\n}\r\n\r\nexport function getPaginationSection(localization, gotoPage, canPreviousPage, previousPage, canNextPage, nextPage, pageCount, pageIndex, pageOptions, data, pageSize, _fixedPageSize, setPageSize, _defaultPageSize, hidePagination) {\r\n    return <PaginationRow className=\"pagination\" hidden={hidePagination === true}>\r\n        <Col sm={8}>\r\n            <span>\r\n                <Button variant=\"outline-secondary\" size={\"sm\"} onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n                    {\" \"}\r\n                    {\"<<\"}\r\n                </Button>{\" \"}\r\n                <Button variant=\"outline-secondary\" size={\"sm\"} onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n                    {\" \"}\r\n                    {\"<\"}\r\n                </Button>{\" \"}\r\n                <Button variant=\"outline-secondary\" size={\"sm\"} onClick={() => nextPage()} disabled={!canNextPage}>\r\n                    {\" \"}\r\n                    {\">\"}\r\n                </Button>{\" \"}\r\n                <Button variant=\"outline-secondary\" size={\"sm\"} onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n                    {\" \"}\r\n                    {\">>\"}\r\n                </Button>{\" \"}\r\n                <span style={{ float: \"right\" }}>\r\n                    <span>\r\n                        {localization.page || \"Page\"}{\" \"}\r\n                        <strong>\r\n                            {pageIndex + 1} {localization.of || \"of\"} {pageOptions.length}\r\n                        </strong>{\" \"}\r\n                    </span>\r\n                    <span>| {localization.go_to_page}: </span>\r\n                </span>\r\n            </span>\r\n        </Col>\r\n        <Col sm={2}>\r\n            <Form.Control\r\n                disabled={data.length === 0}\r\n                size={\"sm\"}\r\n                type=\"number\"\r\n                min={1}\r\n                max={pageOptions.length}\r\n                value={pageIndex + 1}\r\n                onChange={e => {\r\n                    const page = e.target.value ? Number(e.target.value) - 1 : 0;\r\n                    gotoPage(page);\r\n                }}\r\n                style={{ width: \"100%\" }}>\r\n            </Form.Control>\r\n        </Col>\r\n        <Col sm={2}>\r\n            <Form.Control\r\n                as=\"select\"\r\n                size={\"sm\"}\r\n                value={pageSize}\r\n                disabled={_fixedPageSize != null || data.length === 0}\r\n                onChange={e => {\r\n                    setPageSize(Number(e.target.value));\r\n                }}>\r\n                {setPageSizeOptions(_defaultPageSize, _fixedPageSize)}\r\n            </Form.Control>\r\n        </Col>\r\n    </PaginationRow>\r\n}","import React, { useEffect, useRef } from \"react\";\r\nimport { useTable, useExpanded, usePagination, useSortBy, useRowSelect, useResizeColumns, useFlexLayout } from \"react-table\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faInfoCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport _ from \"lodash\";\r\n\r\nimport { NoData, SubContentContainer, StyledTable, StyledTh, StyledTr } from \"./styledComponents\";\r\nimport * as Utils from \"./Utils\";\r\n\r\nfunction ReactTable(props) {\r\n  const { localization, columns, data, _defaultPageSize, _fixedPageSize, _noDataMessage, skipPageReset, hidePagination, showRowSelection = false, onRowSelect } = props;\r\n\r\n  useEffect(() => {\r\n    var tableSize = _fixedPageSize || _defaultPageSize || pageSize\r\n    setPageSize(tableSize)\r\n  }, [_fixedPageSize, _defaultPageSize]);\r\n\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    prepareRow,\r\n    page,\r\n    rows,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    visibleColumns,\r\n    selectedFlatRows,\r\n    state: { pageIndex, pageSize, expanded, selectedRowIds }\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      autoResetPage: !skipPageReset,\r\n      initialState: {\r\n        // pageIndex: 0,\r\n        pageSize: _fixedPageSize || _defaultPageSize || 10\r\n      },\r\n      enableMultiRowSelection: true\r\n    },\r\n    useSortBy,\r\n    useExpanded,\r\n    usePagination,\r\n    useResizeColumns,\r\n    useFlexLayout,\r\n    useRowSelect,\r\n    (hooks) => {\r\n      if (showRowSelection === true) {\r\n        hooks.visibleColumns.push((columns) => [\r\n          {\r\n            id: \"selection\",\r\n            disableSortBy: true,\r\n            width: 30,\r\n            Header: ({ getToggleAllRowsSelectedProps }) => (\r\n              <Utils.IndeterminateCheckbox {...getToggleAllRowsSelectedProps()} />\r\n            ),\r\n            Cell: ({ row }) => (\r\n              <Utils.IndeterminateCheckbox {...row.getToggleRowSelectedProps()} />\r\n            )\r\n          },\r\n          ...columns\r\n        ]);\r\n      }\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (onRowSelect) {\r\n      onRowSelect(showRowSelection && selectedFlatRows ? selectedFlatRows.map((row) => row.original) : []);\r\n    }\r\n  }, [onRowSelect, selectedFlatRows]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <StyledTable {...getTableProps()}>\r\n        <div>\r\n          {headerGroups.map(headerGroup => (\r\n            <StyledTr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map(column => (\r\n                <StyledTh {...column.getHeaderProps()}>\r\n                  {column.render(\"Header\")}\r\n                  {Utils.setSortIcon(column)}\r\n                  {Utils.setResize(column)}\r\n                </StyledTh>\r\n              ))}\r\n            </StyledTr>\r\n          ))}\r\n          {data.length === 0 && <span>{Utils.setEmptyHeaders(pageSize, headerGroups)}</span>}\r\n        </div>\r\n        <div {...getTableBodyProps()}>\r\n          {page.map((row, i) => {\r\n            //custom code => it's not automatic as shown in library documentation\r\n            if (row.original && row.original.subContent && _.isEmpty(row.original.subContent) === false) {\r\n              row.canExpand = true;\r\n            }\r\n            //============================================//\r\n            prepareRow(row);\r\n            return <React.Fragment key={i}>\r\n              <StyledTr {...row.getRowProps()}>\r\n                {row.cells.map((cell, index) => {\r\n                  return <StyledTh key={index} {...cell.getCellProps()}>\r\n                    {cell.render(\"Cell\")}\r\n                  </StyledTh>\r\n                })}\r\n              </StyledTr>\r\n              {row.isExpanded ? <SubContentContainer>{row.original.subContent}</SubContentContainer> : null}\r\n            </React.Fragment>\r\n          })}\r\n          {data.length > 0 && <span>{Utils.setEmptyRows(prepareRow, canNextPage, page, pageSize, data)}</span>}\r\n        </div>\r\n        {data.length === 0 && (\r\n          <NoData>\r\n            <FontAwesomeIcon icon={faInfoCircle} /> {_noDataMessage || \"No data\"}\r\n          </NoData>\r\n        )}\r\n      </StyledTable>\r\n      {Utils.getPaginationSection(localization, gotoPage, canPreviousPage, previousPage, canNextPage, nextPage, pageCount, pageIndex, pageOptions, data, pageSize, _fixedPageSize, setPageSize, _defaultPageSize, hidePagination)}\r\n    </React.Fragment>\r\n  );\r\n}\r\nexport default ReactTable;","\r\nimport React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSave } from '@fortawesome/free-regular-svg-icons';\r\n\r\nimport Tooltip from \"../Tooltip\";\r\n\r\nconst StyledFontAwesomeIcon = styled(FontAwesomeIcon)`\r\n    color: ${(props) => (props.disabled === true ? \"grey\" : \"#007bff\")};\r\n    cursor: ${(props) => (props.disabled === true ? \"not-allowed\" : \"pointer\")};\r\n    margin-right: ${(props) => (props.marginright)};\r\n    font-size: 1.5rem;\r\n`;\r\n\r\nconst OrbitalSaveIcon = (props) => {\r\n    var { tooltip, disabled, marginright, onClick } = props;\r\n    return <Tooltip tooltip={tooltip}>\r\n        <StyledFontAwesomeIcon marginright={marginright} icon={faSave} disabled={disabled} onClick={() => { if (disabled !== true) { onClick() } }} />\r\n    </Tooltip>\r\n}\r\n\r\nexport default OrbitalSaveIcon;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { BsPlusCircle } from \"react-icons/bs\";\r\n\r\nimport Tooltip from \"../Tooltip\";\r\n\r\nconst Container = styled.div`\r\n    float: ${(props) => (props.float)}\r\n`;\r\n\r\nconst StyledBsPlusCircle = styled(BsPlusCircle)`\r\n    color: ${(props) => (props.disabled === true ? \"grey\" : \"#007bff\")};\r\n    cursor: ${(props) => (props.disabled === true ? \"not-allowed\" : \"pointer\")};\r\n    font-size:  ${(props) => (props.fontSize)};\r\n`;\r\n\r\nconst OrbitalAddIcon = (props) => {\r\n    var { float, tooltip, disabled, fontsize, fontSize, onClick } = props;\r\n    return <Container float={float}>\r\n        <Tooltip tooltip={tooltip}>\r\n            <StyledBsPlusCircle fontSize={fontSize || fontsize || \"1.5rem\"} disabled={disabled} onClick={() => { if (disabled !== true) { onClick() } }}></StyledBsPlusCircle>\r\n        </Tooltip>\r\n    </Container>\r\n}\r\n\r\nexport default OrbitalAddIcon;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimesCircle } from '@fortawesome/free-regular-svg-icons';\r\n\r\nimport Tooltip from \"../Tooltip\";\r\n\r\nconst StyledFontAwesomeIcon = styled(FontAwesomeIcon)`\r\n    cursor: ${(props) => (props.disabled === true ? \"not-allowed\" : \"pointer\")};\r\n    color: grey;\r\n    font-size: 1.5rem;\r\n`;\r\n\r\nconst OrbitalCancelIcon = (props) => {\r\n    var { tooltip, disabled, onClick } = props;\r\n    return <Tooltip tooltip={tooltip}>\r\n        <StyledFontAwesomeIcon icon={faTimesCircle} disabled={disabled} onClick={() => { if (disabled !== true) { onClick() } }} />\r\n    </Tooltip>\r\n}\r\n\r\nexport default OrbitalCancelIcon;","\r\nimport React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { FormCheck } from 'react-bootstrap';\r\n\r\nconst StyledFormCheck = styled(FormCheck)`\r\n    padding-top:   ${(props) => (props.paddingtop)};\r\n    input{\r\n        transform: ${(props) => (props.scale ? \"scale(\" + props.scale + \")\" : \"scale(1.5)\")};\r\n    }\r\n`;\r\n\r\nconst OrbitalCheckbox = (props) => {\r\n    var { disabled, checked, onChange, paddingTop, paddingtop, scale } = props;\r\n\r\n    const pT = paddingtop || paddingTop;\r\n    return <StyledFormCheck type=\"checkbox\" paddingtop={pT}\r\n        {...props}>\r\n    </StyledFormCheck>\r\n}\r\n\r\nexport default OrbitalCheckbox;","import React from \"react\";\r\nimport Select from \"react-select\";\r\nimport CreatableSelect from 'react-select/creatable';\r\n\r\nimport OrbitalErrorDiv from \"./OrbitalErrorDiv\";\r\n\r\nfunction OrbitalSelect(props) {\r\n    var { isInvalid, errorMsg, showCreatable = false } = props;\r\n\r\n    function getTypeSelectStyles(isInvalid) {\r\n        var typeBorder = isInvalid ? { borderColor: \"#dc3545\", boxShadow: \"#dc3545\", \"&:hover\": { borderColor: \"#dc3545\" } } : {};\r\n        var typeStyles = { control: styles => ({ ...styles, ...typeBorder }) };\r\n        return typeStyles;\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {showCreatable == false ?\r\n                <Select\r\n                    styles={getTypeSelectStyles(isInvalid)}\r\n                    {...props}>\r\n                </Select> :\r\n                <CreatableSelect\r\n                    styles={getTypeSelectStyles(isInvalid)}\r\n                    {...props}\r\n                >\r\n                </CreatableSelect>\r\n            }\r\n\r\n            {isInvalid &&\r\n                <OrbitalErrorDiv>{errorMsg}</OrbitalErrorDiv>\r\n            }\r\n        </React.Fragment>\r\n    )\r\n}\r\nexport default OrbitalSelect;","import React, { useState } from \"react\";\r\nimport { Row, Col, InputGroup, FormControl, Button } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlay, faPause } from '@fortawesome/free-solid-svg-icons';\r\nimport ReactPlayer from 'react-player/lazy';\r\nimport Select from \"react-select\";\r\nimport _ from \"lodash\";\r\n\r\nimport NormalFieldLabel from \"../NormalFieldLabel\";\r\nimport MandatoryFieldLabel from \"../MandatoryFieldLabel\";\r\nimport OrbitalCheckbox from \"../OrbitalCheckbox\";\r\nimport UploadImage from \"../UploadImage/UploadImage\";\r\nimport UploadDocument from \"../UploadDocument/UploadDocument\";\r\nimport SessionStorageStore from \"../../stores/SessionStorageStore\";\r\nimport AuthStore from \"../../stores/AuthStore\";\r\n\r\nfunction CompleteSchema(props) {\r\n    var { localization, jsonSchema, customFields, lang, onLoadImage, onLoadDocument, onRemove, onChange } = props;\r\n\r\n    var [playing, setPlaying] = useState(false);\r\n    var [enablePlay, setEnablePlay] = useState(false);\r\n\r\n    /*************************************************************************/\r\n    /************************** FUNCTIONS ************************************/\r\n    /*************************************************************************/\r\n    function onChangeBoolean(fieldName) {\r\n        var tmp = _.cloneDeep(customFields);\r\n        tmp[fieldName] = !tmp[fieldName];\r\n        onChange(tmp);\r\n    }\r\n\r\n    function onChangeNumber(fieldName, e) {\r\n        var value = e.target.value;\r\n        value = Number(value);\r\n\r\n        var tmp = _.cloneDeep(customFields);\r\n        tmp[fieldName] = value;\r\n        onChange(tmp);\r\n    }\r\n\r\n    function onChangeObject(fieldName, e) {\r\n        var value = e.target.value;\r\n        value = _.isEmpty(value) === true ? null : JSON.stringify(JSON.parse(value));\r\n\r\n        var tmp = _.cloneDeep(customFields);\r\n        tmp[fieldName] = value;\r\n        onChange(tmp);\r\n    }\r\n\r\n    function onChangeString(fieldName, e) {\r\n        var value = e.target.value;\r\n        value = _.isEmpty(value) === true ? null : value;\r\n\r\n        var tmp = _.cloneDeep(customFields);\r\n        tmp[fieldName] = value;\r\n        onChange(tmp);\r\n    }\r\n\r\n    function onChangeSelect(fieldName, value) {\r\n        var tmp = _.cloneDeep(customFields);\r\n        tmp[fieldName] = value;\r\n        onChange(tmp);\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************** RENDER ***************************************/\r\n    /*************************************************************************/\r\n    function parseObject(value) {\r\n        value = JSON.parse(value);\r\n        value = JSON.stringify(value, undefined, 4);\r\n        return value;\r\n    }\r\n\r\n    function getSelectOptions(options) {\r\n        var lang = SessionStorageStore.getCurrentLang() || AuthStore.getDefautlLang() || \"En\";\r\n\r\n        var selectOptions = _.map(options, (option) => {\r\n            var { value, label } = option;\r\n            var localizedLabel = label[lang] || value;\r\n            return { \"value\": value, \"label\": localizedLabel }\r\n        })\r\n        selectOptions = _.sortBy(selectOptions, \"label\");\r\n        return selectOptions;\r\n    }\r\n\r\n    function getSelectValue(options, value) {\r\n        var selectOptions = getSelectOptions(options);\r\n        var option = _.find(selectOptions, { \"value\": value });\r\n        return option;\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {_.map(jsonSchema, (entry) => {\r\n                var { fieldName, label, type, required, step, options } = entry;\r\n                label = entry.label[lang];\r\n                var value = customFields[fieldName];\r\n\r\n                return <Row className=\"margin_top_row\" key={fieldName}>\r\n                    <Col>\r\n                        {required === true ?\r\n                            <MandatoryFieldLabel value={label}></MandatoryFieldLabel> :\r\n                            <NormalFieldLabel value={label}></NormalFieldLabel>\r\n                        }\r\n\r\n                        {type === \"boolean\" &&\r\n                            <OrbitalCheckbox\r\n                                checked={value || false}\r\n                                onChange={() => { onChangeBoolean(fieldName) }}>\r\n                            </OrbitalCheckbox>\r\n                        }\r\n\r\n                        {type === \"document\" &&\r\n                            <UploadDocument\r\n                                localization={localization}\r\n                                document={value || {}}\r\n                                isInvalid={false}\r\n                                errorMessage={\"\"}\r\n                                onChange={(base64, fileName, fileExtension, fileType) => {\r\n                                    onLoadDocument(fieldName, base64, fileName, fileExtension, fileType)\r\n                                }}\r\n                                onRemove={() => { onLoadImage(fieldName) }}>\r\n                            </UploadDocument>\r\n                        }\r\n\r\n                        {type === \"image\" &&\r\n                            <UploadImage\r\n                                localization={localization}\r\n                                image={value || null}\r\n                                onChange={(base64, fileName, fileExtension, fileType) => {\r\n                                    onLoadImage(fieldName, base64, fileName, fileExtension)\r\n                                }}\r\n                                onRemove={() => { onLoadImage(fieldName) }}>\r\n                            </UploadImage>\r\n                        }\r\n\r\n                        {type === \"number\" &&\r\n                            <FormControl\r\n                                type=\"number\"\r\n                                placeholder={label}\r\n                                step={step.toString()}\r\n                                value={value != null ? value.toString() : \"\"}\r\n                                onChange={(e) => { onChangeNumber(fieldName, e) }}>\r\n                            </FormControl>\r\n                        }\r\n\r\n                        {type === \"link\" &&\r\n                            <FormControl\r\n                                type=\"url\"\r\n                                placeholder={label}\r\n                                value={value || \"\"}\r\n                                onChange={(e) => { onChangeString(fieldName, e) }}>\r\n                            </FormControl>\r\n                        }\r\n\r\n                        {type === \"object\" &&\r\n                            <FormControl\r\n                                as=\"textarea\"\r\n                                rows={6}\r\n                                value={value != null ? parseObject(value) : \"\"}\r\n                                onChange={(e) => { onChangeObject(fieldName, e) }}>\r\n                            </FormControl>\r\n                        }\r\n\r\n                        {type === \"string\" &&\r\n                            <FormControl\r\n                                placeholder={label}\r\n                                value={value}\r\n                                onChange={(e) => { onChangeString(fieldName, e) }}>\r\n                            </FormControl>\r\n                        }\r\n\r\n                        {\r\n                            type === \"select\" &&\r\n                            <Select\r\n                                placeholder={label}\r\n                                value={getSelectValue(options, value)}\r\n                                isClearable={true}\r\n                                onChange={(data) => {\r\n                                    var value = data && data.value ? data.value : null;\r\n                                    onChangeSelect(fieldName, value);\r\n                                }}\r\n                                options={getSelectOptions(options)}>\r\n                            </Select>\r\n                        }\r\n\r\n                        {type === \"video\" &&\r\n                            <React.Fragment>\r\n                                <InputGroup>\r\n                                    <InputGroup.Prepend>\r\n                                        <InputGroup.Text>Url</InputGroup.Text>\r\n                                    </InputGroup.Prepend>\r\n                                    <FormControl\r\n                                        placeholder={localization.videoUrl || \"Video url\"}\r\n                                        value={value || \"\"}\r\n                                        onChange={(e) => {\r\n                                            setEnablePlay(false);\r\n                                            onChangeString(fieldName, e)\r\n                                        }}>\r\n                                    </FormControl>\r\n                                </InputGroup>\r\n                                {_.isEmpty(value) === false &&\r\n                                    <div style={{ marginTop: \"0.5rem\" }}>\r\n                                        <ReactPlayer\r\n                                            playing={playing}\r\n                                            onReady={() => { setEnablePlay(true) }}\r\n                                            onPlay={() => { setPlaying(true) }}\r\n                                            onPause={() => { setPlaying(false) }}\r\n                                            url={value || null}>\r\n                                        </ReactPlayer>\r\n                                        <Button size={\"sm\"} disabled={enablePlay === false} style={{ marginTop: \"0.2rem\" }} onClick={() => { setPlaying(!playing) }}>\r\n                                            <FontAwesomeIcon icon={playing === true ? faPause : faPlay}></FontAwesomeIcon>\r\n                                        </Button>\r\n                                    </div>\r\n                                }\r\n                            </React.Fragment>\r\n                        }\r\n                    </Col>\r\n                </Row>\r\n            })}\r\n        </React.Fragment>\r\n    )\r\n}\r\nexport default CompleteSchema;","import React, { useEffect, useState } from \"react\";\r\nimport { Row, Col, InputGroup, FormControl, Card, ButtonGroup, Button } from 'react-bootstrap';\r\n// import { NormalFieldLabel, MandatoryFieldLabel, Tooltip, OrbitalAddIcon, OrbitalCancelIcon, OrbitalSaveIcon, OrbitalSelect } from \"orbital_common_components\";\r\n// import { SessionStorageStore, AuthStore } from \"orbital_common_components\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik } from \"formik\";\r\nimport _ from \"lodash\";\r\nimport * as yup from \"yup\";\r\n\r\nimport NormalFieldLabel from \"../NormalFieldLabel\";\r\nimport MandatoryFieldLabel from \"../MandatoryFieldLabel\";\r\nimport Tooltip from \"../Tooltip\";\r\nimport OrbitalSaveIcon from \"../Icons/OrbitalSaveIcon\";\r\nimport OrbitalAddIcon from \"../Icons/OrbitalAddIcon\";\r\nimport OrbitalCancelIcon from \"../Icons/OrbitalCancelIcon\";\r\nimport OrbitalSelect from \"../OrbitalSelect\";\r\n\r\nimport SessionStorageStore from \"../../stores/SessionStorageStore\";\r\nimport AuthStore from \"../../stores/AuthStore\";\r\n\r\nconst types = [\"string\", \"number\", \"boolean\", \"object\", \"image\", \"video\", \"link\", \"select\", \"document\"];\r\n\r\nconst newProperty = {\r\n    fieldName: null,\r\n    label: {},\r\n    type: null,\r\n    step: null,\r\n    options: []\r\n}\r\n\r\nconst newOption = {\r\n    value: null,\r\n    label: {}\r\n}\r\n\r\nfunction getLocalizedField(editingLanguage) {\r\n    return \"label.\" + editingLanguage;\r\n}\r\n\r\nfunction parseLocalLocalizedField(field, editingLanguage) {\r\n    field = field && field[editingLanguage] ? field[editingLanguage] : null;\r\n    return field;\r\n}\r\n\r\nfunction DeleteOption(props) {\r\n    const { localization, option, onCancel, onDelete } = props;\r\n\r\n    var [cardTitle, setCardTitle] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        var lang = SessionStorageStore.getCurrentLang() || AuthStore.getDefautlLang() || \"En\";\r\n\r\n        var cardTitle = _.isEmpty(option) === true ? localization.newOption || \"New option\" : (option.label[lang] || option.value);\r\n        setCardTitle(cardTitle);\r\n    }, [])\r\n\r\n    return (\r\n        <Card style={{ marginTop: \"1rem\" }}>\r\n            <Card.Header>\r\n                <b>{cardTitle}</b>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <div>\r\n                    {localization.confirmDeleteOption || \"Do you really want to delete this option?\"}\r\n                </div>\r\n                <div>\r\n                    {localization.affectAlreadyAssignedValue || \"This might affect some elements that are already using this option.\"}\r\n                </div>\r\n                <div style={{ marginTop: \"1rem\", float: \"right\" }}>\r\n                    <Button style={{ marginRight: \"0.25rem\" }} variant=\"outline-secondary\" onClick={onCancel} > {localization.cancel || \"Cancel\"}</Button>\r\n                    <Button variant=\"outline-danger\" onClick={() => { onDelete(option) }}>\r\n                        {localization.delete || \"Delete\"}\r\n                    </Button>\r\n                </div>\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}\r\n\r\nfunction AddEditOption(props) {\r\n    const { languageOptions, localization, option, onSave, onUpdate, onCancel } = props;\r\n    const defaultLang = AuthStore.getDefautlLang()\r\n\r\n    const validationSchema = yup.object().shape({\r\n        value: yup.string()\r\n            .typeError(localization.completeField || \"Please complete the field\")\r\n            .required(localization.completeField || \"Please complete the field\")\r\n            .matches(\"^[a-zA-Z0-9]*$\", (localization.onlyLettersAndNumberAllowed || \"Only letters and numbers allowed\")),\r\n        label: yup.object().shape({\r\n            [defaultLang]: yup.string()\r\n                .typeError(`${localization.completeFieldForDefaultLang || \"Complete the field for the default lang\"}: ${defaultLang}`)\r\n                .required(`${localization.completeFieldForDefaultLang || \"Complete the field for the default lang\"}: ${defaultLang}`)\r\n        })\r\n    })\r\n\r\n    var [editingLanguage, setEditingLanguage] = useState(AuthStore.getUserLang() || \"En\");\r\n    var [cardTitle, setCardTitle] = useState(\"\");\r\n\r\n    /*************************************************************************/\r\n    /************************ STANDARD ***************************************/\r\n    /*************************************************************************/\r\n    useEffect(() => {\r\n        var lang = SessionStorageStore.getCurrentLang() || AuthStore.getDefautlLang() || \"En\";\r\n\r\n        var cardTitle = _.isEmpty(option) === true ? localization.newOption || \"New option\" : (option.label[lang] || option.value);\r\n        setCardTitle(cardTitle);\r\n    }, [])\r\n\r\n    /*************************************************************************/\r\n    /************************** RENDER ***************************************/\r\n    /*************************************************************************/\r\n    function setInitialValues() {\r\n        var initialValues = _.isEmpty(option) === true ? newOption : option;\r\n        return initialValues;\r\n    }\r\n\r\n    var parsedLang = _.find(languageOptions, { \"value\": editingLanguage });\r\n    return (\r\n        <Formik\r\n            validationSchema={validationSchema}\r\n            onSubmit={(values, actions) => {\r\n                if (_.isEmpty(option) === true) {\r\n                    onSave(values);\r\n                } else {\r\n                    onUpdate(values);\r\n                }\r\n            }}\r\n            initialValues={setInitialValues()}>\r\n            {({ handleSubmit, handleChange, values, errors }) => (\r\n                <Card style={{ marginTop: \"1rem\" }}>\r\n                    <Card.Header>\r\n                        <b>{cardTitle}</b>\r\n                        <span style={{ float: \"right\" }}>\r\n                            <OrbitalSaveIcon tooltip={localization.save || \"Save\"} marginright={\"15px\"} onClick={handleSubmit}></OrbitalSaveIcon>\r\n                            <OrbitalCancelIcon tooltip={localization.cancel || \"Cancel\"} onClick={onCancel}></OrbitalCancelIcon>\r\n                        </span>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <Row style={{ marginTop: \"1rem\" }}>\r\n                            <Col sm={4}>\r\n                                <NormalFieldLabel value={localization.language || \"Language\"}></NormalFieldLabel>\r\n                                <OrbitalSelect\r\n                                    value={parsedLang}\r\n                                    onChange={(data) => { setEditingLanguage(data.value) }}\r\n                                    options={languageOptions}>\r\n                                </OrbitalSelect>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row style={{ marginTop: \"1rem\" }}>\r\n                            <Col>\r\n                                <MandatoryFieldLabel value={(localization.optionValue || \"Option value\")}></MandatoryFieldLabel>\r\n                                <FormControl\r\n                                    name=\"value\"\r\n                                    disabled={_.isEmpty(option) === false}\r\n                                    placeholder={localization.optionValue || \"Option value\"}\r\n                                    value={values.value || \"\"}\r\n                                    onChange={handleChange}\r\n                                    isInvalid={errors.value}>\r\n                                </FormControl>\r\n                                <FormControl.Feedback type=\"invalid\">{errors.value}</FormControl.Feedback>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row style={{ marginTop: \"1rem\" }}>\r\n                            <Col>\r\n                                <MandatoryFieldLabel value={localization.optionLabel || \"Option label\"}></MandatoryFieldLabel>\r\n                                <InputGroup>\r\n                                    <InputGroup.Prepend>\r\n                                        <InputGroup.Text>{editingLanguage}</InputGroup.Text>\r\n                                    </InputGroup.Prepend>\r\n                                    <FormControl\r\n                                        name={getLocalizedField(editingLanguage)}\r\n                                        placeholder={localization.propertyLabel || \"Property label\"}\r\n                                        value={parseLocalLocalizedField(values.label, editingLanguage) || \"\"}\r\n                                        onChange={handleChange}\r\n                                        isInvalid={errors.label && errors.label[defaultLang]}>\r\n                                    </FormControl>\r\n                                    <FormControl.Feedback type=\"invalid\">{errors.label && errors.label[defaultLang] ? errors.label[defaultLang] : \"\"}</FormControl.Feedback>\r\n                                </InputGroup>\r\n                            </Col>\r\n                        </Row>\r\n                    </Card.Body>\r\n                </Card>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n\r\nfunction AddEditProperty(props) {\r\n    const { localization, onSave, onCancel, property } = props;\r\n    const defaultLang = AuthStore.getDefautlLang()\r\n\r\n    const validationSchema = yup.object().shape({\r\n        fieldName: yup.string()\r\n            .typeError(localization.completeField || \"Please complete the field\")\r\n            .required(localization.completeField || \"Please complete the field\")\r\n            .min(2, (localization.atLeastTwoCharacters || \"At least two caracthers\"))\r\n            .matches(\"^([a-z])([A-Za-z])+$\", (localization.onlyLettersAllowedTheFirstLowerCase || \"The first letter must be lowercase and only letters are allowed\")),\r\n        label: yup.object().shape({\r\n            [defaultLang]: yup.string()\r\n                .typeError(`${localization.completeFieldForDefaultLang || \"Complete the field for the default lang\"}: ${defaultLang}`)\r\n                .required(`${localization.completeFieldForDefaultLang || \"Complete the field for the default lang\"}: ${defaultLang}`)\r\n        }),\r\n        type: yup.string()\r\n            .typeError(localization.completeField || \"Please complete the field\")\r\n            .required(localization.completeField || \"Please complete the field\"),\r\n        step: yup.string()\r\n            .nullable(true)\r\n            .when(\"type\", {\r\n                is: \"number\",\r\n                then: yup.string()\r\n                    .typeError(localization.completeField || \"Please complete the field\")\r\n                    .required(localization.completeField || \"Please complete the field\")\r\n                    .matches(\"^[0-9.]+$\", (localization.onlyDecimelNumbersAllowed || \"Only decimal numbers allowed\"))\r\n            })\r\n    });\r\n\r\n    var [cardTitle, setCardTitle] = useState(null);\r\n    var [languageOptions, setLanguageOptions] = useState([]);\r\n    var [editingLanguage, setEditingLanguage] = useState(AuthStore.getUserLang() || \"En\");\r\n    var [typeOptions, setTypeOptions] = useState([]);\r\n    var [showAddEditOption, setShowAddEditOption] = useState(false);\r\n    var [showDeleteOption, setShowDeleteOption] = useState(false);\r\n    var [selectedOption, setSelectedOption] = useState({});\r\n\r\n    /*************************************************************************/\r\n    /************************ STANDARD ***************************************/\r\n    /*************************************************************************/\r\n    useEffect(() => {\r\n        var lang = SessionStorageStore.getCurrentLang() || AuthStore.getDefautlLang() || \"En\";\r\n        var cardTitle = _.isEmpty(property) === true ? localization.newProperty || \"New property\" : (property.label[lang] || property.fieldName);\r\n\r\n\r\n        var languages = AuthStore.getPreferedLanguages() || [\"En\"];\r\n        var languageOptions = _.map(languages, (lang) => {\r\n            return { \"value\": lang, \"label\": lang }\r\n        });\r\n\r\n        var typeOptions = _.map(types, (type) => {\r\n            var label = localization[type] || type;\r\n            return { \"value\": type, \"label\": label }\r\n        })\r\n        typeOptions = _.sortBy(typeOptions, \"label\");\r\n\r\n        setCardTitle(cardTitle);\r\n        setLanguageOptions(languageOptions);\r\n        setTypeOptions(typeOptions);\r\n    }, [])\r\n\r\n    function addOption(values, setFieldValue, newOption) {\r\n        var options = _.cloneDeep(values).options || [];\r\n\r\n        var tmp = _.find(options, { \"value\": newOption.value });\r\n        if (tmp) {\r\n            toast.warn(localization.optionWithSameValueAlreadyPresent || \"An option with the same value is already present\");\r\n        } else {\r\n            options.push(newOption);\r\n            setFieldValue(\"options\", options);\r\n            setShowAddEditOption(false);\r\n        }\r\n    }\r\n\r\n    function updateOption(values, setFieldValue, option) {\r\n        var options = _.cloneDeep(values).options || [];\r\n\r\n        var idx = _.findIndex(options, ['value', option.value]);\r\n        options.splice(idx, 1, option);\r\n        setFieldValue(\"options\", options);\r\n        setShowAddEditOption(false);\r\n    }\r\n\r\n    function deleteOption(values, setFieldValue, option) {\r\n        var options = _.cloneDeep(values).options || [];\r\n\r\n        var idx = _.findIndex(options, ['value', option.value]);\r\n        options.splice(idx, 1);\r\n        setFieldValue(\"options\", options);\r\n        setShowDeleteOption(false);\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /*************************** RENDER **************************************/\r\n    /*************************************************************************/\r\n    function setInitialValues() {\r\n        var initialValues = _.isEmpty(property) === true ? newProperty : property;\r\n        return initialValues;\r\n    }\r\n\r\n    var parsedLang = _.find(languageOptions, { \"value\": editingLanguage });\r\n    return (\r\n        <Formik\r\n            validationSchema={validationSchema}\r\n            onSubmit={(values, actions) => {\r\n                onSave(values);\r\n            }}\r\n            initialValues={setInitialValues()}>\r\n            {({ handleSubmit, handleChange, values, isValid, errors, setFieldValue, setValues }) => (\r\n                <Card>\r\n                    <Card.Header>\r\n                        <b>{cardTitle}</b>\r\n                        <span style={{ float: \"right\" }}>\r\n                            <OrbitalSaveIcon disabled={showAddEditOption === true || showDeleteOption === true} tooltip={localization.save || \"Save\"} marginright={\"15px\"} onClick={handleSubmit}></OrbitalSaveIcon>\r\n                            <OrbitalCancelIcon tooltip={localization.cancel || \"Cancel\"} onClick={onCancel}></OrbitalCancelIcon>\r\n                        </span>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <Row>\r\n                            <Col sm={4}>\r\n                                <NormalFieldLabel value={localization.language || \"Language\"}></NormalFieldLabel>\r\n                                <OrbitalSelect\r\n                                    value={parsedLang}\r\n                                    onChange={(data) => { setEditingLanguage(data.value) }}\r\n                                    options={languageOptions}>\r\n                                </OrbitalSelect>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row style={{ marginTop: \"1rem\" }}>\r\n                            <Col>\r\n                                <MandatoryFieldLabel value={(localization.propertyFieldName || \"Property field name\") + \" - \" + (localization.onlyLetters || \"Only letter\") + \" (a-zA-Z)\"}></MandatoryFieldLabel>\r\n                                <FormControl\r\n                                    name=\"fieldName\"\r\n                                    disabled={_.isEmpty(property) === false}\r\n                                    placeholder={localization.propertyFieldName || \"Property field name\"}\r\n                                    value={values.fieldName || \"\"}\r\n                                    onChange={handleChange}\r\n                                    isInvalid={errors.fieldName}>\r\n                                </FormControl>\r\n                                <FormControl.Feedback type=\"invalid\">{errors.fieldName}</FormControl.Feedback>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row style={{ marginTop: \"1rem\" }}>\r\n                            <Col>\r\n                                <MandatoryFieldLabel value={localization.propertyLabel || \"Property label\"}></MandatoryFieldLabel>\r\n                                <InputGroup>\r\n                                    <InputGroup.Prepend>\r\n                                        <InputGroup.Text>{editingLanguage}</InputGroup.Text>\r\n                                    </InputGroup.Prepend>\r\n                                    <FormControl\r\n                                        name={getLocalizedField(editingLanguage)}\r\n                                        placeholder={localization.propertyLabel || \"Property label\"}\r\n                                        value={parseLocalLocalizedField(values.label, editingLanguage) || \"\"}\r\n                                        onChange={handleChange}\r\n                                        isInvalid={errors.label && errors.label[defaultLang]}>\r\n                                    </FormControl>\r\n                                    <FormControl.Feedback type=\"invalid\">{errors.label && errors.label[defaultLang] ? errors.label[defaultLang] : \"\"}</FormControl.Feedback>\r\n                                </InputGroup>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row style={{ marginTop: \"1rem\" }}>\r\n                            <Col>\r\n                                <MandatoryFieldLabel value={localization.propertyType || \"Property type\"}></MandatoryFieldLabel>\r\n                                <OrbitalSelect\r\n                                    isInvalid={errors.type}\r\n                                    isDisabled={_.isEmpty(property) === false}\r\n                                    errorMsg={errors.type}\r\n                                    value={_.find(typeOptions, { \"value\": values.type })}\r\n                                    placeholder={localization.propertyType || \"Property type\"}\r\n                                    options={typeOptions}\r\n                                    onChange={(data) => {\r\n                                        var value = data ? data.value : null;\r\n                                        setValues({\r\n                                            ...values,\r\n                                            type: value,\r\n                                            step: value === \"number\" ? \"0.5\" : null,\r\n                                            options: value === \"select\" ? [] : null\r\n                                        })\r\n                                    }}>\r\n                                </OrbitalSelect>\r\n                            </Col>\r\n                        </Row>\r\n                        {values.type && values.type === \"number\" &&\r\n                            <Row style={{ marginTop: \"1rem\" }}>\r\n                                <Col>\r\n                                    <NormalFieldLabel value={(localization.stepNumber || \"Step number\")}></NormalFieldLabel>\r\n                                    <FormControl\r\n                                        name=\"step\"\r\n                                        placeholder={localization.step || \"Step number\"}\r\n                                        value={values.step || \"\"}\r\n                                        onChange={handleChange}\r\n                                        isInvalid={errors.step}>\r\n                                    </FormControl>\r\n                                    <FormControl.Feedback type=\"invalid\">{errors.step}</FormControl.Feedback>\r\n                                </Col>\r\n                            </Row>\r\n                        }\r\n                        {values.type && values.type === \"select\" &&\r\n                            <React.Fragment>\r\n                                <Row style={{ marginTop: \"1rem\" }}>\r\n                                    <Col sm={8}>\r\n                                        <NormalFieldLabel value={(localization.options || \"Options\")}></NormalFieldLabel>\r\n                                    </Col>\r\n                                    <Col sm={4}>\r\n                                        <div style={{ float: \"right\" }}>\r\n                                            {showAddEditOption !== true &&\r\n                                                <OrbitalAddIcon float=\"right\" tooltip={localization.addOption || \"Add option\"} onClick={() => {\r\n                                                    setShowAddEditOption(true);\r\n                                                    setSelectedOption({});\r\n                                                }}>\r\n                                                </OrbitalAddIcon>\r\n                                            }\r\n                                        </div>\r\n                                    </Col>\r\n                                </Row>\r\n                                {showAddEditOption === true &&\r\n                                    <AddEditOption\r\n                                        localization={localization}\r\n                                        languageOptions={languageOptions}\r\n                                        option={selectedOption}\r\n                                        onSave={(option) => { addOption(values, setFieldValue, option) }}\r\n                                        onUpdate={(option) => { updateOption(values, setFieldValue, option) }}\r\n                                        onCancel={() => { setShowAddEditOption(false) }}>\r\n                                    </AddEditOption>\r\n                                }\r\n                                {showDeleteOption === true &&\r\n                                    <DeleteOption\r\n                                        localization={localization}\r\n                                        option={selectedOption}\r\n                                        onDelete={(option) => { deleteOption(values, setFieldValue, option) }}\r\n                                        onCancel={() => { setShowDeleteOption(false) }}>\r\n                                    </DeleteOption>\r\n                                }\r\n                                {values.options.length === 0 && showAddEditOption === false && showDeleteOption === false &&\r\n                                    <Row style={{ marginTop: \"1rem\" }}>\r\n                                        <Col>\r\n                                            {localization.noOptionsArePresentsYet || \"No options are presents yet\"}\r\n                                        </Col>\r\n                                    </Row>\r\n                                }\r\n                                {values.options.length > 0 && showAddEditOption === false && showDeleteOption === false &&\r\n                                    <Row style={{ marginTop: \"1rem\" }}>\r\n                                        {_.map(values.options || [], (option) => {\r\n                                            var label = option.label[editingLanguage];\r\n\r\n                                            return <React.Fragment>\r\n                                                <Col sm={8}>\r\n                                                    {label}\r\n                                                </Col>\r\n                                                <Col sm={4}>\r\n                                                    <ButtonGroup style={{ float: \"right\" }}>\r\n                                                        <Tooltip key=\"edit_option\" tooltip={localization.editCategory || \"Edit category\"}>\r\n                                                            <Button variant=\"outline-primary\" onClick={() => {\r\n                                                                setShowAddEditOption(true);\r\n                                                                setSelectedOption(option);\r\n                                                            }}>\r\n                                                                <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                            </Button>\r\n                                                        </Tooltip>\r\n                                                        <Tooltip key=\"delete_option\" tooltip={localization.delete || \"Delete\"}>\r\n                                                            <Button variant=\"outline-danger\" onClick={() => {\r\n                                                                setShowDeleteOption(true);\r\n                                                                setSelectedOption(option);\r\n                                                            }}>\r\n                                                                <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                            </Button>\r\n                                                        </Tooltip>\r\n                                                    </ButtonGroup>\r\n                                                </Col>\r\n                                            </React.Fragment>\r\n                                        })}\r\n                                    </Row>\r\n                                }\r\n                            </React.Fragment>\r\n                        }\r\n                    </Card.Body>\r\n                </Card>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\nexport default AddEditProperty;","\r\nimport React from \"react\";\r\nimport { Modal, Button } from 'react-bootstrap';\r\n\r\nfunction DeleteProperty(props) {\r\n    const { localization, onDelete, onCancel, property } = props;\r\n\r\n    /*************************************************************************/\r\n    /*************************** RENDER **************************************/\r\n    /*************************************************************************/\r\n    var fieldName = property && property.fieldName ? property.fieldName : null;\r\n    var elements = property && property._elements ? property._elements : [];\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Modal.Header>\r\n                <Modal.Title>\r\n                    {localization.delete || \"Delete\"}{\" \"}\"{fieldName}\"\r\n                </Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                {elements.length === 0 &&\r\n                    <div>\r\n                        {localization.confirmDeleteProperty || \"Do you really want to delete the property\"}{\" \"}<b>{fieldName}</b>?\r\n                    </div>\r\n                }\r\n                {elements.length > 0 &&\r\n                    <div>\r\n                        {localization.cannotDeletePropertyInUse || \"Impossible to delete the property because it's currently in use\"}\r\n                    </div>\r\n                }\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"outline-secondary\" onClick={onCancel} > {localization.cancel || \"Cancel\"}</Button>\r\n                {elements.length === 0 &&\r\n                    <Button variant=\"outline-danger\" onClick={() => {\r\n                        onDelete(property);\r\n                    }}>\r\n                        {localization.delete || \"Delete\"}\r\n                    </Button>\r\n                }\r\n            </Modal.Footer>\r\n        </React.Fragment>\r\n    )\r\n}\r\nexport default DeleteProperty;","import React, { useEffect, useState } from \"react\";\r\nimport { Row, Col, Modal, Button, ButtonGroup, ButtonToolbar } from 'react-bootstrap';\r\n// import { Tooltip, OrbitalAddIcon, ReactTable, SessionStorageStore, AuthStore } from \"orbital_common_components\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { toast } from \"react-toastify\";\r\nimport _ from \"lodash\";\r\n\r\nimport Tooltip from \"../Tooltip\";\r\nimport OrbitalAddIcon from \"../Icons/OrbitalAddIcon\";\r\nimport ReactTable from \"../ReactTable/v2/ReactTable\";\r\nimport SessionStorageStore from \"../../stores/SessionStorageStore\";\r\nimport AuthStore from \"../../stores/AuthStore\";\r\n\r\nimport AddEditProperty from \"./AddEditProperty\";\r\nimport DeleteProperty from \"./DeleteProperty\";\r\n\r\nfunction OrbitalJsonSchema(props) {\r\n    const { localization, title, onChange, orbitalJsonSchema } = props;\r\n\r\n    var [body, setBody] = useState([]);\r\n    var [showEditModal, setShowEditModal] = useState(false);\r\n    var [showDeleteModal, setShowDeleteModal] = useState(false);\r\n    var [selectedProperty, setSelectedProperty] = useState(null);\r\n\r\n    /*************************************************************************/\r\n    /************************ STANDARD ***************************************/\r\n    /*************************************************************************/\r\n    useEffect(() => {\r\n        var schema = _.isEmpty(orbitalJsonSchema) === true ? [] : orbitalJsonSchema;\r\n        var body = parseBody(schema);\r\n        setBody(body);\r\n    }, [orbitalJsonSchema]);\r\n\r\n    function parseLabel(label) {\r\n        var lang = SessionStorageStore.getCurrentLang() || AuthStore.getDefautlLang() || \"En\";\r\n        label = label && label[lang] ? label[lang] : null;\r\n        return label;\r\n    }\r\n\r\n    function parseActions(property) {\r\n        return <ButtonToolbar>\r\n            <ButtonGroup>\r\n                <Tooltip key=\"edit_property\" tooltip={localization.editProperty || \"Edit property\"}>\r\n                    <Button variant=\"outline-primary\" onClick={() => {\r\n                        setSelectedProperty(property);\r\n                        setShowEditModal(true);\r\n                    }}>\r\n                        <FontAwesomeIcon icon={faPencilAlt} />\r\n                    </Button>\r\n                </Tooltip>\r\n                <Tooltip key=\"delete_property\" tooltip={localization.delete || \"Delete\"}>\r\n                    <Button variant=\"outline-danger\" onClick={() => {\r\n                        setSelectedProperty(property);\r\n                        setShowDeleteModal(true);\r\n                    }}>\r\n                        <FontAwesomeIcon icon={faTrashAlt} />\r\n                    </Button>\r\n                </Tooltip>\r\n            </ButtonGroup>\r\n        </ButtonToolbar>\r\n    }\r\n\r\n    function parseBody(schema) {\r\n        var body = [];\r\n        _.each(schema, (property) => {\r\n            var label = parseLabel(property.label);\r\n            var type = property.type;\r\n            var actions = parseActions(property);\r\n\r\n            body.push({\r\n                fieldName: property.fieldName,\r\n                label: label,\r\n                type: localization[type] || type,\r\n                actions: actions\r\n            })\r\n        })\r\n\r\n        return body;\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /************************ FUNCTIONS **************************************/\r\n    /*************************************************************************/\r\n    function changeProperty(property) {\r\n        var tmpSchema = _.cloneDeep(orbitalJsonSchema) || [];\r\n\r\n        var idx = _.findIndex(tmpSchema, { \"fieldName\": property.fieldName });\r\n        if (_.isEmpty(selectedProperty) === true && idx !== -1) {\r\n            // sto creando una propriet con un \"name\" gi esistente\r\n            toast.warn(localization.propertyWithSameNameExisting || \"A property with the same 'name' is already present\")\r\n        } else if (_.isEmpty(selectedProperty) === true && idx === -1) {\r\n            // sto creando una propriet con un \"name\" che non esiste\r\n            tmpSchema.push(property);\r\n        } else if (_.isEmpty(selectedProperty) === false && idx !== -1) {\r\n            // sto modificando una propriet esistente\r\n            tmpSchema.splice(idx, 1, property);\r\n        }\r\n\r\n        setShowEditModal(false);\r\n        onChange(tmpSchema);\r\n    }\r\n\r\n    function deleteProperty(property) {\r\n        var tmpSchema = _.cloneDeep(orbitalJsonSchema);\r\n        var idx = _.findIndex(tmpSchema, { \"name\": property.name });\r\n        tmpSchema.splice(idx, 1);\r\n\r\n        setShowDeleteModal(false);\r\n        onChange(tmpSchema);\r\n    }\r\n\r\n    /*************************************************************************/\r\n    /*************************** RENDER **************************************/\r\n    /*************************************************************************/\r\n    function getColumns() {\r\n        return [\r\n            {\r\n                Header: localization.propertyName || \"Property name\",\r\n                accessor: 'fieldName',\r\n                disableSortBy: true\r\n            },\r\n            {\r\n                Header: localization.propertyLabel || \"Property label\",\r\n                accessor: 'label',\r\n                disableSortBy: true\r\n            },\r\n            {\r\n                Header: localization.propertyType || \"Property type\",\r\n                accessor: 'type',\r\n                disableSortBy: true\r\n            },\r\n            {\r\n                Header: localization.actions || \"Actions\",\r\n                accessor: 'actions',\r\n                disableSortBy: true\r\n            }\r\n        ]\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Row>\r\n                {title &&\r\n                    <Col sm={8}>\r\n                        {title}\r\n                    </Col>\r\n                }\r\n                <Col sm={title ? 4 : 12}>\r\n                    <div style={{ float: \"right\" }}>\r\n                        <OrbitalAddIcon float=\"right\" tooltip={localization.addProperty || \"Add property\"} onClick={() => {\r\n                            setShowEditModal(true);\r\n                            setSelectedProperty({});\r\n                        }}>\r\n                        </OrbitalAddIcon>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n            <Row style={{ marginTop: \"1rem\" }}>\r\n                <Col>\r\n                    <ReactTable\r\n                        localization={localization}\r\n                        columns={getColumns()}\r\n                        data={body}\r\n                        _defaultPageSize={5}\r\n                        _noDataMessage={localization.noData || \"No data\"}\r\n                        skipPageReset={true}>\r\n                    </ReactTable>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Modal onHide={() => { }} show={showEditModal}>\r\n                <AddEditProperty\r\n                    localization={localization}\r\n                    property={selectedProperty}\r\n                    onSave={changeProperty}\r\n                    onCancel={() => { setShowEditModal(false) }}>\r\n                </AddEditProperty>\r\n            </Modal>\r\n\r\n            <Modal onHide={() => { }} size=\"lg\" show={showDeleteModal}>\r\n                <DeleteProperty\r\n                    localization={localization}\r\n                    property={_.cloneDeep(selectedProperty)}\r\n                    onDelete={deleteProperty}\r\n                    onCancel={() => {\r\n                        setShowDeleteModal(false);\r\n                        setSelectedProperty(null);\r\n                    }}>\r\n                </DeleteProperty>\r\n            </Modal>\r\n        </React.Fragment>\r\n    )\r\n}\r\nexport default OrbitalJsonSchema;","import styled from \"styled-components\";\r\n\r\nconst PluginContainer = styled.div`\r\n    padding-left: ${(props) => (props.paddingLeft || \"15px\")};\r\n    padding-top: ${(props) => (props.paddingTop || \"15px\")};\r\n    padding-right: ${(props) => (props.paddingRight || \"15px\")};\r\n    height: ${(props) => (props.height)};\r\n    min-height: ${(props) => (props.minheight || \"95vh\")};\r\n`;\r\n\r\nexport default PluginContainer;"],"names":["APISb","cleanToken","token","replaceAll","get","baseUrl","endpoint","params","customHeaders","url","defaultHeaders","config","method","headers","Promise","resolve","reject","axios","then","result","error","post","data","put","get_plain","post_plain","put_plain","SBDashboardAuthkey","SBUserAuthkey","authkey","SBAPI_URL","currentLang","localizationChannel","pluginVersionChannel","MySessionStorage","require","setItem","key","constants","setLocalizationEvent","Event","window","dispatchEvent","SessionStorageStore","cleanKey","value","getCurrentLang","sessionStorage","getItem","setCurrentLang","removeCurrentLang","remove","getDashboardAuthKey","setDashboardAuthKey","dashboardAuthKey","removeDashboardAuthKey","getUserAuthKey","setUserAuthKey","userAuthKey","removeUserAuthKey","getAuth","setAuth","removeAuth","getSBAPIUrl","setSBAPIUrl","SBAPIUrl","removeSBAPIUrl","ClientSession","isLoggedIn","auth","_","isEmpty","checkLogin","self","logged","SpecificAPI","getAvailablePlugin","authKey","apiUrl","pluginKey","getPluginActivationForAll","brandId","userId","getPluginActivation","getPluginConfiguration","pluginId","configData","getBrandById","getBrandConfig","getOrbitalConfig","getGeneralPluginLocalization","dashboard","getActivePluginLocalization","pluginActivationId","AuthStore","setAuthStore","getUser","user","getUserId","id","getUserRole","role","getUserSubRole","subRole","getDefautlLang","lang","getUserLang","getPreferedLanguages","brand","_brand","brandConfiguration","_brandConfiguration","languages","preferedLang","getUserPluginPermission","permissions","_permission","checkPermissionKey","permission_key","permitted","getBrandId","getReferrerId","referrerId","getOrbitalId","orbitalId","orbitalIdId","getOwnerId","getParentId","defaultLang","getBrowserLang","capitalizeFirstLetter","string","charAt","toUpperCase","slice","browserLang","navigator","language","userLanguage","substring","toLowerCase","e","console","getInitialLocalizationLanguage","getBrandPluginActivationInstance","getOwnerPluginActivationInstance","ownerId","p0","p1","all","results","buyForAllActivation","singleOwnerActivation","pluginActivation","pluginTarget","PluginStore","availablePlugin","setAvailablePlugin","getPluginLocalization","generalPluginLocalization","activePluginLocalization","localization","setLocalization","localizationInstance","localizationObj","callbackLocalization","newLocalizationObject","each","obj","Object","keys","En","It","setContent","setUserLocalizationLanguage","setLanguage","checkPermission","userPluginPermission","pluginPermission","initializePluginPipeline","initializationObject","pluginVersion","OrbitalStore","BrandStore","pluginVersionEvent","JSON","parse","setPluginActivation","p2","p3","orbitalConfig","setOrbitalConfig","setBrand","brandConfig","setBrandConfiguration","initializePluginPipeline_WITHOUT_pluginAvailable_pluginActivation","getLocalizationChannel","getPluginVersionChannel","initializeSystemPluginPipeline","getLocaleByLanguage","setSyncfusionLocalization","L10n","loadCldr","load","syncfusionLocalization","getDefaultImage","image","getDefaultLang","EventEmitter","emit","channel","eventEmitter","on","callback","removeListener","getBrand","getBrandConfiguration","getCurrency","currency","getCustomerIsolation","customerIsolation","getPermissionGroups","pluginPermissionGroups","setPermissionGroups","pluginConfiguration","getPluginDefaultData","pluginDefaultData","defaultData","DatePicker","props","state","componentWillReceiveProps","nextProps","setTimeout","setState","render","format","React","DatePickerComponent","Component","DateTimePickerComponent","RecurrenceEditor","locale","dateFormat","RecurrenceEditorComponent","date_format","ReservationScheduler","arguments","closedDates","dataSource","events","scheduleObj","currentView","selectedDate","moment","checkSelectedDate","bind","checkClosedDate","changeAgendaRange","componentDidMount","toString","refresh","changeCurrentView","new_events","args","selected_date","date","elementType","element","setAttribute","classList","removeAttribute","weekday","textContent","add","parseClosedDates","closed_day","length","map","el","se","Date","s","getFullYear","getMonth","getDate","getTime","indexOf","onChangeAgendaRange","first","activeView","renderDates","last","renderCell","cellClick","tmp","startTime","onChangeDate","popupOpen","type","cancel","actionComplete","requestType","todayButton","find","items","cssClass","click","a","b","c","previousDate","currentDate","navigating","action","today","onChangeView","ScheduleComponent","schedule","height","ViewsDirective","dayView","ViewDirective","weekView","workWeekView","monthView","agendaView","Inject","Day","Week","WorkWeek","Month","Agenda","TimePicker","TimePickerComponent","OrbitalErrorDiv","styled","div","StyledDiv","isInvalid","DatePickerV2","enabled","disabled","errorMessage","firstDayOfWeek","isEnabled","invalid","SyncfusionUtils","DateTimePickerV2","RecurrenceEditorv2","SchedulerV2","startingCurrentView","useState","setSelectedDate","setCurrentView","useEffect","parsedDate","parsedStartTime","name","manageViewAction","manageDateAction","parsedSelectedDate","parsedCellDate","selectedDateWeekday","parsedClosedDates","innerElement","getElementsByClassName","TimePickerv2","halfbold","StyledSpan","span","MandatoryFieldLabel","isTransparent","istransparent","NormalFieldLabel","CustomLoadingOverlay","overlay","base","background","children","editorHeight","maxHeight","HTMLTextEditor","loading","init","editorState","EditorState","createEmpty","onEditorStateChange","uploadImageCallBack","parseData","contentBlock","htmlToDraft","contentState","ContentState","createFromBlockArray","contentBlocks","createWithContent","file","onUploadImage","imageUrl","uploadResponse","link","onChange","draftToHtml","convertToRaw","getCurrentContent","LoadingOverlay","Editor","options","inline","inDropdown","list","textAlign","history","uploadCallback","previewImage","inputAccept","alt","present","mandatory","defaultSize","width","tableItems","imageItems","HTMLEditor","document","getElementById","aTags","getElementsByTagName","searchText","tag","parentElement","secondParentElement","thirdParentElement","fourthParentElement","divTags","style","position","zIndex","backgroundColor","quickToolbarSettings","table","toolbarSettings","RichTextEditorComponent","richtexteditor","rteObj","prompt","plainText","keepFormat","allowedTypes","display","saveFormat","Toolbar","Image","Link","HtmlEditor","Count","QuickToolbar","Table","FileManager","PasteCleanup","CustomTooltip","placement","delay","show","hide","tooltip","OverlayTrigger","className","Tooltip","ImageService","compress","divider","fileName","reader","FileReader","readAsDataURL","onload","event","img","src","target","elem","createElement","ctx","getContext","drawImage","canvas","toBlob","blob","newFile","File","join","lastModified","now","onerror","batchCompress","dividers","actions","getResizedCanvas","newWidth","newHeight","tmpCanvas","ImageBoxDiv","ImageBox","IconsBoxDiv","IconsBox","StyledFaCircleUpdate","FontAwesomeIcon","StyledPencilAlt","UpdateImageIcon","faCircle","faPencilAlt","StyledDivDeleteImage","StyledFaCircleDelete","StyledTrashAlt","DeleteImageIcon","faTrashAlt","StyledImg","StyledImage","StyledButton","Button","UploadImageButton","StyledDivErrorMessage","ErrorMessage","StyledFontAwesomeIconClose","CloseIcon","faTimesCircle","StyledFontAwesomeIconCropper","isError","CropperDownloadIcon","faDownload","StyledFontAwesomeIconSave","CropperSaveIcon","faSave","CropImage","croppedImageUrl","downloadCroppedImg","parseCroppedImage","start","checkCroppedDimensionsErrors","croppedWidth","croppedHeight","showMessage","minCroppedWidth","maxCroppedWidth","minCroppedHeight","maxCroppedHeight","toast","warn","aspectRatio","split","parseInt","cropper","Cropper","zoomable","minCropBoxWidth","minCropBoxHeight","x","y","startWidthCrop","startHeightCrop","crop","detail","setData","Math","max","min","cropend","croppedCanvas","getCroppedCanvas","toDataURL","cropped_width","cropped_height","fetch","response","arrayBuffer","buffer","URL","createObjectURL","Blob","href","body","appendChild","err","log","blobFile","uid","uuidV4","files","f","onSave","Card","download","save","onClose","Row","Col","loaded_image_to_crop","cropped_image","marginTop","crop_message","UploadImage","showPreviewImage","showCropModal","imageToCropSrc","imageToCrop","fileExtension","fileType","checkImageRatioAndDimensions","handleFileUpload","manageUploadedFile","onRemove","saveCrop","fileSrc","uploadedImage","sizeConstraints","ratio","imageSize","cropProperties","constraints","minHeight","minWidth","maxWidth","cropImage","currentImageSize","message","imageSizeMustBeAtMost","imageWidth","imageHeight","imageRatio","tmpRatio","errorAspectRatio","imageDimensionsConstraintsAtLeast","imageDimensionsConstraintsAtMost","errorUploadingImage","resizeProperties","resizeImage","resizeHeight","resizeWidth","fileChangedHandler","errorResizingImage","input","Resizer","imageFileResizer","uri","viewImgHeight","viewImgWidth","viewImgMaxHeight","imageStyle","refs","fileInput","faUpload","onCancel","Modal","ReactBootstrapImage","StyledButtonUpload","StyledDivDocumentBox","DocumentBox","StyledDivIconxBox","StyledFontAwesomeIcon","FileIcon","faFileAlt","UploadDocument","inputRef","useRef","current","OrbitalAddressComponentsPicker","autoCompleteLocation","location","placeAutocomplete","createRef","onSelectCity","changeCity","componentDidUpdate","placeId","geocodeByPlaceId","address_components","getAutoCompleteClassname","suggestion","active","getAutoCompleteStyle","PlacesAutocomplete","getInputProps","suggestions","getSuggestionItemProps","FormGroup","FormControl","placeholder","searchPlaces","marginBottom","Form","completeField","index","description","OrbitalInfoIcon","google","addressComponentType","defaultCircleOptions","fillColor","fillOpacity","strokeColor","strokeOpacity","strokeWeight","defaultLatLong","lat","lng","OrbitalLocationPicker","address","autoCompleteAddress","city","changeAddress","onSelectAddress","getCity","coordinates","geocoder","maps","Geocoder","latlng","LatLng","geocode","latLng","status","firstResult","addressComponent","component","types","long_name","geocodeByAddress","getLatLng","cityDoesNotModifyAddress","cityLabel","faInfoCircle","lon","onChangeCity","locationPicker","gestureHandling","NoData","SubContentContainer","StyledTable","StyledTd","StyledTh","PaginationRow","StyledTr","IndeterminateCheckbox","forwardRef","ref","indeterminate","rest","defaultRef","resolvedRef","setEmptyRows","prepareRow","canNextPage","page","pageSize","rows","new_filling_rows","Array","page_tmp","row","i","new_id","getRowProps","cells","cell","getCellProps","color","setEmptyHeaders","headerGroups","headerGroup","getHeaderGroupProps","column","getHeaderProps","setSortIcon","disableSortBy","isSorted","faSort","cursor","toggleSortBy","isSortedDesc","faSortDown","faSortUp","setResize","canResize","getResizerProps","isResizing","setPageSizeOptions","_defaultPageSize","_fixedPageSize","base_values","includes","push","sortBy","getPaginationSection","gotoPage","canPreviousPage","previousPage","nextPage","pageCount","pageIndex","pageOptions","setPageSize","hidePagination","of","go_to_page","Number","ReactTable","columns","_noDataMessage","skipPageReset","showRowSelection","onRowSelect","tableSize","useTable","autoResetPage","initialState","enableMultiRowSelection","useSortBy","useExpanded","usePagination","useResizeColumns","useFlexLayout","useRowSelect","hooks","visibleColumns","Header","getToggleAllRowsSelectedProps","Utils.IndeterminateCheckbox","Cell","getToggleRowSelectedProps","getTableProps","getTableBodyProps","selectedFlatRows","original","Utils","subContent","canExpand","isExpanded","marginright","OrbitalSaveIcon","onClick","Container","StyledBsPlusCircle","BsPlusCircle","fontSize","OrbitalAddIcon","float","fontsize","OrbitalCancelIcon","StyledFormCheck","FormCheck","paddingtop","scale","OrbitalCheckbox","paddingTop","pT","OrbitalSelect","errorMsg","showCreatable","getTypeSelectStyles","typeBorder","borderColor","boxShadow","typeStyles","control","styles","CompleteSchema","jsonSchema","customFields","onLoadImage","onLoadDocument","playing","setPlaying","enablePlay","setEnablePlay","onChangeBoolean","fieldName","cloneDeep","onChangeNumber","onChangeObject","stringify","onChangeString","onChangeSelect","parseObject","undefined","getSelectOptions","selectOptions","option","label","localizedLabel","getSelectValue","entry","required","step","base64","InputGroup","videoUrl","faPause","faPlay","newProperty","newOption","getLocalizedField","editingLanguage","parseLocalLocalizedField","field","DeleteOption","onDelete","cardTitle","setCardTitle","confirmDeleteOption","affectAlreadyAssignedValue","marginRight","AddEditOption","languageOptions","onUpdate","validationSchema","yup","shape","typeError","matches","onlyLettersAndNumberAllowed","completeFieldForDefaultLang","setEditingLanguage","setInitialValues","initialValues","parsedLang","Formik","values","handleSubmit","handleChange","errors","optionValue","optionLabel","propertyLabel","AddEditProperty","property","atLeastTwoCharacters","onlyLettersAllowedTheFirstLowerCase","nullable","when","is","onlyDecimelNumbersAllowed","setLanguageOptions","typeOptions","setTypeOptions","showAddEditOption","setShowAddEditOption","showDeleteOption","setShowDeleteOption","selectedOption","setSelectedOption","addOption","setFieldValue","optionWithSameValueAlreadyPresent","updateOption","idx","findIndex","splice","deleteOption","isValid","setValues","propertyFieldName","onlyLetters","propertyType","stepNumber","noOptionsArePresentsYet","ButtonGroup","editCategory","DeleteProperty","elements","_elements","confirmDeleteProperty","cannotDeletePropertyInUse","OrbitalJsonSchema","title","orbitalJsonSchema","setBody","showEditModal","setShowEditModal","showDeleteModal","setShowDeleteModal","selectedProperty","setSelectedProperty","schema","parseBody","parseLabel","parseActions","ButtonToolbar","editProperty","changeProperty","tmpSchema","propertyWithSameNameExisting","deleteProperty","getColumns","propertyName","accessor","addProperty","noData","PluginContainer","paddingLeft","paddingRight","minheight"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEqBA;;;QACVC,aAAP,oBAAkBC,KAAlB,EAAyB;AACrBA,IAAAA,KAAK,eAAaA,KAAlB;AACAA,IAAAA,KAAK,GAAGA,KAAK,CAACC,UAAN,CAAiB,GAAjB,EAAsB,EAAtB,CAAR;AACA,WAAOD,KAAP;AACH;;QAEME,MAAP,aAAWF,KAAX,EAAkBG,OAAlB,EAA2BC,QAA3B,EAAqCC,MAArC,EAA6CC,aAA7C,EAA4D;AACxD,QAAIC,GAAG,GAAGJ,OAAO,GAAGC,QAApB;AAEAJ,IAAAA,KAAK,GAAG,KAAKD,UAAL,CAAgBC,KAAhB,CAAR;AACA,QAAIQ,cAAc,GAAG;AACjB,sBAAgB,kBADC;AAEjB,gBAAU,kBAFO;AAGjB,uBAAiBR;AAHA,KAArB;AAKAQ,IAAAA,cAAc,gBAAQA,cAAR,EAA2BF,aAA3B,CAAd;AAEA,QAAIG,MAAM,GAAG;AACTC,MAAAA,MAAM,EAAE,KADC;AAETH,MAAAA,GAAG,EAAEA,GAFI;AAGTF,MAAAA,MAAM,EAAEA,MAAM,IAAI,EAHT;AAITM,MAAAA,OAAO,EAAEH;AAJA,KAAb;AAOA,WAAO,IAAII,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CC,MAAAA,KAAK,CAACN,MAAD,CAAL,CACKO,IADL,CACU,UAACC,MAAD,EAAY;AACdJ,QAAAA,OAAO,CAACI,MAAD,CAAP;AACH,OAHL,WAIW,UAACC,KAAD,EAAW;AACdJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACH,OANL;AAOH,KARM,CAAP;AASH;;QAEMC,OAAP,cAAYnB,KAAZ,EAAmBG,OAAnB,EAA4BC,QAA5B,EAAsCC,MAAtC,EAA8Ce,IAA9C,EAAoDd,aAApD,EAAmE;AAC/D,QAAIC,GAAG,GAAGJ,OAAO,GAAGC,QAApB;AAEAJ,IAAAA,KAAK,GAAG,KAAKD,UAAL,CAAgBC,KAAhB,CAAR;AACA,QAAIQ,cAAc,GAAG;AACjB,sBAAgB,kBADC;AAEjB,gBAAU,kBAFO;AAGjB,uBAAiBR;AAHA,KAArB;AAKAQ,IAAAA,cAAc,gBAAQA,cAAR,EAA2BF,aAA3B,CAAd;AAEA,QAAIG,MAAM,GAAG;AACTC,MAAAA,MAAM,EAAE,MADC;AAETH,MAAAA,GAAG,EAAEA,GAFI;AAGTF,MAAAA,MAAM,EAAEA,MAAM,IAAI,EAHT;AAITe,MAAAA,IAAI,EAAEA,IAJG;AAKTT,MAAAA,OAAO,EAAEH;AALA,KAAb;AAQA,WAAO,IAAII,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CC,MAAAA,KAAK,CAACN,MAAD,CAAL,CACKO,IADL,CACU,UAACC,MAAD,EAAY;AACdJ,QAAAA,OAAO,CAACI,MAAD,CAAP;AACH,OAHL,WAIW,UAACC,KAAD,EAAW;AACdJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACH,OANL;AAOH,KARM,CAAP;AASH;;QAEMG,MAAP,aAAWrB,KAAX,EAAkBG,OAAlB,EAA2BC,QAA3B,EAAqCC,MAArC,EAA6Ce,IAA7C,EAAmDd,aAAnD,EAAkE;AAC9D,QAAIC,GAAG,GAAGJ,OAAO,GAAGC,QAApB;AAEAJ,IAAAA,KAAK,GAAG,KAAKD,UAAL,CAAgBC,KAAhB,CAAR;AACA,QAAIQ,cAAc,GAAG;AACjB,sBAAgB,kBADC;AAEjB,gBAAU,kBAFO;AAGjB,uBAAiBR;AAHA,KAArB;AAKAQ,IAAAA,cAAc,gBAAQA,cAAR,EAA2BF,aAA3B,CAAd;AAEA,QAAIG,MAAM,GAAG;AACTC,MAAAA,MAAM,EAAE,KADC;AAETH,MAAAA,GAAG,EAAEA,GAFI;AAGTF,MAAAA,MAAM,EAAEA,MAAM,IAAI,EAHT;AAITe,MAAAA,IAAI,EAAEA,IAJG;AAKTT,MAAAA,OAAO,EAAEH;AALA,KAAb;AAQA,WAAO,IAAII,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CC,MAAAA,KAAK,CAACN,MAAD,CAAL,CACKO,IADL,CACU,UAACC,MAAD,EAAY;AACdJ,QAAAA,OAAO,CAACI,MAAD,CAAP;AACH,OAHL,WAIW,UAACC,KAAD,EAAW;AACdJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACH,OANL;AAOH,KARM,CAAP;AASH;;oBAED,iBAAclB,KAAd,EAAqBG,OAArB,EAA8BC,QAA9B,EAAwCC,MAAxC,EAAgDC,aAAhD,EAA+D;AAC3D,QAAIC,GAAG,GAAGJ,OAAO,GAAGC,QAApB;AAEAJ,IAAAA,KAAK,GAAG,KAAKD,UAAL,CAAgBC,KAAhB,CAAR;AACA,QAAIQ,cAAc,GAAG;AACjB,sBAAgB,kBADC;AAEjB,gBAAU,kBAFO;AAGjB,uBAAiBR;AAHA,KAArB;AAKAQ,IAAAA,cAAc,gBAAQA,cAAR,EAA2BF,aAA3B,CAAd;AAEA,QAAIG,MAAM,GAAG;AACTC,MAAAA,MAAM,EAAE,QADC;AAETH,MAAAA,GAAG,EAAEA,GAFI;AAGTF,MAAAA,MAAM,EAAEA,MAAM,IAAI,EAHT;AAITM,MAAAA,OAAO,EAAEH;AAJA,KAAb;AAOA,WAAO,IAAII,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CC,MAAAA,KAAK,CAACN,MAAD,CAAL,CACKO,IADL,CACU,UAACC,MAAD,EAAY;AACdJ,QAAAA,OAAO,CAACI,MAAD,CAAP;AACH,OAHL,WAIW,UAACC,KAAD,EAAW;AACdJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACH,OANL;AAOH,KARM,CAAP;AASH;;QAMMI,YAAP,mBAAiBnB,OAAjB,EAA0BC,QAA1B,EAAoCC,MAApC,EAA4CC,aAA5C,EAA2D;AACvD,QAAIC,GAAG,GAAGJ,OAAO,GAAGC,QAApB;AAEA,QAAII,cAAc,GAAG;AACjB,sBAAgB,kBADC;AAEjB,gBAAU;AAFO,KAArB;AAIAA,IAAAA,cAAc,gBAAQA,cAAR,EAA2BF,aAA3B,CAAd;AAEA,QAAIG,MAAM,GAAG;AACTC,MAAAA,MAAM,EAAE,KADC;AAETH,MAAAA,GAAG,EAAEA,GAFI;AAGTF,MAAAA,MAAM,EAAEA,MAAM,IAAI,EAHT;AAITM,MAAAA,OAAO,EAAEH;AAJA,KAAb;AAOA,WAAO,IAAII,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CC,MAAAA,KAAK,CAACN,MAAD,CAAL,CACKO,IADL,CACU,UAACC,MAAD,EAAY;AACdJ,QAAAA,OAAO,CAACI,MAAD,CAAP;AACH,OAHL,WAIW,UAACC,KAAD,EAAW;AACdJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACH,OANL;AAOH,KARM,CAAP;AASH;;QAEMK,aAAP,oBAAkBpB,OAAlB,EAA2BC,QAA3B,EAAqCC,MAArC,EAA6Ce,IAA7C,EAAmDd,aAAnD,EAAkE;AAC9D,QAAIC,GAAG,GAAGJ,OAAO,GAAGC,QAApB;AAEA,QAAII,cAAc,GAAG;AACjB,sBAAgB,kBADC;AAEjB,gBAAU;AAFO,KAArB;AAIAA,IAAAA,cAAc,gBAAQA,cAAR,EAA2BF,aAA3B,CAAd;AAEA,QAAIG,MAAM,GAAG;AACTC,MAAAA,MAAM,EAAE,MADC;AAETH,MAAAA,GAAG,EAAEA,GAFI;AAGTF,MAAAA,MAAM,EAAEA,MAAM,IAAI,EAHT;AAITe,MAAAA,IAAI,EAAEA,IAJG;AAKTT,MAAAA,OAAO,EAAEH;AALA,KAAb;AAQA,WAAO,IAAII,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CC,MAAAA,KAAK,CAACN,MAAD,CAAL,CACKO,IADL,CACU,UAACC,MAAD,EAAY;AACdJ,QAAAA,OAAO,CAACI,MAAD,CAAP;AACH,OAHL,WAIW,UAACC,KAAD,EAAW;AACdJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACH,OANL;AAOH,KARM,CAAP;AASH;;QAEMM,YAAP,mBAAiBrB,OAAjB,EAA0BC,QAA1B,EAAoCC,MAApC,EAA4Ce,IAA5C,EAAkDd,aAAlD,EAAiE;AAC7D,QAAIC,GAAG,GAAGJ,OAAO,GAAGC,QAApB;AAEA,QAAII,cAAc,GAAG;AACjB,sBAAgB,kBADC;AAEjB,gBAAU;AAFO,KAArB;AAIAA,IAAAA,cAAc,gBAAQA,cAAR,EAA2BF,aAA3B,CAAd;AAEA,QAAIG,MAAM,GAAG;AACTC,MAAAA,MAAM,EAAE,KADC;AAETH,MAAAA,GAAG,EAAEA,GAFI;AAGTF,MAAAA,MAAM,EAAEA,MAAM,IAAI,EAHT;AAITe,MAAAA,IAAI,EAAEA,IAJG;AAKTT,MAAAA,OAAO,EAAEH;AALA,KAAb;AAQA,WAAO,IAAII,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CC,MAAAA,KAAK,CAACN,MAAD,CAAL,CACKO,IADL,CACU,UAACC,MAAD,EAAY;AACdJ,QAAAA,OAAO,CAACI,MAAD,CAAP;AACH,OAHL,WAIW,UAACC,KAAD,EAAW;AACdJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACH,OANL;AAOH,KARM,CAAP;AASH;;;;;ACpNE,IAAMO,kBAAkB,GAAG,iBAA3B;AACP,AAAO,IAAMC,aAAa,GAAG,YAAtB;AACP,AAAO,IAAMC,OAAO,GAAG,MAAhB;AACP,AAAO,IAAMC,SAAS,GAAG,UAAlB;AACP,AAAO,IAAMC,WAAW,GAAG,aAApB;AACP,AAAO,IAAMC,mBAAmB,GAAG,sBAA5B;AACP,AAAO,IAAMC,oBAAoB,GAAG,oBAA7B;;ACHP,IAAMC,gBAAgB,GAAGC,OAAO,CAAC,uBAAD,CAAhC;;AAEAD,gBAAgB,CAACE,OAAjB,GAA2B,UAAUC,GAAV,EAAe;AACtC,MAAIA,GAAG,IAAIC,WAAX,EAAkC;AAC9B,QAAIN,qBAAmB,GAAGM,mBAA1B;AACA,QAAIC,oBAAoB,GAAG,IAAIC,KAAJ,CAAUR,qBAAV,CAA3B;AACAO,IAAAA,oBAAoB,CAACF,GAArB,GAA2BA,GAA3B;AACAI,IAAAA,MAAM,CAACC,aAAP,CAAqBH,oBAArB;AACH;AACJ,CAPD;;IASqBI;;;sBACVC,WAAP,kBAAgBC,KAAhB,EAAuB;AACnB,QAAIA,KAAK,IAAI,IAAb,EAAmB;AACfA,MAAAA,KAAK,GAAGA,KAAK,CAAC1C,UAAN,CAAiB,GAAjB,EAAsB,EAAtB,CAAR;AACH;;AACD,WAAO0C,KAAP;AACH;;sBAKMC,iBAAP,0BAAwB;AACpB,QAAIf,aAAW,GAAGgB,cAAc,CAACC,OAAf,CAAuBV,WAAvB,CAAlB;AACAP,IAAAA,aAAW,GAAG,KAAKa,QAAL,CAAcb,aAAd,CAAd;AACA,WAAOA,aAAP;AACH;;sBAEMkB,iBAAP,wBAAsBlB,aAAtB,EAAmC;AAC/B,WAAO,IAAIjB,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CkB,MAAAA,gBAAgB,CAACX,GAAjB,CAAqBe,WAArB,EAA4CP,aAA5C,EAAyD,UAACX,KAAD,EAAW;AAChE,YAAIA,KAAJ,EAAW;AACPJ,UAAAA,MAAM,CAACI,KAAD,CAAN;AACH,SAFD,MAEO;AACHc,UAAAA,gBAAgB,CAACE,OAAjB,CAAyBE,WAAzB;AACAvB,UAAAA,OAAO,CAACgB,aAAD,CAAP;AACH;AACJ,OAPD;AAQH,KATM,CAAP;AAUH;;sBAEMmB,oBAAP,6BAA2B;AACvB,WAAO,IAAIpC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CkB,MAAAA,gBAAgB,CAACiB,MAAjB,CAAwBb,WAAxB,EAA+C,UAAClB,KAAD,EAAW;AACtD,YAAIA,KAAJ,EAAW;AACPJ,UAAAA,MAAM,CAACI,KAAD,CAAN;AACH,SAFD,MAEO;AACHL,UAAAA,OAAO;AACV;AACJ,OAND;AAOH,KARM,CAAP;AASH;;sBAKMqC,sBAAP,+BAA6B;AACzB,QAAIzB,oBAAkB,GAAGoB,cAAc,CAACC,OAAf,CAAuBV,kBAAvB,CAAzB;AACAX,IAAAA,oBAAkB,GAAG,KAAKiB,QAAL,CAAcjB,oBAAd,CAArB;AACA,WAAOA,oBAAP;AACH;;sBAEM0B,sBAAP,6BAA2BC,gBAA3B,EAA6C;AACzC,WAAO,IAAIxC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CkB,MAAAA,gBAAgB,CAACX,GAAjB,CAAqBe,kBAArB,EAAmDgB,gBAAnD,EAAqE,UAAClC,KAAD,EAAW;AAC5E,YAAIA,KAAJ,EAAW;AACPJ,UAAAA,MAAM,CAACI,KAAD,CAAN;AACH,SAFD,MAEO;AACHL,UAAAA,OAAO,CAACuC,gBAAD,CAAP;AACH;AACJ,OAND;AAOH,KARM,CAAP;AASH;;sBAEMC,yBAAP,kCAAgC;AAC5B,WAAO,IAAIzC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CkB,MAAAA,gBAAgB,CAACiB,MAAjB,CAAwBb,kBAAxB,EAAsD,UAAClB,KAAD,EAAW;AAC7D,YAAIA,KAAJ,EAAW;AACPJ,UAAAA,MAAM,CAACI,KAAD,CAAN;AACH,SAFD,MAEO;AACHL,UAAAA,OAAO;AACV;AACJ,OAND;AAOH,KARM,CAAP;AASH;;sBAKMyC,iBAAP,0BAAwB;AACpB,QAAI5B,eAAa,GAAGmB,cAAc,CAACC,OAAf,CAAuBV,aAAvB,CAApB;AACAV,IAAAA,eAAa,GAAG,KAAKgB,QAAL,CAAchB,eAAd,CAAhB;AACA,WAAOA,eAAP;AACH;;sBAEM6B,iBAAP,wBAAsBC,WAAtB,EAAmC;AAC/B,WAAO,IAAI5C,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CkB,MAAAA,gBAAgB,CAACX,GAAjB,CAAqBe,aAArB,EAA8CoB,WAA9C,EAA2D,UAACtC,KAAD,EAAW;AAClE,YAAIA,KAAJ,EAAW;AACPJ,UAAAA,MAAM,CAACI,KAAD,CAAN;AACH,SAFD,MAEO;AACHL,UAAAA,OAAO,CAAC2C,WAAD,CAAP;AACH;AACJ,OAND;AAOH,KARM,CAAP;AASH;;sBAEMC,oBAAP,6BAA2B;AACvB,WAAO,IAAI7C,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CkB,MAAAA,gBAAgB,CAACiB,MAAjB,CAAwBb,aAAxB,EAAiD,UAAClB,KAAD,EAAW;AACxD,YAAIA,KAAJ,EAAW;AACPJ,UAAAA,MAAM,CAACI,KAAD,CAAN;AACH,SAFD,MAEO;AACHL,UAAAA,OAAO;AACV;AACJ,OAND;AAOH,KARM,CAAP;AASH;;sBAKM6C,UAAP,mBAAiB;AACb,QAAI/B,SAAO,GAAGkB,cAAc,CAACC,OAAf,CAAuBV,OAAvB,CAAd;AACA,WAAOT,SAAP;AACH;;sBAEMgC,UAAP,iBAAehC,SAAf,EAAwB;AACpB,WAAO,IAAIf,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CkB,MAAAA,gBAAgB,CAACX,GAAjB,CAAqBe,OAArB,EAAwCT,SAAxC,EAAiD,UAACT,KAAD,EAAW;AACxD,YAAIA,KAAJ,EAAW;AACPJ,UAAAA,MAAM,CAACI,KAAD,CAAN;AACH,SAFD,MAEO;AACHL,UAAAA,OAAO,CAACc,SAAD,CAAP;AACH;AACJ,OAND;AAOH,KARM,CAAP;AASH;;sBAEMiC,aAAP,sBAAoB;AAChB,WAAO,IAAIhD,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CkB,MAAAA,gBAAgB,CAACiB,MAAjB,CAAwBb,OAAxB,EAA2C,UAAClB,KAAD,EAAW;AAClD,YAAIA,KAAJ,EAAW;AACPJ,UAAAA,MAAM,CAACI,KAAD,CAAN;AACH,SAFD,MAEO;AACHL,UAAAA,OAAO;AACV;AACJ,OAND;AAOH,KARM,CAAP;AASH;;sBAKMgD,cAAP,uBAAqB;AACjB,QAAIjC,WAAS,GAAGiB,cAAc,CAACC,OAAf,CAAuBV,SAAvB,CAAhB;AACAR,IAAAA,WAAS,GAAG,KAAKc,QAAL,CAAcd,WAAd,CAAZ;AACA,WAAOA,WAAP;AACH;;sBAEMkC,cAAP,qBAAmBC,QAAnB,EAA6B;AACzB,WAAO,IAAInD,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CkB,MAAAA,gBAAgB,CAACX,GAAjB,CAAqBe,SAArB,EAA0C2B,QAA1C,EAAoD,UAAC7C,KAAD,EAAW;AAC3D,YAAIA,KAAJ,EAAW;AACPJ,UAAAA,MAAM,CAACI,KAAD,CAAN;AACH,SAFD,MAEO;AACHL,UAAAA,OAAO,CAACkD,QAAD,CAAP;AACH;AACJ,OAND;AAOH,KARM,CAAP;AASH;;sBAEMC,iBAAP,0BAAwB;AACpB,WAAO,IAAIpD,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CkB,MAAAA,gBAAgB,CAACiB,MAAjB,CAAwBb,SAAxB,EAA6C,UAAClB,KAAD,EAAW;AACpD,YAAIA,KAAJ,EAAW;AACPJ,UAAAA,MAAM,CAACI,KAAD,CAAN;AACH,SAFD,MAEO;AACHL,UAAAA,OAAO;AACV;AACJ,OAND;AAOH,KARM,CAAP;AASH;;;;;ICpLCoD;;;gBACGC,aAAP,sBAAoB;AAClB,WAAO,IAAItD,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C,UAAIqD,IAAI,GAAG1B,mBAAmB,CAACiB,OAApB,EAAX;;AACA,UAAIU,GAAC,CAACC,OAAF,CAAUF,IAAV,KAAmB,IAAvB,EAA6B;AAC3BtD,QAAAA,OAAO,CAAC,KAAD,CAAP;AACD,OAFD,MAEO;AACLA,QAAAA,OAAO,CAAC,IAAD,CAAP;AACD;AACF,KAPM,CAAP;AAQD;;gBAEMyD,aAAP,sBAAoB;AAClB,QAAIC,IAAI,GAAG,IAAX;AACA,WAAO,IAAI3D,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5CyD,MAAAA,IAAI,CAACL,UAAL,GACGlD,IADH,CACQ,UAACwD,MAAD,EAAY;AAChB,YAAIA,MAAM,IAAI,IAAd,EAAoB;AAClB3D,UAAAA,OAAO;AACR,SAFD,MAEO;AACLC,UAAAA,MAAM,CAAC,0BAAD,CAAN;AACD;AACF,OAPH,WAQS,UAACI,KAAD,EAAW;AAChBJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACD,OAVH;AAWD,KAZM,CAAP;AAaD;;gBAEMwC,UAAP,mBAAiB;AACf,WAAO,IAAI9C,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C,UAAIqD,IAAI,GAAG1B,mBAAmB,CAACiB,OAApB,EAAX;;AACA,UAAIU,GAAC,CAACC,OAAF,CAAUF,IAAV,KAAmB,IAAvB,EAA6B;AAC3BrD,QAAAA,MAAM,CAAC,IAAD,CAAN;AACD,OAFD,MAEO;AACLD,QAAAA,OAAO,CAACsD,IAAD,CAAP;AACD;AACF,KAPM,CAAP;AAQD;;;;;ICzCkBM;;;cACVC,qBAAP,4BAA0BC,OAA1B,EAAmCC,MAAnC,EAA2CC,SAA3C,EAAsD;AAClD,WAAO,IAAIjE,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,UAAIP,GAAG,GAAG,+CAAV;AACA,UAAIF,MAAM,GAAG;AAAE,qBAAawE;AAAf,OAAb;AAEA/E,MAAAA,KAAK,CAACI,GAAN,CAAUyE,OAAV,EAAmBC,MAAnB,EAA2BrE,GAA3B,EAAgCF,MAAhC,EACKW,IADL,CACU,UAACC,MAAD,EAAY;AACd,YAAIG,IAAI,GAAGH,MAAM,CAACG,IAAlB;AACAP,QAAAA,OAAO,CAACO,IAAD,CAAP;AACH,OAJL,WAKW,UAACF,KAAD,EAAW;AACdL,QAAAA,OAAO,CAACK,KAAD,CAAP;AACH,OAPL;AAQH,KAZM,CAAP;AAaH;;cAEM4D,4BAAP,mCAAiCH,OAAjC,EAA0CC,MAA1C,EAAkDC,SAAlD,EAA6DE,OAA7D,EAAsEC,MAAtE,EAA8E;AAC1E,WAAO,IAAIpE,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,UAAIP,GAAG,GAAG,wGAAV;AACA,UAAIF,MAAM,GAAG;AACT,qBAAawE,SADJ;AAET,mBAAWE,OAFF;AAGT,iBAASC,MAHA;AAIT,wBAAgB,IAJP;AAKT,wBAAgB,IALP;AAMT,qBAAa;AANJ,OAAb;AASAlF,MAAAA,KAAK,CAACI,GAAN,CAAUyE,OAAV,EAAmBC,MAAnB,EAA2BrE,GAA3B,EAAgCF,MAAhC,EACKW,IADL,CACU,UAACC,MAAD,EAAY;AACd,YAAIG,IAAI,GAAGH,MAAM,CAACG,IAAlB;AACAP,QAAAA,OAAO,CAACO,IAAD,CAAP;AACH,OAJL,WAKW,UAACF,KAAD,EAAW;AACdJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACH,OAPL;AAQH,KAnBM,CAAP;AAoBH;;cAEM+D,sBAAP,6BAA2BN,OAA3B,EAAoCC,MAApC,EAA4CC,SAA5C,EAAuDE,OAAvD,EAAgEC,MAAhE,EAAwE;AACpE,WAAO,IAAIpE,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,UAAIP,GAAG,GAAG,4FAAV;AACA,UAAIF,MAAM,GAAG;AACT,qBAAawE,SADJ;AAET,mBAAWE,OAFF;AAGT,iBAASC,MAHA;AAIT,wBAAgB,IAJP;AAKT,wBAAgB;AALP,OAAb;AAQAlF,MAAAA,KAAK,CAACI,GAAN,CAAUyE,OAAV,EAAmBC,MAAnB,EAA2BrE,GAA3B,EAAgCF,MAAhC,EACKW,IADL,CACU,UAACC,MAAD,EAAY;AACd,YAAIG,IAAI,GAAGH,MAAM,CAACG,IAAlB;AACAP,QAAAA,OAAO,CAACO,IAAD,CAAP;AACH,OAJL,WAKW,UAACF,KAAD,EAAW;AACdJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACH,OAPL;AAQH,KAlBM,CAAP;AAmBH;;cAEMgE,yBAAP,gCAA8BP,OAA9B,EAAuCC,MAAvC,EAA+CO,QAA/C,EAAyD;AACrD,WAAO,IAAIvE,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,UAAIP,GAAG,GAAG,4CAAV;AACA,UAAIF,MAAM,GAAG;AAAE,oBAAY8E;AAAd,OAAb;AACArF,MAAAA,KAAK,CAACI,GAAN,CAAUyE,OAAV,EAAmBC,MAAnB,EAA2BrE,GAA3B,EAAgCF,MAAhC,EACKW,IADL,CACU,UAACC,MAAD,EAAY;AACd,YAAIG,IAAI,GAAGH,MAAM,CAACG,IAAlB;AACAA,QAAAA,IAAI,GAAGA,IAAI,CAAC,CAAD,CAAJ,IAAWA,IAAlB;AACA,YAAIX,MAAM,GAAGW,IAAI,IAAIA,IAAI,CAACgE,UAAb,GAA0BhE,IAAI,CAACgE,UAA/B,GAA4C,EAAzD;AACAvE,QAAAA,OAAO,CAACJ,MAAD,CAAP;AACH,OANL,WAOW,UAACS,KAAD,EAAW;AACdJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACH,OATL;AAWH,KAdM,CAAP;AAeH;;cAEMmE,eAAP,sBAAoBV,OAApB,EAA6BC,MAA7B,EAAqCG,OAArC,EAA8C;AAC1C,WAAO,IAAInE,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,UAAIP,GAAG,GAAG,eAAewE,OAAzB;AACAjF,MAAAA,KAAK,CAACI,GAAN,CAAUyE,OAAV,EAAmBC,MAAnB,EAA2BrE,GAA3B,EAAgC,IAAhC,EACKS,IADL,CACU,UAACC,MAAD,EAAY;AACd,YAAIG,IAAI,GAAGH,MAAM,CAACG,IAAlB;AACAP,QAAAA,OAAO,CAACO,IAAD,CAAP;AACH,OAJL,WAKW,UAACF,KAAD,EAAW;AACdJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACH,OAPL;AAQH,KAVM,CAAP;AAWH;;cAEMoE,iBAAP,wBAAsBX,OAAtB,EAA+BC,MAA/B,EAAuCG,OAAvC,EAAgD;AAC5C,WAAO,IAAInE,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,UAAIP,GAAG,GAAG,4CAAV;AACA,UAAIF,MAAM,GAAG;AAAE,mBAAW0E;AAAb,OAAb;AAEAjF,MAAAA,KAAK,CAACI,GAAN,CAAUyE,OAAV,EAAmBC,MAAnB,EAA2BrE,GAA3B,EAAgCF,MAAhC,EACKW,IADL,CACU,UAACC,MAAD,EAAY;AACd,YAAIG,IAAI,GAAGH,MAAM,CAACG,IAAlB;AACAA,QAAAA,IAAI,GAAGA,IAAI,CAAC,CAAD,CAAJ,IAAWA,IAAlB;AACAP,QAAAA,OAAO,CAACO,IAAD,CAAP;AACH,OALL,WAMW,UAACF,KAAD,EAAW;AACdJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACH,OARL;AASH,KAbM,CAAP;AAcH;;cAEMqE,mBAAP,0BAAwBZ,OAAxB,EAAiCC,MAAjC,EAAyCzC,GAAzC,EAA8C;AAC1C,WAAO,IAAIvB,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,UAAIP,GAAG,GAAG,4BAAV;AAEA4B,MAAAA,GAAG,GAAGA,GAAG,IAAI,MAAb;AACA,UAAI9B,MAAM,GAAG;AAAE,eAAO8B;AAAT,OAAb;AAEArC,MAAAA,KAAK,CAACI,GAAN,CAAUyE,OAAV,EAAmBC,MAAnB,EAA2BrE,GAA3B,EAAgCF,MAAhC,EACKW,IADL,CACU,UAACC,MAAD,EAAY;AACd,YAAIG,IAAI,GAAGH,MAAM,CAACG,IAAlB;AACAP,QAAAA,OAAO,CAACO,IAAD,CAAP;AACH,OAJL,WAKW,UAACF,KAAD,EAAW;AACdJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACH,OAPL;AAQH,KAdM,CAAP;AAeH;;cAEMsE,+BAAP,sCAAoCb,OAApC,EAA6CC,MAA7C,EAAqDC,SAArD,EAAgE;AAC5D,WAAO,IAAIjE,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,UAAIP,GAAG,2DAAP;AACA,UAAIF,MAAM,GAAG;AAAE,qBAAawE;AAAf,OAAb;AAEA/E,MAAAA,KAAK,CAACI,GAAN,CAAUyE,OAAV,EAAmBC,MAAnB,EAA2BrE,GAA3B,EAAgCF,MAAhC,EACKW,IADL,CACU,UAACC,MAAD,EAAY;AACd,YAAIG,IAAI,GAAGH,MAAM,CAACG,IAAP,IAAe,EAA1B;AACA,YAAIqE,SAAS,GAAGrE,IAAI,CAACqE,SAAL,IAAkB,EAAlC;AACA5E,QAAAA,OAAO,CAAC4E,SAAD,CAAP;AACH,OALL,WAMW,UAACvE,KAAD,EAAW;AACdJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACH,OARL;AASH,KAbM,CAAP;AAcH;;cAEMwE,8BAAP,qCAAmCf,OAAnC,EAA4CC,MAA5C,EAAoDe,kBAApD,EAAwE;AACpE,WAAO,IAAI/E,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,UAAIP,GAAG,GAAG,8DAAV;AACA,UAAIF,MAAM,GAAG;AAAE,8BAAsBsF;AAAxB,OAAb;AAEA7F,MAAAA,KAAK,CAACI,GAAN,CAAUyE,OAAV,EAAmBC,MAAnB,EAA2BrE,GAA3B,EAAgCF,MAAhC,EACKW,IADL,CACU,UAACC,MAAD,EAAY;AACd,YAAIG,IAAI,GAAGH,MAAM,CAACG,IAAP,IAAe,EAA1B;AACA,YAAIqE,SAAS,GAAGrE,IAAI,CAACqE,SAAL,IAAkB,EAAlC;AACA5E,QAAAA,OAAO,CAAC4E,SAAD,CAAP;AACH,OALL,WAMW,UAACvE,KAAD,EAAW;AACdJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACH,OARL;AASH,KAbM,CAAP;AAcH;;;;;ICjKgB0E;;;YAKVC,eAAP,wBAAsB;AAClB,QAAItB,IAAI,GAAG,IAAX;AACA,WAAO,IAAI3D,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,UAAIqD,IAAI,GAAG1B,mBAAmB,CAACiB,OAApB,EAAX;;AACA,UAAIU,CAAC,CAACC,OAAF,CAAUF,IAAV,KAAmB,IAAvB,EAA6B;AACzBrD,QAAAA,MAAM,CAAC,gBAAD,CAAN;AACH,OAFD,MAEO;AACHyD,QAAAA,IAAI,CAACZ,OAAL,CAAaQ,IAAb;AACAtD,QAAAA,OAAO;AACV;AACJ,KARM,CAAP;AASH;;YAEM8C,UAAP,iBAAeQ,IAAf,EAAqB;AACjB,SAAKA,IAAL,GAAYA,IAAZ;AACH;;YAEMT,UAAP,mBAAiB;AACb,WAAO,KAAKS,IAAZ;AACH;;YAEM2B,UAAP,mBAAiB;AACb,QAAIC,IAAI,GAAG,KAAK5B,IAAL,CAAU4B,IAAV,IAAkB,EAA7B;AACA,WAAOA,IAAP;AACH;;YAEMC,YAAP,qBAAmB;AACf,QAAID,IAAI,GAAG,KAAK5B,IAAL,CAAU4B,IAAV,IAAkB,EAA7B;AACA,QAAIf,MAAM,GAAGe,IAAI,CAACE,EAAlB;AACA,WAAOjB,MAAP;AACH;;YAEMkB,cAAP,uBAAqB;AACjB,QAAIH,IAAI,GAAG,KAAK5B,IAAL,CAAU4B,IAAV,IAAkB,EAA7B;AACA,QAAII,IAAI,GAAGJ,IAAI,CAACI,IAAhB;AACA,WAAOA,IAAP;AACH;;YAEMC,iBAAP,0BAAwB;AACpB,QAAIL,IAAI,GAAG,KAAK5B,IAAL,CAAU4B,IAAV,IAAkB,EAA7B;AACA,QAAIM,OAAO,GAAGN,IAAI,CAACM,OAAnB;AACA,WAAOA,OAAP;AACH;;YAEMC,iBAAP,0BAAwB;AACpB,QAAInC,IAAI,GAAG,KAAKA,IAAL,IAAa,EAAxB;AACA,QAAIoC,IAAI,GAAGpC,IAAI,CAACoC,IAAhB;AACA,WAAOA,IAAP;AACH;;YAEM3D,iBAAP,0BAAwB;AACpB,WAAO,KAAK0D,cAAL,EAAP;AACH;;YAEME,cAAP,uBAAqB;AACjB,WAAO,KAAKF,cAAL,EAAP;AACH;;YAEMG,uBAAP,gCAA8B;AAC1B,QAAItC,IAAI,GAAG,KAAKA,IAAL,IAAa,EAAxB;AACA,QAAI4B,IAAI,GAAG5B,IAAI,CAAC4B,IAAL,IAAa,EAAxB;AACA,QAAIW,KAAK,GAAGX,IAAI,CAACY,MAAL,IAAe,EAA3B;AACA,QAAIC,kBAAkB,GAAGF,KAAK,CAACG,mBAAN,IAA6B,EAAtD;AACA,QAAIC,SAAS,GAAGF,kBAAkB,CAACG,YAAnB,IAAmC,EAAnD;AAEA,WAAOD,SAAP;AACH;;YAEME,0BAAP,mCAAiC;AAC7B,QAAIjB,IAAI,GAAG,KAAK5B,IAAL,CAAU4B,IAAV,IAAkB,EAA7B;AACA,QAAIkB,WAAW,GAAGlB,IAAI,CAACmB,WAAL,IAAoB,EAAtC;AACA,WAAOD,WAAP;AACH;;YAEME,qBAAP,4BAA0BC,cAA1B,EAA0C;AACtC,QAAIrB,IAAI,GAAG,KAAK5B,IAAL,CAAU4B,IAAV,IAAkB,EAA7B;AACA,QAAIkB,WAAW,GAAGlB,IAAI,CAACmB,WAAL,IAAoB,EAAtC;AACA,QAAIG,SAAS,GAAGJ,WAAW,CAACG,cAAD,CAAX,IAA+B,GAA/C;AAEA,WAAOC,SAAP;AACH;;YAEMC,aAAP,sBAAoB;AAChB,QAAIvB,IAAI,GAAG,KAAK5B,IAAL,CAAU4B,IAAV,IAAkB,EAA7B;AACA,QAAIhB,OAAO,GAAGgB,IAAI,CAAChB,OAAnB;AACA,WAAOA,OAAP;AACH;;YAEMwC,gBAAP,yBAAuB;AACnB,QAAIxB,IAAI,GAAG,KAAK5B,IAAL,CAAU4B,IAAV,IAAkB,EAA7B;AACA,QAAIyB,UAAU,GAAGzB,IAAI,CAACyB,UAAtB;AACA,WAAOA,UAAP;AACH;;YAEMC,eAAP,wBAAqB;AACjB,QAAI1B,IAAI,GAAG,KAAK5B,IAAL,CAAU4B,IAAV,IAAkB,EAA7B;AACA,QAAI2B,SAAS,GAAG3B,IAAI,CAAC4B,WAArB;AACA,WAAOD,SAAP;AACH;;YAEME,aAAP,sBAAoB;AAChB,QAAI7B,IAAI,GAAG,KAAK5B,IAAL,IAAa,KAAKA,IAAL,CAAU4B,IAAvB,GAA8B,KAAK5B,IAAL,CAAU4B,IAAxC,GAA+C,IAA1D;;AACA,QAAIA,IAAI,CAACI,IAAL,IAAa,OAAb,IAAwBJ,IAAI,CAACM,OAAL,IAAgB,WAA5C,EAAyD;AACrD,aAAON,IAAI,CAACyB,UAAZ;AACH,KAFD,MAEO,IAAIzB,IAAI,CAACI,IAAL,IAAa,OAAjB,EAA0B;AAC7B,aAAOJ,IAAI,CAACE,EAAZ;AACH,KAFM,MAEA,IAAIF,IAAI,CAACI,IAAL,IAAa,eAAb,IAAgCJ,IAAI,CAACM,OAAL,IAAgB,iBAApD,EAAuE;AAC1E,aAAON,IAAI,CAACyB,UAAZ;AACH,KAFM,MAEA,IAAIzB,IAAI,CAACI,IAAL,IAAa,eAAjB,EAAkC;AACrC,aAAOJ,IAAI,CAACE,EAAZ;AACH;AACJ;;YAEM4B,cAAP,uBAAqB;AACjB,WAAO,KAAKD,UAAL,EAAP;AACH;;;;;AAxHgBhC,UACVkC,cAAc;AADJlC,UAGVzB,OAAO;;ACIlB,SAAS4D,cAAT,GAA0B;AACtB,WAASC,qBAAT,CAA+BC,MAA/B,EAAuC;AACnC,WAAOA,MAAM,CAACC,MAAP,CAAc,CAAd,EAAiBC,WAAjB,KAAiCF,MAAM,CAACG,KAAP,CAAa,CAAb,CAAxC;AACH;;AAED,MAAI;AACA,QAAIC,WAAW,GAAGC,SAAS,CAACC,QAAV,IAAsBD,SAAS,CAACE,YAAlD;AACAH,IAAAA,WAAW,GAAGA,WAAW,CAACI,SAAZ,CAAsB,CAAtB,EAAyB,CAAzB,EAA4BC,WAA5B,EAAd;AACAL,IAAAA,WAAW,GAAGL,qBAAqB,CAACK,WAAD,CAAnC;AACA,WAAOA,WAAP;AACH,GALD,CAKE,OAAOM,CAAP,EAAU;AACRC,IAAAA,OAAO,CAAC1H,KAAR,CAAcyH,CAAd;AACA,WAAO,IAAP;AACH;AACJ;;AAED,AAAO,SAASE,8BAAT,GAA0C;AAC7C,MAAMR,WAAW,GAAGN,cAAc,EAAlC;AACA,MAAMxB,IAAI,GAAG9D,mBAAmB,CAACG,cAApB,MAAwCgD,SAAS,CAACU,cAAV,EAAxC,IAAsE+B,WAAtE,IAAqF,IAAlG;AACA,SAAO9B,IAAP;AACH;AAED,AAAO,SAASuC,gCAAT,CAA0CnE,OAA1C,EAAmDC,MAAnD,EAA2DC,SAA3D,EAAsEE,OAAtE,EAA+E;AAClF,SAAON,WAAW,CAACQ,mBAAZ,CAAgCN,OAAhC,EAAyCC,MAAzC,EAAiDC,SAAjD,EAA4DE,OAA5D,EAAqEA,OAArE,CAAP;AACH;AAED,AAAO,SAASgE,gCAAT,CAA0CpE,OAA1C,EAAmDC,MAAnD,EAA2DC,SAA3D,EAAsEE,OAAtE,EAA+EiE,OAA/E,EAAwF;AAC3F,SAAO,IAAIpI,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,QAAImI,EAAE,GAAGxE,WAAW,CAACK,yBAAZ,CAAsCH,OAAtC,EAA+CC,MAA/C,EAAuDC,SAAvD,EAAkEE,OAAlE,EAA2EA,OAA3E,CAAT;AACA,QAAImE,EAAE,GAAGzE,WAAW,CAACQ,mBAAZ,CAAgCN,OAAhC,EAAyCC,MAAzC,EAAiDC,SAAjD,EAA4DE,OAA5D,EAAqEiE,OAArE,CAAT;AACApI,IAAAA,OAAO,CAACuI,GAAR,CAAY,CAACF,EAAD,EAAKC,EAAL,CAAZ,EACKlI,IADL,CACU,UAACoI,OAAD,EAAa;AACf,UAAIC,mBAAmB,GAAGD,OAAO,CAAC,CAAD,CAAjC;AACA,UAAIE,qBAAqB,GAAGF,OAAO,CAAC,CAAD,CAAnC;AAEA,UAAIG,gBAAgB,GAAGnF,GAAC,CAACC,OAAF,CAAUgF,mBAAV,KAAkC,KAAlC,GAA0CA,mBAA1C,GAAgEC,qBAAvF;AACAzI,MAAAA,OAAO,CAAC0I,gBAAD,CAAP;AACH,KAPL,WAQW,UAACrI,KAAD,EAAW;AACdJ,MAAAA,MAAM,CAACI,KAAD,CAAN;AACH,KAVL;AAWH,GAdM,CAAP;AAeH;AAED,AAAO,SAAS+D,mBAAT,CAA6BN,OAA7B,EAAsCC,MAAtC,EAA8C4E,YAA9C,EAA4D3E,SAA5D,EAAuEE,OAAvE,EAAgFiE,OAAhF,EAAyFS,WAAzF,EAAsG;AACzG,MAAIlF,IAAI,GAAG,IAAX;AACA,SAAO,IAAI3D,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C2D,IAAAA,WAAW,CAACC,kBAAZ,CAA+BC,OAA/B,EAAwCC,MAAxC,EAAgDC,SAAhD,EACK7D,IADL,CACU,UAAC0I,eAAD,EAAqB;AACvBD,MAAAA,WAAW,CAACE,kBAAZ,CAA+BD,eAA/B;;AAEA,UAAIF,YAAY,IAAI,OAApB,EAA6B;AACzB,eAAOjF,IAAI,CAACuE,gCAAL,CAAsCnE,OAAtC,EAA+CC,MAA/C,EAAuDC,SAAvD,EAAkEE,OAAlE,CAAP;AACH,OAFD,MAEO,IAAIyE,YAAY,IAAI,OAApB,EAA6B;AAChC,eAAOjF,IAAI,CAACwE,gCAAL,CAAsCpE,OAAtC,EAA+CC,MAA/C,EAAuDC,SAAvD,EAAkEE,OAAlE,EAA2EiE,OAA3E,CAAP;AACH;AACJ,KATL,EAUKhI,IAVL,CAUU,UAACuI,gBAAD,EAAsB;AACxB,UAAInF,GAAC,CAACC,OAAF,CAAUkF,gBAAV,KAA+B,IAAnC,EAAyC;AACrCzI,QAAAA,MAAM,CAAC,aAAa+D,SAAb,GAAyB,iBAA1B,CAAN;AACH,OAFD,MAEO;AACHhE,QAAAA,OAAO,CAAC0I,gBAAD,CAAP;AACH;AACJ,KAhBL,WAiBW,UAACrI,KAAD,EAAW;AACd0H,MAAAA,OAAO,CAAC1H,KAAR,CAAcA,KAAd;AACH,KAnBL;AAoBH,GArBM,CAAP;AAsBH;AAED,AAAO,SAAS0I,qBAAT,CAA+BjF,OAA/B,EAAwCC,MAAxC,EAAgDC,SAAhD,EAA2Dc,kBAA3D,EAA+E;AAClF,SAAO,IAAI/E,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,QAAImI,EAAE,GAAGxE,WAAW,CAACe,4BAAZ,CAAyCb,OAAzC,EAAkDC,MAAlD,EAA0DC,SAA1D,CAAT;AACA,QAAIqE,EAAE,GAAGvD,kBAAkB,GAAGlB,WAAW,CAACiB,2BAAZ,CAAwCf,OAAxC,EAAiDC,MAAjD,EAAyDe,kBAAzD,CAAH,GAAkF,IAA7G;AAEA/E,IAAAA,OAAO,CAACuI,GAAR,CAAY,CAACF,EAAD,EAAKC,EAAL,CAAZ,EACKlI,IADL,CACU,UAACoI,OAAD,EAAa;AACf,UAAIS,yBAAyB,GAAGT,OAAO,CAAC,CAAD,CAAvC;AACA,UAAIU,wBAAwB,GAAGV,OAAO,CAAC,CAAD,CAAtC;;AAEA,UAAIW,YAAY,gBAAQF,yBAAR,EAAsCC,wBAAtC,CAAhB;;AAEAjJ,MAAAA,OAAO,CAACkJ,YAAD,CAAP;AACH,KARL,WASW,UAAC7I,KAAD,EAAW;AACdJ,MAAAA,MAAM,CAAC,4BAAD,CAAN;AACH,KAXL;AAYH,GAhBM,CAAP;AAiBH;AAED,AAAO,SAASkJ,eAAT,CAAyBC,oBAAzB,EAA+CC,eAA/C,EAAgEC,oBAAhE,EAAsF;AACzF,MAAIC,qBAAqB,GAAG,EAA5B;;AACAhG,EAAAA,GAAC,CAACiG,IAAF,CAAOH,eAAP,EAAwB,UAACI,GAAD,EAAMnI,GAAN,EAAc;AAClC,QAAI2E,SAAS,GAAGyD,MAAM,CAACC,IAAP,CAAYF,GAAZ,CAAhB;;AACAlG,IAAAA,GAAC,CAACiG,IAAF,CAAOvD,SAAP,EAAkB,UAACyB,QAAD,EAAc;AAC5B,UAAI6B,qBAAqB,CAAC7B,QAAD,CAArB,IAAmC,IAAvC,EAA6C;AACzC6B,QAAAA,qBAAqB,CAAC7B,QAAD,CAArB,GAAkC,EAAlC;AACH;;AAED6B,MAAAA,qBAAqB,CAAC7B,QAAD,CAArB,CAAgCpG,GAAhC,IAAuCmI,GAAG,CAAC/B,QAAD,CAA1C;AACH,KAND;AAOH,GATD;;AAWA6B,EAAAA,qBAAqB,CAACK,EAAtB,GAA2BL,qBAAqB,CAACK,EAAtB,IAA4B,EAAvD;AACAL,EAAAA,qBAAqB,CAACM,EAAtB,GAA2BN,qBAAqB,CAACM,EAAtB,IAA4B,EAAvD;AAEAN,EAAAA,qBAAqB,CAACK,EAAtB,gBAAgCN,oBAAoB,CAACM,EAArD,EAA4DL,qBAAqB,CAACK,EAAlF;AACAL,EAAAA,qBAAqB,CAACM,EAAtB,gBAAgCP,oBAAoB,CAACO,EAArD,EAA4DN,qBAAqB,CAACM,EAAlF;AAEAT,EAAAA,oBAAoB,CAACU,UAArB,CAAgCP,qBAAhC;AACH;AAED,AAAO,SAASQ,2BAAT,CAAqChF,SAArC,EAAgDqE,oBAAhD,EAAsE;AACzE,MAAI1D,IAAI,GAAG9D,mBAAmB,CAACG,cAApB,MAAwCgD,SAAS,CAACU,cAAV,EAAnD;AACA2D,EAAAA,oBAAoB,CAACY,WAArB,CAAiCtE,IAAjC;AACH;AAED,AAAO,SAASuE,eAAT,CAAyBlF,SAAzB,EAAoCf,SAApC,EAA+C;AAClD,SAAO,IAAIjE,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,QAAIiK,oBAAoB,GAAGnF,SAAS,CAACoB,uBAAV,EAA3B;AAEA,QAAIgE,gBAAgB,GAAGD,oBAAoB,CAAClG,SAAD,CAA3C;;AACA,QAAImG,gBAAgB,KAAK,IAArB,IAA6BA,gBAAgB,KAAK,GAAtD,EAA2D;AACvDlK,MAAAA,MAAM,CAAC,4CAA4C+D,SAA5C,GAAwD,UAAzD,CAAN;AACH,KAFD,MAEO;AACHhE,MAAAA,OAAO;AACV;AACJ,GATM,CAAP;AAUH;AAED,AAAO,SAASoK,wBAAT,CAAkCC,oBAAlC,EAAwD;AAAA,MACrDvG,OADqD,GAC6HuG,oBAD7H,CACrDvG,OADqD;AAAA,MAC5CC,MAD4C,GAC6HsG,oBAD7H,CAC5CtG,MAD4C;AAAA,MACpC4E,YADoC,GAC6H0B,oBAD7H,CACpC1B,YADoC;AAAA,MACtB3E,SADsB,GAC6HqG,oBAD7H,CACtBrG,SADsB;AAAA,MACXsG,aADW,GAC6HD,oBAD7H,CACXC,aADW;AAAA,MACIvF,SADJ,GAC6HsF,oBAD7H,CACItF,SADJ;AAAA,MACewF,YADf,GAC6HF,oBAD7H,CACeE,YADf;AAAA,MAC6BC,UAD7B,GAC6HH,oBAD7H,CAC6BG,UAD7B;AAAA,MACyC5B,WADzC,GAC6HyB,oBAD7H,CACyCzB,WADzC;AAAA,MACsDQ,oBADtD,GAC6HiB,oBAD7H,CACsDjB,oBADtD;AAAA,MAC4EE,oBAD5E,GAC6He,oBAD7H,CAC4Ef,oBAD5E;AAE3D,MAAI5F,IAAI,GAAG,IAAX;AACA,SAAO,IAAI3D,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,QAAIwK,kBAAkB,GAAG,IAAIhJ,KAAJ,CAAUF,oBAAV,CAAzB;AACAkJ,IAAAA,kBAAkB,CAACH,aAAnB,GAAmCA,aAAnC;AACA5I,IAAAA,MAAM,CAACC,aAAP,CAAqB8I,kBAArB;AAEArH,IAAAA,aAAa,CAACK,UAAd,GACKtD,IADL,CACU,YAAM;AACR,UAAImD,IAAI,GAAG1B,mBAAmB,CAACiB,OAApB,EAAX;AACAS,MAAAA,IAAI,GAAGA,IAAI,IAAI,OAAOA,IAAP,IAAe,QAAvB,GAAkCoH,IAAI,CAACC,KAAL,CAAWrH,IAAX,CAAlC,GAAqDA,IAA5D;AACA,aAAOyB,SAAS,CAACjC,OAAV,CAAkBQ,IAAlB,CAAP;AACH,KALL,EAMKnD,IANL,CAMU,YAAM;AACRuD,MAAAA,IAAI,CAACuG,eAAL,CAAqBlF,SAArB,EAAgCf,SAAhC;AACH,KARL,EASK7D,IATL,CASU,YAAM;AACR,UAAI+D,OAAO,GAAGa,SAAS,CAAC0B,UAAV,EAAd;AACA,UAAI0B,OAAO,GAAGpD,SAAS,CAACgC,UAAV,EAAd;AAEA,aAAOrD,IAAI,CAACU,mBAAL,CAAyBN,OAAzB,EAAkCC,MAAlC,EAA0C4E,YAA1C,EAAwD3E,SAAxD,EAAmEE,OAAnE,EAA4EiE,OAA5E,EAAqFS,WAArF,CAAP;AACH,KAdL,EAeKzI,IAfL,CAeU,UAACuI,gBAAD,EAAsB;AACxB,UAAI5D,kBAAkB,GAAG4D,gBAAgB,CAACtD,EAA1C;AACA,UAAIlB,OAAO,GAAGa,SAAS,CAAC0B,UAAV,EAAd;AACAmC,MAAAA,WAAW,CAACgC,mBAAZ,CAAgClC,gBAAhC;AAEA,UAAIN,EAAE,GAAG1E,IAAI,CAACqF,qBAAL,CAA2BjF,OAA3B,EAAoCC,MAApC,EAA4CC,SAA5C,EAAuDc,kBAAvD,CAAT;AACA,UAAIuD,EAAE,GAAGzE,WAAW,CAACc,gBAAZ,CAA6BZ,OAA7B,EAAsCC,MAAtC,EAA8C,IAA9C,CAAT;AACA,UAAI8G,EAAE,GAAGjH,WAAW,CAACY,YAAZ,CAAyBV,OAAzB,EAAkCC,MAAlC,EAA0CG,OAA1C,CAAT;AACA,UAAI4G,EAAE,GAAGlH,WAAW,CAACa,cAAZ,CAA2BX,OAA3B,EAAoCC,MAApC,EAA4CG,OAA5C,CAAT;AAEA,aAAOnE,OAAO,CAACuI,GAAR,CAAY,CAACF,EAAD,EAAKC,EAAL,EAASwC,EAAT,EAAaC,EAAb,CAAZ,CAAP;AACH,KA1BL,EA2BK3K,IA3BL,CA2BU,UAACoI,OAAD,EAAa;AACf,UAAIc,eAAe,GAAGd,OAAO,CAAC,CAAD,CAA7B;AACA7E,MAAAA,IAAI,CAACyF,eAAL,CAAqBC,oBAArB,EAA2CC,eAA3C,EAA4DC,oBAA5D;AACA5F,MAAAA,IAAI,CAACqG,2BAAL,CAAiChF,SAAjC,EAA4CqE,oBAA5C;AAEA,UAAI2B,aAAa,GAAGxC,OAAO,CAAC,CAAD,CAA3B;AACAgC,MAAAA,YAAY,CAACS,gBAAb,CAA8BD,aAA9B;AAEA,UAAIlF,KAAK,GAAG0C,OAAO,CAAC,CAAD,CAAnB;AACAiC,MAAAA,UAAU,CAACS,QAAX,CAAoBpF,KAApB;AAEA,UAAIqF,WAAW,GAAG3C,OAAO,CAAC,CAAD,CAAzB;AACAiC,MAAAA,UAAU,CAACW,qBAAX,CAAiCD,WAAjC;AAEAlL,MAAAA,OAAO;AACV,KA1CL,WA2CW,UAACK,KAAD,EAAW;AACd0H,MAAAA,OAAO,CAAC1H,KAAR,CAAc,4CAAd;AACAJ,MAAAA,MAAM,CAACI,KAAD,CAAN;AACH,KA9CL;AA+CH,GApDM,CAAP;AAqDH;AAED,AAAO,SAAS+K,iEAAT,CAA2Ef,oBAA3E,EAAiG;AAAA,MAC9FvG,OAD8F,GAC4DuG,oBAD5D,CAC9FvG,OAD8F;AAAA,MACrFC,MADqF,GAC4DsG,oBAD5D,CACrFtG,MADqF;AAAA,MAC7E4E,AAAc3E,SAD+D,GAC4DqG,oBAD5D,CAC/DrG,SAD+D;AAAA,MACpDsG,aADoD,GAC4DD,oBAD5D,CACpDC,aADoD;AAAA,MACrCvF,SADqC,GAC4DsF,oBAD5D,CACrCtF,SADqC;AAAA,MAC1BwF,YAD0B,GAC4DF,oBAD5D,CAC1BE,YAD0B;AAAA,MACZC,UADY,GAC4DH,oBAD5D,CACZG,UADY;AAAA,MACA5B,WADA,GAC4DyB,oBAD5D,CACAzB,WADA;AAAA,MACaQ,oBADb,GAC4DiB,oBAD5D,CACajB,oBADb;AAAA,MACmCE,oBADnC,GAC4De,oBAD5D,CACmCf,oBADnC;AAEpG,MAAI5F,IAAI,GAAG,IAAX;AACA,SAAO,IAAI3D,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAE1C,QAAIwK,kBAAkB,GAAG,IAAIhJ,KAAJ,CAAUF,oBAAV,CAAzB;AACAkJ,IAAAA,kBAAkB,CAACH,aAAnB,GAAmCA,aAAnC;AACA5I,IAAAA,MAAM,CAACC,aAAP,CAAqB8I,kBAArB;AAEArH,IAAAA,aAAa,CAACK,UAAd,GACKtD,IADL,CACU,YAAM;AACR,UAAImD,IAAI,GAAG1B,mBAAmB,CAACiB,OAApB,EAAX;AACAS,MAAAA,IAAI,GAAGA,IAAI,IAAI,OAAOA,IAAP,IAAe,QAAvB,GAAkCoH,IAAI,CAACC,KAAL,CAAWrH,IAAX,CAAlC,GAAqDA,IAA5D;AACA,aAAOyB,SAAS,CAACjC,OAAV,CAAkBQ,IAAlB,CAAP;AACH,KALL,EAMKnD,IANL,CAMU,YAAM;AACR,aAAOyD,WAAW,CAACC,kBAAZ,CAA+BC,OAA/B,EAAwCC,MAAxC,EAAgDC,SAAhD,CAAP;AACH,KARL,EASK7D,IATL,CASU,UAAC0I,eAAD,EAAqB;AACvBD,MAAAA,WAAW,CAACE,kBAAZ,CAA+BD,eAA/B;AACA,UAAI3E,OAAO,GAAGa,SAAS,CAAC0B,UAAV,EAAd;AAEA,UAAI2B,EAAE,GAAGxE,WAAW,CAACc,gBAAZ,CAA6BZ,OAA7B,EAAsCC,MAAtC,EAA8C,IAA9C,CAAT;AACA,UAAIsE,EAAE,GAAGzE,WAAW,CAACY,YAAZ,CAAyBV,OAAzB,EAAkCC,MAAlC,EAA0CG,OAA1C,CAAT;AACA,UAAI2G,EAAE,GAAGjH,WAAW,CAACa,cAAZ,CAA2BX,OAA3B,EAAoCC,MAApC,EAA4CG,OAA5C,CAAT;AAEA,aAAOnE,OAAO,CAACuI,GAAR,CAAY,CAACF,EAAD,EAAKC,EAAL,EAASwC,EAAT,CAAZ,CAAP;AACH,KAlBL,EAmBK1K,IAnBL,CAmBU,UAACoI,OAAD,EAAa;AACf,UAAIwC,aAAa,GAAGxC,OAAO,CAAC,CAAD,CAA3B;AACAgC,MAAAA,YAAY,CAACS,gBAAb,CAA8BD,aAA9B;AAEA,UAAIlF,KAAK,GAAG0C,OAAO,CAAC,CAAD,CAAnB;AACAiC,MAAAA,UAAU,CAACS,QAAX,CAAoBpF,KAApB;AAEA,UAAIqF,WAAW,GAAG3C,OAAO,CAAC,CAAD,CAAzB;AACAiC,MAAAA,UAAU,CAACW,qBAAX,CAAiCD,WAAjC;AAEA,UAAI7B,eAAe,GAAG,EAAtB;AACA3F,MAAAA,IAAI,CAACyF,eAAL,CAAqBC,oBAArB,EAA2CC,eAA3C,EAA4DC,oBAA5D;AAEAtJ,MAAAA,OAAO;AACV,KAjCL,WAkCW,UAACK,KAAD,EAAW;AACd0H,MAAAA,OAAO,CAAC1H,KAAR,CAAc,4CAAd;AACAJ,MAAAA,MAAM,CAACI,KAAD,CAAN;AACH,KArCL;AAsCH,GA5CM,CAAP;AA6CH;AAED,AAAO,SAASgL,sBAAT,GAAkC;AACrC,MAAIpK,qBAAmB,GAAGM,mBAA1B;AACA,SAAON,qBAAP;AACH;AAED,AAAO,SAASqK,uBAAT,GAAmC;AACtC,MAAIpK,sBAAoB,GAAGK,oBAA3B;AACA,SAAOL,sBAAP;AACH;AAED,AAAO,SAASqK,8BAAT,CAAwClB,oBAAxC,EAA8D;AAAA,MAC3DvG,OAD2D,GAC+FuG,oBAD/F,CAC3DvG,OAD2D;AAAA,MAClDC,MADkD,GAC+FsG,oBAD/F,CAClDtG,MADkD;AAAA,MAC1C4E,AAAc3E,SAD4B,GAC+FqG,oBAD/F,CAC5BrG,SAD4B;AAAA,MACjBsG,aADiB,GAC+FD,oBAD/F,CACjBC,aADiB;AAAA,MACFvF,SADE,GAC+FsF,oBAD/F,CACFtF,SADE;AAAA,MACSwF,YADT,GAC+FF,oBAD/F,CACSE,YADT;AAAA,MACuBC,AAAyBpB,oBADhD,GAC+FiB,oBAD/F,CACgDjB,oBADhD;AAAA,MACsEE,oBADtE,GAC+Fe,oBAD/F,CACsEf,oBADtE;AAEjE,MAAI5F,IAAI,GAAG,IAAX;AACA,SAAO,IAAI3D,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,QAAIwK,kBAAkB,GAAG,IAAIhJ,KAAJ,CAAUF,oBAAV,CAAzB;AACAkJ,IAAAA,kBAAkB,CAACH,aAAnB,GAAmCA,aAAnC;AACA5I,IAAAA,MAAM,CAACC,aAAP,CAAqB8I,kBAArB;AAEArH,IAAAA,aAAa,CAACK,UAAd,GACKtD,IADL,CACU,YAAM;AACR,UAAImD,IAAI,GAAG1B,mBAAmB,CAACiB,OAApB,EAAX;AACAS,MAAAA,IAAI,GAAGA,IAAI,IAAI,OAAOA,IAAP,IAAe,QAAvB,GAAkCoH,IAAI,CAACC,KAAL,CAAWrH,IAAX,CAAlC,GAAqDA,IAA5D;AACA,aAAOyB,SAAS,CAACjC,OAAV,CAAkBQ,IAAlB,CAAP;AACH,KALL,EAMKnD,IANL,CAMU,YAAM;AACR,UAAIiI,EAAE,GAAG1E,IAAI,CAACqF,qBAAL,CAA2BjF,OAA3B,EAAoCC,MAApC,EAA4CC,SAA5C,EAAuD,IAAvD,CAAT;AACA,UAAIqE,EAAE,GAAGzE,WAAW,CAACc,gBAAZ,CAA6BZ,OAA7B,EAAsCC,MAAtC,EAA8C,IAA9C,CAAT;AAEA,aAAOhE,OAAO,CAACuI,GAAR,CAAY,CAACF,EAAD,EAAKC,EAAL,CAAZ,CAAP;AACH,KAXL,EAYKlI,IAZL,CAYU,UAACoI,OAAD,EAAa;AACf,UAAIc,eAAe,GAAGd,OAAO,CAAC,CAAD,CAA7B;AACA7E,MAAAA,IAAI,CAACyF,eAAL,CAAqBC,oBAArB,EAA2CC,eAA3C,EAA4DC,oBAA5D;AACA5F,MAAAA,IAAI,CAACqG,2BAAL,CAAiChF,SAAjC,EAA4CqE,oBAA5C;AAEA,UAAI2B,aAAa,GAAGxC,OAAO,CAAC,CAAD,CAA3B;AACAgC,MAAAA,YAAY,CAACS,gBAAb,CAA8BD,aAA9B;AAEA/K,MAAAA,OAAO;AACV,KArBL,WAsBW,UAACK,KAAD,EAAW;AACd0H,MAAAA,OAAO,CAAC1H,KAAR,CAAc,4CAAd;AACAJ,MAAAA,MAAM,CAACI,KAAD,CAAN;AACH,KAzBL;AA0BH,GA/BM,CAAP;AAgCH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClSM,SAASmL,mBAAT,CAA6B9F,IAA7B,EAAmC;AACtC,MAAIA,IAAI,IAAIA,IAAI,KAAK,IAArB,EAA2B;AAEvB,WAAO,IAAP;AACH,GAHD,MAGO,IAAIA,IAAI,IAAIA,IAAI,KAAK,IAArB,EAA2B;AAC9B,WAAO,OAAP;AACH,GAFM,MAEA;AACH,WAAO,OAAP;AACH;AACJ;AAED,AAAO,SAAS+F,yBAAT,CAAmCC,IAAnC,EAAyCC,QAAzC,EAAmD;AACtD,SAAO,IAAI5L,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C0L,IAAAA,QAAQ,CACJvK,OAAO,CAAC,8CAAD,CADH,EAEJA,OAAO,CAAC,qCAAD,CAFH,EAGJA,OAAO,CAAC,gCAAD,CAHH,EAIJA,OAAO,CAAC,sCAAD,CAJH,EAKJA,OAAO,CAAC,mCAAD,CALH,CAAR;AAOAsK,IAAAA,IAAI,CAACE,IAAL,CAAUC,sBAAV;AACA7L,IAAAA,OAAO;AACV,GAVM,CAAP;AAWH;;;;;;;;ICzBoBuK;;;eAMVS,mBAAP,0BAAwBD,aAAxB,EAAuC;AACnC,SAAKA,aAAL,GAAqBA,aAAa,IAAI,EAAtC;AACH;;eAEMrG,mBAAP,4BAA0B;AACtB,WAAO,KAAKqG,aAAZ;AACH;;eAEMe,kBAAP,2BAAyB;AACrB,QAAIC,KAAK,GAAG,KAAKhB,aAAL,IAAsB,KAAKA,aAAL,CAAmBgB,KAAzC,GAAiD,KAAKhB,aAAL,CAAmBgB,KAApE,GAA4E,IAAxF;AACA,WAAOA,KAAP;AACH;;eAEMC,iBAAP,0BAAuB;AACnB,QAAI/E,WAAW,GAAG,KAAK8D,aAAL,IAAsB,KAAKA,aAAL,CAAmB9D,WAAzC,GAAuD,KAAK8D,aAAL,CAAmB9D,WAA1E,GAAwF,IAA1G;AACA,WAAOA,WAAP;AACH;;;;;AAtBgBsD,aAIVQ,gBAAgB;;ACJ3B,IAAMkB,YAAY,GAAG7K,OAAO,CAAC,QAAD,CAA5B;;IACqBoJ;;;aAGV0B,OAAP,cAAYC,OAAZ,EAAqB5L,IAArB,EAA2B;AACvB,SAAK6L,YAAL,CAAkBF,IAAlB,CAAuBC,OAAvB,EAAgC5L,IAAhC;AACH;;aAEM8L,KAAP,YAAUF,OAAV,EAAmBG,QAAnB,EAA6B;AACzB,WAAO,KAAKF,YAAL,CAAkBC,EAAlB,CAAqBF,OAArB,EAA8BG,QAA9B,CAAP;AACH;;aAEMC,iBAAP,wBAAsBJ,OAAtB,EAA+BG,QAA/B,EAAyC;AACrC,WAAO,KAAKF,YAAL,CAAkBG,cAAlB,CAAiCJ,OAAjC,EAA0CG,QAA1C,CAAP;AACH;;aAOMrB,WAAP,kBAAgBpF,KAAhB,EAAuB;AACnB,SAAKA,KAAL,GAAaA,KAAK,IAAI,EAAtB;AACH;;aAEM2G,WAAP,oBAAkB;AACd,WAAO,KAAK3G,KAAZ;AACH;;aAOMsF,wBAAP,+BAA6BpF,kBAA7B,EAAiD;AAC7C,SAAKA,kBAAL,GAA0BA,kBAAkB,IAAI,EAAhD;AACH;;aAEM0G,wBAAP,iCAA+B;AAC3B,WAAO,KAAK1G,kBAAZ;AACH;;aAKMU,aAAP,sBAAoB;AAChB,QAAIvC,OAAO,GAAG,KAAK2B,KAAL,CAAWT,EAAzB;AACA,WAAOlB,OAAP;AACH;;aAEM0B,uBAAP,gCAA8B;AAC1B,QAAIM,YAAY,GAAG,KAAKH,kBAAL,CAAwBG,YAA3C;AACA,WAAOA,YAAP;AACH;;aAEM8F,iBAAP,0BAAwB;AACpB,QAAI/E,WAAW,GAAG,KAAKlB,kBAAL,CAAwBkB,WAA1C;AACA,WAAOA,WAAP;AACH;;aAEMyF,cAAP,uBAAqB;AACjB,QAAIC,QAAQ,GAAG,KAAK5G,kBAAL,CAAwB4G,QAAvC;AACA,WAAOA,QAAP;AACH;;aAEMC,uBAAP,gCAA8B;AAC1B,QAAIC,iBAAiB,GAAG,KAAK9G,kBAAL,CAAwB8G,iBAAhD;AACA,WAAOA,iBAAP;AACH;;aAEMC,sBAAP,+BAA6B;AACzB,QAAIC,sBAAsB,GAAG,KAAKhH,kBAAL,IAA2B,IAA3B,GAAkC,KAAKA,kBAAL,CAAwBgH,sBAA1D,GAAmF,IAAhH;AACA,WAAOA,sBAAP;AACH;;aAEMC,sBAAP,6BAA2BD,sBAA3B,EAAmD;AAC/C,QAAIhH,kBAAkB,GAAG,KAAKA,kBAAL,GAA0B,KAAKA,kBAA/B,GAAoD,EAA7E;AACAA,IAAAA,kBAAkB,CAACgH,sBAAnB,GAA4CA,sBAA5C;AACA,SAAKhH,kBAAL,GAA0BA,kBAA1B;AACH;;;;;AA9EgByE,WACV4B,eAAe,IAAIH,YAAJ;AADLzB,WAkBV3E,QAAQ;AAlBE2E,WA+BVzE,qBAAqB;;IChCX6C;;;cAMVE,qBAAP,4BAA0BD,eAA1B,EAA2C;AACvC,SAAKA,eAAL,GAAuBA,eAAvB;AACH;;cAEMhF,qBAAP,8BAA4B;AACxB,WAAO,KAAKgF,eAAZ;AACH;;cAOM+B,sBAAP,6BAA2BlC,gBAA3B,EAA6C;AACzC,SAAKA,gBAAL,GAAwBA,gBAAxB;AACH;;cAEMtE,sBAAP,+BAA6B;AACzB,WAAO,KAAKsE,gBAAZ;AACH;;cAEMrE,yBAAP,kCAAgC;AAC5B,QAAI4I,mBAAmB,GAAG,KAAKvE,gBAAL,IAAyB,KAAKA,gBAAL,CAAsB9I,MAA/C,GAAwD,KAAK8I,gBAAL,CAAsB9I,MAA9E,GAAuF,IAAjH;AACA,WAAOqN,mBAAP;AACH;;cAEMC,uBAAP,gCAA8B;AAC1B,QAAIC,iBAAiB,GAAG,KAAKzE,gBAAL,IAAyB,KAAKA,gBAAL,CAAsB0E,WAA/C,GAA6D,KAAK1E,gBAAL,CAAsB0E,WAAnF,GAAiG,IAAzH;AACA,WAAOD,iBAAP;AACH;;;;;AAnCgBvE,YAIVC,kBAAkB;AAJRD,YAiBVF,mBAAmB;;ICRxB2E;;;AACF,sBAAYC,KAAZ,EAAmB;AAAA;;AACf,kCAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTzL,MAAAA,KAAK,EAAE,MAAKwL,KAAL,CAAWxL;AADT,KAAb;AAFe;AAKlB;;;;SAED0L,4BAAA,mCAA0BC,SAA1B,EAAqC;AAAA;;AACjCC,IAAAA,UAAU,CAAC,YAAM;AACb,MAAA,MAAI,CAACC,QAAL,CAAc;AACV7L,QAAAA,KAAK,EAAE2L,SAAS,CAAC3L;AADP,OAAd;AAGH,KAJS,EAIP,GAJO,CAAV;AAKH;;SAED8L,SAAA,kBAAS;AAAA,QACCC,MADD,GACY,KAAKP,KADjB,CACCO,MADD;AAGL,wBAAOC,6BAACC,qCAAD,eACC,KAAKT,KADN;AAEH,MAAA,KAAK,EAAE,KAAKC,KAAL,CAAWzL,KAFf;AAGH,MAAA,MAAM,EAAE+L,MAAM,IAAI;AAHf,OAAP;AAKH;;;EAxBoBG;;ICEnBX;;;AACF,sBAAYC,KAAZ,EAAmB;AAAA;;AACf,kCAAMA,KAAN;AACA,UAAKC,KAAL,GAAa,EAAb;AAFe;AAGlB;;;;SAEDK,SAAA,kBAAS;AAAA,QACCC,MADD,GACY,KAAKP,KADjB,CACCO,MADD;AAGL,wBAAOC,6BAACG,yCAAD,eACC,KAAKX,KADN;AAEH,MAAA,MAAM,EAAEO,MAAM,IAAI;AAFf,OAAP;AAIH;;;EAboBG;;ACEzBrC,gBAAQ,CACJvK,OAAO,CAAC,8CAAD,CADH,EAEJA,OAAO,CAAC,wCAAD,CAFH,EAGJA,OAAO,CAAC,mCAAD,CAHH,EAIJA,OAAO,CAAC,yCAAD,CAJH,EAKJA,OAAO,CAAC,sCAAD,CALH,CAAR;AAQAsK,YAAI,CAACE,IAAL,CAAU;AACN,WAAS;AACL,wBAAoB;AAChB,cAAQ,MADQ;AAEhB,eAAS,OAFO;AAGhB,gBAAU,QAHM;AAIhB,iBAAW,SAJK;AAKhB,eAAS,OALO;AAMhB,gBAAU,QANM;AAOhB,eAAS,OAPO;AAQhB,eAAS,OARO;AAShB,eAAS,OATO;AAUhB,eAAS,OAVO;AAWhB,gBAAU,QAXM;AAYhB,eAAS,OAZO;AAahB,gBAAU,QAbM;AAchB,cAAQ,MAdQ;AAehB,gBAAU,QAfM;AAgBhB,qBAAe,cAhBC;AAiBhB,YAAM,WAjBU;AAkBhB,aAAO,KAlBS;AAmBhB,eAAS,KAnBO;AAoBhB,cAAQ,QApBQ;AAqBhB,eAAS,SArBO;AAsBhB,gBAAU,UAtBM;AAuBhB,eAAS,SAvBO;AAwBhB,eAAS,OAxBO;AAyBhB,sBAAgB,SAzBA;AA0BhB,mBAAa,IA1BG;AA2BhB,sBAAgB,OA3BA;AA4BhB,uBAAiB,SA5BD;AA6BhB,oBAAc,QA7BE;AA8BhB,qBAAe,SA9BC;AA+BhB,sBAAgB,UA/BA;AAgChB,qBAAe;AAhCC;AADf,GADH;AAqCN,WAAS;AACL,wBAAoB;AAChB,cAAQ,SADQ;AAEhB,eAAS,aAFO;AAGhB,gBAAU,aAHM;AAIhB,iBAAW,SAJK;AAKhB,eAAS,MALO;AAMhB,gBAAU,SANM;AAOhB,eAAS,KAPO;AAQhB,eAAS,MARO;AAShB,eAAS,OATO;AAUhB,eAAS,OAVO;AAWhB,gBAAU,SAXM;AAYhB,eAAS,OAZO;AAahB,gBAAU,QAbM;AAchB,cAAQ,QAdQ;AAehB,gBAAU,QAfM;AAgBhB,qBAAe,eAhBC;AAiBhB,YAAM,QAjBU;AAkBhB,aAAO,MAlBS;AAmBhB,eAAS,QAnBO;AAoBhB,cAAQ,WApBQ;AAqBhB,eAAS,cArBO;AAsBhB,gBAAU,SAtBM;AAuBhB,eAAS,SAvBO;AAwBhB,eAAS,QAxBO;AAyBhB,sBAAgB,UAzBA;AA0BhB,mBAAa,IA1BG;AA2BhB,sBAAgB,MA3BA;AA4BhB,uBAAiB,QA5BD;AA6BhB,oBAAc,WA7BE;AA8BhB,qBAAe,cA9BC;AA+BhB,sBAAgB,SA/BA;AAgChB,qBAAe;AAhCC;AADf;AArCH,CAAV;;IA2EMsC;;;AACF,4BAAYZ,KAAZ,EAAmB;AAAA;;AACf,kCAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTY,MAAAA,MAAM,EAAE,MAAKb,KAAL,CAAWa;AADV,KAAb;AAFe;AAKlB;;;;SAEDX,4BAAA,mCAA0BC,SAA1B,EAAqC;AAAA;;AACjCC,IAAAA,UAAU,CAAC,YAAM;AACb,MAAA,MAAI,CAACC,QAAL,CAAc;AACVQ,QAAAA,MAAM,EAAEV,SAAS,CAACU;AADR,OAAd;AAGH,KAJS,EAIP,GAJO,CAAV;AAKH;;SAGDP,SAAA,kBAAS;AAAA,QACCQ,UADD,GACgB,KAAKd,KADrB,CACCc,UADD;AAEL,QAAID,MAAM,GAAG,KAAKZ,KAAL,CAAWY,MAAX,IAAqB,OAAlC;AAEA,wBAAOL,6BAACO,0CAAD;AACH,MAAA,UAAU,EAAED,UAAU,IAAI,YADvB;AAEH,MAAA,MAAM,EAAED;AAFL,OAGC,KAAKb,KAHN,EAAP;AAKH;;;EA1B0BU;;ACnF/B,IAAMzK,GAAC,GAAGnC,OAAO,CAAC,QAAD,CAAjB;;AACA,IAAMkN,WAAW,GAAG,YAApB;AAEA,IAAaC,oBAAb;AAAA;;AACE,kCAAc;AAAA;;AACZ,mCAASC,SAAT;AACA,UAAKjB,KAAL,GAAa;AACXkB,MAAAA,WAAW,EAAE,MAAKnB,KAAL,CAAWmB,WAAX,GAAyB,MAAKnB,KAAL,CAAWmB,WAApC,GAAkD,EADpD;AAEXC,MAAAA,UAAU,EAAE;AAAEA,QAAAA,UAAU,EAAE,MAAKpB,KAAL,CAAWqB,MAAX,IAAqB;AAAnC;AAFD,KAAb;AAIA,UAAKC,WAAL,GAAmB,IAAnB;AACA,UAAKC,WAAL,GAAmB,MAAKvB,KAAL,CAAWuB,WAAX,IAA0B,OAA7C;AACA,UAAKC,YAAL,GAAoBC,MAAM,GAAGlB,MAAT,CAAgBS,WAAhB,CAApB;AAEA,UAAKU,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBC,IAAvB,+BAAzB;AACA,UAAKC,eAAL,GAAuB,MAAKA,eAAL,CAAqBD,IAArB,+BAAvB;AACA,UAAKE,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBF,IAAvB,+BAAzB;AAZY;AAab;;AAdH;;AAAA,SAgBEG,iBAhBF,GAgBE,6BAAoB;AAClB,SAAKP,WAAL,GAAmB,KAAKvB,KAAL,CAAWuB,WAAX,IAA0B,OAA7C;AACD,GAlBH;;AAAA,SAoBErB,yBApBF,GAoBE,mCAA0BC,SAA1B,EAAqC;AAAA;;AAAA,QAC7BgB,WAD6B,GACQhB,SADR,CAC7BgB,WAD6B;AAAA,QAChBI,WADgB,GACQpB,SADR,CAChBoB,WADgB;AAAA,QACHF,MADG,GACQlB,SADR,CACHkB,MADG;;AAGnC,QAAI,KAAKC,WAAL,IAAoB,IAAxB,EAA8B;AAC5B,UAAIH,WAAW,IAAIA,WAAW,CAACY,QAAZ,OAA2B,KAAK9B,KAAL,CAAWkB,WAAX,CAAuBY,QAAvB,EAA9C,EAAiF;AAC/E,aAAK1B,QAAL,CAAc;AACZc,UAAAA,WAAW,EAAEA;AADD,SAAd,EAEG,YAAM;AACP,UAAA,MAAI,CAACG,WAAL,CAAiBU,OAAjB;AACD,SAJD;AAKD;;AAED,UAAIT,WAAW,IAAI,IAAnB,EAAyB;AACvB,aAAKD,WAAL,CAAiBW,iBAAjB,CAAmCV,WAAnC;AACA,aAAKA,WAAL,GAAmBA,WAAnB;AACD;;AAED,UAAIW,UAAU,GAAGb,MAAM,IAAI,EAA3B;AACA,UAAID,UAAU,GAAG;AAAEA,QAAAA,UAAU,EAAEc;AAAd,OAAjB;AACA,WAAK7B,QAAL,CAAc;AACZe,QAAAA,UAAU,EAAEA;AADA,OAAd;AAGD;AACF,GA3CH;;AAAA,SAiDEM,iBAjDF,GAiDE,2BAAkBS,IAAlB,EAAwB;AACtB,QAAIC,aAAa,GAAGX,MAAM,CAAC,KAAKD,YAAN,EAAoBR,WAApB,CAAN,CAAuCT,MAAvC,CAA8CS,WAA9C,CAApB;AAEA,QAAIqB,IAAI,GAAGZ,MAAM,CAACU,IAAI,CAACE,IAAN,CAAN,CAAkB9B,MAAlB,CAAyBS,WAAzB,CAAX;;AACA,QAAImB,IAAI,CAACG,WAAL,IAAoB,YAApB,IAAoCD,IAAI,IAAID,aAAhD,EAA+D;AAC7DD,MAAAA,IAAI,CAACI,OAAL,CAAaC,YAAb,CAA0B,OAA1B,EAAmC,wCAAnC;AACAL,MAAAA,IAAI,CAACI,OAAL,CAAaE,SAAb,CAAuB3N,MAAvB,CAA8B,gBAA9B;AACD,KAHD,MAGO;AACLqN,MAAAA,IAAI,CAACI,OAAL,CAAaG,eAAb,CAA6B,OAA7B,EAAsC,wCAAtC;AACAP,MAAAA,IAAI,CAACI,OAAL,CAAaE,SAAb,CAAuB3N,MAAvB,CAA8B,gBAA9B;AACD;;AAED,QAAI6N,OAAO,GAAGlB,MAAM,CAACW,aAAD,EAAgBpB,WAAhB,CAAN,CAAmCT,MAAnC,CAA0C,MAA1C,CAAd;;AACA,QAAI4B,IAAI,CAACG,WAAL,IAAoB,UAAxB,EAAoC;AAClC,UAAIH,IAAI,CAACI,OAAL,CAAaK,WAAb,IAA4BD,OAAhC,EAAyC;AACvCR,QAAAA,IAAI,CAACI,OAAL,CAAaE,SAAb,CAAuBI,GAAvB,CAA2B,eAA3B;AACD,OAFD,MAEO;AACLV,QAAAA,IAAI,CAACI,OAAL,CAAaE,SAAb,CAAuB3N,MAAvB,CAA8B,eAA9B;AACD;AACF;AACF,GArEH;;AAAA,SAuEEgO,gBAvEF,GAuEE,0BAAiB3B,WAAjB,EAA8B;AAC5B,QAAI4B,UAAU,GAAG5B,WAAW,CAAC6B,MAAZ,GACb/M,GAAC,CAACgN,GAAF,CAAM,KAAKhD,KAAL,CAAWkB,WAAjB,EAA8B,UAAU+B,EAAV,EAAc;AAC5C,UAAIC,EAAE,GAAG,IAAIC,IAAJ,CAASF,EAAT,CAAT;AACA,UAAIG,CAAC,GAAG,IAAID,IAAJ,CACND,EAAE,CAACG,WAAH,EADM,EAENH,EAAE,CAACI,QAAH,EAFM,EAGNJ,EAAE,CAACK,OAAH,EAHM,EAINC,OAJM,EAAR;AAKA,aAAOJ,CAAP;AACD,KARC,CADa,GAUb,EAVJ;AAWA,WAAON,UAAP;AACD,GApFH;;AAAA,SAsFEnB,eAtFF,GAsFE,yBAAgBO,IAAhB,EAAsB;AACpB,QAAIY,UAAU,GAAG,KAAKD,gBAAL,CAAsB,KAAK7C,KAAL,CAAWkB,WAAjC,CAAjB;;AACA,QAAIgB,IAAI,CAACE,IAAT,EAAe;AACb,UAAIA,IAAI,GAAG,IAAIe,IAAJ,CAASjB,IAAI,CAACE,IAAL,CAAUiB,WAAV,EAAT,EAAkCnB,IAAI,CAACE,IAAL,CAAUkB,QAAV,EAAlC,EAAwDpB,IAAI,CAACE,IAAL,CAAUmB,OAAV,EAAxD,EAA6EC,OAA7E,EAAX;;AAEA,UAAItB,IAAI,CAACG,WAAL,IAAoB,YAApB,IAAoCS,UAAU,CAACW,OAAX,CAAmBrB,IAAnB,IAA2B,CAAC,CAApE,EAAuE;AACrEF,QAAAA,IAAI,CAACI,OAAL,CAAaE,SAAb,CAAuBI,GAAvB,CAA2B,gBAA3B;AACD;AACF;AACF,GA/FH;;AAAA,SAoGEhB,iBApGF,GAoGE,6BAAoB;AAAA;;AAClB,QAAI,KAAKN,WAAL,IAAoB,QAAxB,EAAkC;AAChCnB,MAAAA,UAAU,CAAC,YAAM;AACf,YAAI,MAAI,CAACJ,KAAL,CAAW2D,mBAAf,EAAoC;AAClC,cAAIC,KAAK,GAAG3N,GAAC,CAAC2N,KAAF,CAAQ,MAAI,CAACtC,WAAL,CAAiBuC,UAAjB,CAA4BC,WAApC,CAAZ;;AACA,cAAIC,IAAI,GAAG9N,GAAC,CAAC8N,IAAF,CAAO,MAAI,CAACzC,WAAL,CAAiBuC,UAAjB,CAA4BC,WAAnC,CAAX;;AAEA,UAAA,MAAI,CAAC9D,KAAL,CAAW2D,mBAAX,CAA+BC,KAA/B,EAAsCG,IAAtC;AACD;AACF,OAPS,EAOP,GAPO,CAAV;AAQD;AACF,GA/GH;;AAAA,SAoHEzD,MApHF,GAoHE,kBAAS;AAAA;;AACP,QAAIlK,IAAI,GAAG,IAAX;;AAEA,aAAS4N,UAAT,CAAoB7B,IAApB,EAA0B;AACxB/L,MAAAA,IAAI,CAACsL,iBAAL,CAAuBS,IAAvB;AACA/L,MAAAA,IAAI,CAACwL,eAAL,CAAqBO,IAArB;AACD;;AAED,aAAS8B,SAAT,CAAmB9B,IAAnB,EAAyB;AACvB,UAAI+B,GAAG,GAAGzC,MAAM,CAACU,IAAI,CAACgC,SAAN,CAAN,CAAuB5D,MAAvB,CAA8BS,WAA9B,CAAV;AACA5K,MAAAA,IAAI,CAACoL,YAAL,GAAoB0C,GAApB;AACA9N,MAAAA,IAAI,CAACkL,WAAL,CAAiBU,OAAjB;;AACA,UAAI5L,IAAI,CAAC4J,KAAL,CAAWoE,YAAf,EAA6B;AAC3BhO,QAAAA,IAAI,CAAC4J,KAAL,CAAWoE,YAAX,CAAwB3C,MAAM,CAACU,IAAI,CAACgC,SAAN,CAA9B;AACD;AACF;;AAED,aAASE,SAAT,CAAmBlC,IAAnB,EAAyB;AACvB,UAAIA,IAAI,CAACmC,IAAL,IAAa,WAAjB,EAA8B;AAC5BnC,QAAAA,IAAI,CAACoC,MAAL,GAAc,IAAd;AACD;;AACD,UAAIpC,IAAI,CAACmC,IAAL,IAAa,QAAjB,EAA2B;AACzBnC,QAAAA,IAAI,CAACoC,MAAL,GAAc,IAAd;AACD;AACF;;AAED,aAASC,cAAT,CAAwBxE,KAAxB,EAA+B;AAC7B,UAAIA,KAAK,CAACyE,WAAN,IAAqB,qBAAzB,EAAgD;AAC9C,YAAIC,WAAW,GAAGzO,GAAC,CAAC0O,IAAF,CAAO3E,KAAK,CAAC4E,KAAN,IAAe,EAAtB,EAA0B;AAAEC,UAAAA,QAAQ,EAAE;AAAZ,SAA1B,CAAlB;;AACA,YAAIH,WAAJ,EAAiB;AACfA,UAAAA,WAAW,CAACI,KAAZ,GAAoB,UAACC,CAAD,EAAIC,CAAJ,EAAOC,CAAP,EAAa;AAC/B,gBAAIC,YAAY,GAAG,IAAI9B,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,CAAlB,CAAnB;AACA,gBAAI+B,WAAW,GAAG,IAAI/B,IAAJ,EAAlB;AACAhN,YAAAA,IAAI,CAACkL,WAAL,CAAiB8D,UAAjB,CAA4B;AAC1BC,cAAAA,MAAM,EAAE,MADkB;AAE1BH,cAAAA,YAAY,EAAEA,YAFY;AAG1BC,cAAAA,WAAW,EAAEA;AAHa,aAA5B;AAKD,WARD;AASD;AACF;AACF;;AAED,aAASC,UAAT,CAAoBpF,KAApB,EAA2B;AAAA,UACnBkF,YADmB,GACgClF,KADhC,CACnBkF,YADmB;AAAA,UACLC,WADK,GACgCnF,KADhC,CACLmF,WADK;AAAA,UACQE,MADR,GACgCrF,KADhC,CACQqF,MADR;AAAA,UACgB9D,WADhB,GACgCvB,KADhC,CACgBuB,WADhB;AAGzB,UAAI+D,KAAK,GAAG7D,MAAM,GAAGlB,MAAT,CAAgBS,WAAhB,CAAZ;AACAkE,MAAAA,YAAY,GAAGA,YAAY,GAAGzD,MAAM,CAACyD,YAAD,CAAN,CAAqB3E,MAArB,CAA4BS,WAA5B,CAAH,GAA8C,IAAzE;AACAmE,MAAAA,WAAW,GAAGA,WAAW,GAAG1D,MAAM,CAAC0D,WAAD,CAAN,CAAoB5E,MAApB,CAA2BS,WAA3B,CAAH,GAA6C,IAAtE;;AAEA,UACEqE,MAAM,IAAI,MAAV,IACAF,WADA,IAEAA,WAAW,IAAIG,KAFf,IAGAJ,YAAY,IAAII,KAHhB,IAIA/D,WAAW,IAAI,OALjB,EAME;AACAnL,QAAAA,IAAI,CAACkL,WAAL,CAAiBE,YAAjB,GAAgC,IAAI4B,IAAJ,EAAhC;AACAhN,QAAAA,IAAI,CAACoL,YAAL,GAAoBC,MAAM,GAAGlB,MAAT,CAAgBS,WAAhB,CAApB;AACA5K,QAAAA,IAAI,CAACkL,WAAL,CAAiBU,OAAjB;;AACA,YAAI5L,IAAI,CAAC4J,KAAL,CAAWoE,YAAf,EAA6B;AAC3BhO,UAAAA,IAAI,CAAC4J,KAAL,CAAWoE,YAAX,CAAwB3C,MAAM,EAA9B;AACD;AACF;;AAED,UAAI4D,MAAM,IAAI,MAAV,IAAoBjP,IAAI,CAAC4J,KAAL,CAAWuF,YAAnC,EAAiD;AAC/CnP,QAAAA,IAAI,CAACmL,WAAL,GAAmBA,WAAnB;AACAnL,QAAAA,IAAI,CAAC4J,KAAL,CAAWuF,YAAX,CAAwBhE,WAAxB;AACD;;AAEDnL,MAAAA,IAAI,CAACyL,iBAAL;AACD;;AAED,wBACErB,6BAACgF,kCAAD;AACE,MAAA,GAAG,EAAE,aAAAC,QAAQ;AAAA,eAAI,MAAI,CAACnE,WAAL,GAAmBmE,QAAvB;AAAA,OADf;AAEE,MAAA,MAAM,EAAE,KAAKzF,KAAL,CAAW0F,MAFrB;AAGE,MAAA,cAAc,EAAE,0BAAM;AAAE,4BAAOlF,yCAAP;AAAoB,OAH9C;AAIE,MAAA,aAAa,EAAE,KAAKP,KAAL,CAAWmB,UAJ5B;AAKE,MAAA,UAAU,EAAE4C,UALd;AAME,MAAA,SAAS,EAAEC,SANb;AAOE,MAAA,SAAS,EAAEI,SAPb;AAQE,MAAA,cAAc,EAAEG,cARlB;AASE,MAAA,UAAU,EAAEY;AATd,oBAUE5E,6BAACmF,+BAAD,QACG,KAAK3F,KAAL,CAAW4F,OAAX,IAAsB,IAAtB,iBAA8BpF,6BAACqF,8BAAD;AAAe,MAAA,MAAM,EAAC;AAAtB,MADjC,EAEG,KAAK7F,KAAL,CAAW8F,QAAX,IAAuB,IAAvB,iBAA+BtF,6BAACqF,8BAAD;AAAe,MAAA,MAAM,EAAC;AAAtB,MAFlC,EAGG,KAAK7F,KAAL,CAAW+F,YAAX,IAA2B,IAA3B,iBAAmCvF,6BAACqF,8BAAD;AAAe,MAAA,MAAM,EAAC;AAAtB,MAHtC,EAIG,KAAK7F,KAAL,CAAWgG,SAAX,IAAwB,IAAxB,iBAAgCxF,6BAACqF,8BAAD;AAAe,MAAA,MAAM,EAAC;AAAtB,MAJnC,EAKG,KAAK7F,KAAL,CAAWiG,UAAX,IAAyB,IAAzB,iBAAiCzF,6BAACqF,8BAAD;AAAe,MAAA,MAAM,EAAC;AAAtB,MALpC,CAVF,eAiBErF,6BAAC0F,uBAAD;AAAQ,MAAA,QAAQ,EAAE,CAACC,oBAAD,EAAMC,qBAAN,EAAYC,yBAAZ,EAAsBC,sBAAtB,EAA6BC,uBAA7B;AAAlB,MAjBF,CADF;AAqBD,GAlNH;;AAAA;AAAA,EAA0C7F,eAA1C;;ICNM8F;;;AACF,sBAAYxG,KAAZ,EAAmB;AAAA;;AACf,kCAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTzL,MAAAA,KAAK,EAAE,MAAKwL,KAAL,CAAWxL;AADT,KAAb;AAFe;AAKlB;;;;SAED0L,4BAAA,mCAA0BC,SAA1B,EAAqC;AAAA;;AACjCC,IAAAA,UAAU,CAAC,YAAM;AACb,MAAA,MAAI,CAACC,QAAL,CAAc;AACV7L,QAAAA,KAAK,EAAE2L,SAAS,CAAC3L;AADP,OAAd;AAGH,KAJS,EAIP,GAJO,CAAV;AAKH;;SAED8L,SAAA,kBAAS;AAAA,QACCC,MADD,GACY,KAAKP,KADjB,CACCO,MADD;AAGL,wBAAOC,6BAACiG,qCAAD,eACC,KAAKzG,KADN;AAEH,MAAA,KAAK,EAAE,KAAKC,KAAL,CAAWzL,KAFf;AAGH,MAAA,MAAM,EAAE+L,MAAM,IAAI;AAHf,OAAP;AAKH;;;EAxBoBG;;;;;;;;;;;ACPzB,IAAMgG,eAAe,GAAGC,MAAM,CAACC,GAAV,mBAArB;;;;;;;;;;;ACMA,IAAMC,SAAS,GAAGF,MAAM,CAACC,GAAV,sBAUS,UAAA5G,KAAK;AAAA,SAAIA,KAAK,CAAC8G,SAAN,KAAoB,IAApB,GAA2B,oBAA3B,GAAkD,SAAtD;AAAA,CAVd,CAAf;;AA4BA,SAASC,YAAT,CAAsB/G,KAAtB,EAA6B;AAAA,MACjBgH,OADiB,GACoEhH,KADpE,CACjBgH,OADiB;AAAA,MACRC,QADQ,GACoEjH,KADpE,CACRiH,QADQ;AAAA,MACEH,SADF,GACoE9G,KADpE,CACE8G,SADF;AAAA,MACaI,YADb,GACoElH,KADpE,CACakH,YADb;AAAA,MAC2B3G,MAD3B,GACoEP,KADpE,CAC2BO,MAD3B;AAAA,MACmCnG,QADnC,GACoE4F,KADpE,CACmC5F,QADnC;AAAA,8BACoE4F,KADpE,CAC6CmH,cAD7C;AAAA,MAC6CA,cAD7C,sCAC8D,CAD9D;AAEzB,MAAMC,SAAS,GAAGJ,OAAO,KAAK,KAAZ,IAAqBC,QAAQ,KAAK,IAAlC,GAAyC,KAAzC,GAAiD,IAAnE;AACA,MAAMI,OAAO,GAAGP,SAAS,KAAK,IAAd,IAAsB7Q,GAAC,CAACC,OAAF,CAAU4Q,SAAV,MAAyB,KAA/D;AAEA,sBACItG,6BAACA,cAAD,CAAO,QAAP,qBACIA,6BAAC,SAAD;AAAW,IAAA,SAAS,EAAE6G;AAAtB,kBACI7G,6BAACC,qCAAD,eACQT,KADR;AAEI,IAAA,OAAO,EAAEoH,SAFb;AAGI,IAAA,cAAc,EAAED,cAHpB;AAII,IAAA,MAAM,EAAEG,mBAAA,CAAoClN,QAApC,CAJZ;AAKI,IAAA,MAAM,EAAEmG,MAAM,IAAI;AALtB,KADJ,CADJ,EAUKuG,SAAS,iBACNtG,6BAAC,eAAD,QAAkB0G,YAAlB,CAXR,CADJ;AAgBH;;;;;;;;;;;ACjDD,IAAML,WAAS,GAAGF,MAAM,CAACC,GAAV,sBAUS,UAAA5G,KAAK;AAAA,SAAIA,KAAK,CAAC8G,SAAN,KAAoB,IAApB,GAA2B,oBAA3B,GAAkD,SAAtD;AAAA,CAVd,CAAf;;AA2BA,SAASS,gBAAT,CAA0BvH,KAA1B,EAAiC;AAAA,MACrBO,MADqB,GAC6CP,KAD7C,CACrBO,MADqB;AAAA,MACbuG,SADa,GAC6C9G,KAD7C,CACb8G,SADa;AAAA,MACFI,YADE,GAC6ClH,KAD7C,CACFkH,YADE;AAAA,MACY9M,QADZ,GAC6C4F,KAD7C,CACY5F,QADZ;AAAA,8BAC6C4F,KAD7C,CACsBmH,cADtB;AAAA,MACsBA,cADtB,sCACuC,CADvC;AAE7B,MAAIE,OAAO,GAAGP,SAAS,KAAK,IAAd,IAAsB7Q,GAAC,CAACC,OAAF,CAAU4Q,SAAV,MAAyB,KAA7D;AAEA,sBACItG,6BAACA,cAAD,CAAO,QAAP,qBACIA,6BAACqG,WAAD;AAAW,IAAA,SAAS,EAAEQ;AAAtB,kBACI7G,6BAACG,yCAAD,eACQX,KADR;AAEI,IAAA,cAAc,EAAEmH,cAFpB;AAGI,IAAA,MAAM,EAAEG,mBAAA,CAAoClN,QAApC,CAHZ;AAII,IAAA,MAAM,EAAEmG,MAAM,IAAI;AAJtB,KADJ,CADJ,EASKuG,SAAS,iBACNtG,6BAAC,eAAD,QAAkB0G,YAAlB,CAVR,CADJ;AAeH;;;;;;;;;;;AChDD,IAAML,WAAS,GAAGF,MAAM,CAACC,GAAV,sBAUS,UAAA5G,KAAK;AAAA,SAAIA,KAAK,CAAC8G,SAAN,KAAoB,IAApB,GAA2B,oBAA3B,GAAkD,SAAtD;AAAA,CAVd,CAAf;;AA2BA,SAASU,kBAAT,CAA4BxH,KAA5B,EAAmC;AAAA,MACvB5F,QADuB,GACiC4F,KADjC,CACvB5F,QADuB;AAAA,MACb0G,UADa,GACiCd,KADjC,CACbc,UADa;AAAA,MACDgG,SADC,GACiC9G,KADjC,CACD8G,SADC;AAAA,8BACiC9G,KADjC,CACUmH,cADV;AAAA,MACUA,cADV,sCAC2B,CAD3B;AAE/B,MAAIE,OAAO,GAAGP,SAAS,KAAK,IAAd,IAAsB7Q,GAAC,CAACC,OAAF,CAAU4Q,SAAV,MAAyB,KAA7D;AAEA,sBACItG,6BAACA,cAAD,CAAO,QAAP,qBACIA,6BAACqG,WAAD;AAAW,IAAA,SAAS,EAAEQ;AAAtB,kBACI7G,6BAACO,0CAAD,eACQf,KADR;AAEI,IAAA,cAAc,EAAEmH,cAFpB;AAGI,IAAA,MAAM,EAAEG,mBAAA,CAAoClN,QAApC,CAHZ;AAII,IAAA,UAAU,EAAE0G,UAAU,IAAI;AAJ9B,KADJ,CADJ,CADJ;AAYH;;AC5CD,IAAMA,UAAU,GAAG,YAAnB;AACA,IAAIQ,WAAW,GAAG,EAAlB;;AAEA,SAASmG,WAAT,CAAqBzH,KAArB,EAA4B;AAAA,wBACqMA,KADrM,CAChB5F,QADgB;AAAA,MAChBA,QADgB,gCACL,IADK;AAAA,MACCsL,MADD,GACqM1F,KADrM,CACC0F,MADD;AAAA,MACSE,OADT,GACqM5F,KADrM,CACS4F,OADT;AAAA,MACkBE,QADlB,GACqM9F,KADrM,CACkB8F,QADlB;AAAA,MAC4BC,YAD5B,GACqM/F,KADrM,CAC4B+F,YAD5B;AAAA,MAC0CC,SAD1C,GACqMhG,KADrM,CAC0CgG,SAD1C;AAAA,MACqDC,UADrD,GACqMjG,KADrM,CACqDiG,UADrD;AAAA,MAC8EyB,mBAD9E,GACqM1H,KADrM,CACiEuB,WADjE;AAAA,8BACqMvB,KADrM,CACmGmH,cADnG;AAAA,MACmGA,cADnG,sCACoH,CADpH;AAAA,2BACqMnH,KADrM,CACuHmB,WADvH;AAAA,MACuHA,WADvH,mCACqI,EADrI;AAAA,MACyIE,MADzI,GACqMrB,KADrM,CACyIqB,MADzI;AAAA,MACiJ+C,YADjJ,GACqMpE,KADrM,CACiJoE,YADjJ;AAAA,MAC+JmB,YAD/J,GACqMvF,KADrM,CAC+JuF,YAD/J;AAAA,MAC6K5B,mBAD7K,GACqM3D,KADrM,CAC6K2D,mBAD7K;;AAAA,kBAEgBgE,cAAQ,CAAClG,MAAM,GAAGlB,MAAT,CAAgBO,UAAhB,CAAD,CAFxB;AAAA,MAEjBU,YAFiB;AAAA,MAEHoG,eAFG;;AAAA,mBAGcD,cAAQ,CAACD,mBAAmB,IAAI,OAAxB,CAHtB;AAAA,MAGjBnG,WAHiB;AAAA,MAGJsG,cAHI;;AAQxBC,EAAAA,eAAS,CAAC,YAAM;AACZ,QAAI7R,GAAC,CAACC,OAAF,CAAUoL,WAAV,MAA2B,KAA/B,EAAsC;AAClCA,MAAAA,WAAW,CAACU,OAAZ;AACH;AACJ,GAJQ,EAIN,CAAC5H,QAAD,EAAW+G,WAAX,CAJM,CAAT;AAMA2G,EAAAA,eAAS,CAAC,YAAM;AACZ,QAAI7R,GAAC,CAACC,OAAF,CAAUoL,WAAV,MAA2B,KAA/B,EAAsC;AAClCA,MAAAA,WAAW,CAACW,iBAAZ,CAA8BV,WAA9B;AACAM,MAAAA,iBAAiB;AACpB;AACJ,GALQ,EAKN,CAACN,WAAD,CALM,CAAT;;AAUA,WAAS0C,SAAT,CAAmB9B,IAAnB,EAAyB;AAAA,QACkCgC,SADlC,GACgDhC,IADhD,CACkCgC,SADlC;AAErB,QAAI4D,UAAU,GAAGtG,MAAM,CAAC0C,SAAD,CAAN,CAAkB5D,MAAlB,CAAyBO,UAAzB,CAAjB;AACA8G,IAAAA,eAAe,CAACG,UAAD,CAAf;AACAzG,IAAAA,WAAW,CAACU,OAAZ;;AACA,QAAIoC,YAAJ,EAAkB;AACd,UAAI4D,eAAe,GAAGvG,MAAM,CAAC0C,SAAD,CAA5B;AACAC,MAAAA,YAAY,CAAC4D,eAAD,CAAZ;AACH;AACJ;;AAED,WAAS3D,SAAT,CAAmBlC,IAAnB,EAAyB;AAAA,QACsBmC,IADtB,GAC+BnC,IAD/B,CACsBmC,IADtB;;AAErB,QAAIA,IAAI,KAAK,WAAT,IAAwBA,IAAI,KAAK,QAArC,EAA+C;AAC3CnC,MAAAA,IAAI,CAACoC,MAAL,GAAc,IAAd;AACH;AACJ;;AAED,WAASC,cAAT,CAAwBrC,IAAxB,EAA8B;AAAA,QACpByC,KADoB,GACSzC,IADT,CACpByC,KADoB;AAAA,QACbqD,AAAMxD,WADO,GACStC,IADT,CACPsC,WADO;;AAE1B,QAAIA,WAAW,KAAK,qBAApB,EAA2C;AACvC,UAAIC,WAAW,GAAGzO,GAAC,CAAC0O,IAAF,CAAOC,KAAK,IAAI,EAAhB,EAAoB;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAApB,CAAlB;;AACA,UAAI5O,GAAC,CAACC,OAAF,CAAUwO,WAAV,MAA2B,KAA/B,EAAsC;AAClCA,QAAAA,WAAW,CAACI,KAAZ,GAAoB,YAAM;AACtB,cAAII,YAAY,GAAG,IAAI9B,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,CAAlB,CAAnB;AACA,cAAI+B,WAAW,GAAG,IAAI/B,IAAJ,EAAlB;AACA9B,UAAAA,WAAW,CAAC8D,UAAZ,CAAuB;AACnBC,YAAAA,MAAM,EAAE,MADW;AAEnBH,YAAAA,YAAY,EAAEA,YAFK;AAGnBC,YAAAA,WAAW,EAAEA;AAHM,WAAvB;AAKA/E,UAAAA,UAAU,CAAC,YAAM;AACb6D,YAAAA,SAAS,CAAC;AAAEE,cAAAA,SAAS,EAAEgB;AAAb,aAAD,CAAT;AACH,WAFS,EAEP,EAFO,CAAV;AAGH,SAXD;AAYH;AACJ;AACJ;;AAED,WAAStD,iBAAT,GAA6B;AACzB,QAAIN,WAAW,KAAK,QAAhB,IAA4BoC,mBAAhC,EAAqD;AACjDvD,MAAAA,UAAU,CAAC,YAAM;AACb,YAAIwD,KAAK,GAAGnC,MAAM,CAACxL,GAAC,CAAC2N,KAAF,CAAQtC,WAAW,CAACuC,UAAZ,CAAuBC,WAA/B,CAAD,CAAlB;AACA,YAAIC,IAAI,GAAGtC,MAAM,CAACxL,GAAC,CAAC8N,IAAF,CAAOzC,WAAW,CAACuC,UAAZ,CAAuBC,WAA9B,CAAD,CAAjB;AACAH,QAAAA,mBAAmB,CAACC,KAAD,EAAQG,IAAR,CAAnB;AACH,OAJS,EAIP,GAJO,CAAV;AAKH;AACJ;;AAED,WAASmE,gBAAT,CAA0B/F,IAA1B,EAAgC;AAAA,QACtBZ,WADsB,GACNY,IADM,CACtBZ,WADsB;AAE5BsG,IAAAA,cAAc,CAACtG,WAAD,CAAd;;AACA,QAAIgE,YAAJ,EAAkB;AACdhE,MAAAA,WAAW,GAAGA,WAAd;AACAgE,MAAAA,YAAY,CAAChE,WAAD,CAAZ;AACH;AACJ;;AAED,WAAS4G,gBAAT,CAA0BhG,IAA1B,EAAgC;AAAA,QACtBgD,WADsB,GACqBhD,IADrB,CACtBgD,WADsB;AAAA,QACTD,YADS,GACqB/C,IADrB,CACT+C,YADS;AAAA,QACK3D,WADL,GACqBY,IADrB,CACKZ,WADL;AAE5B,QAAI+D,KAAK,GAAG7D,MAAM,GAAGlB,MAAT,CAAgBO,UAAhB,CAAZ;AACAoE,IAAAA,YAAY,GAAGA,YAAY,GAAGzD,MAAM,CAACyD,YAAD,CAAN,CAAqB3E,MAArB,CAA4BO,UAA5B,CAAH,GAA6C,IAAxE;AACAqE,IAAAA,WAAW,GAAGA,WAAW,GAAG1D,MAAM,CAAC0D,WAAD,CAAN,CAAoB5E,MAApB,CAA2BO,UAA3B,CAAH,GAA4C,IAArE;;AAEA,QACIqE,WAAW,IACXA,WAAW,KAAKG,KADhB,IAEAJ,YAAY,KAAKI,KAFjB,IAGA/D,WAAW,KAAK,OAJpB,EAKE;AACED,MAAAA,WAAW,CAACE,YAAZ,GAA2B,IAAI4B,IAAJ,EAA3B;AACAa,MAAAA,SAAS,CAAC;AAAEE,QAAAA,SAAS,EAAE,IAAIf,IAAJ;AAAb,OAAD,CAAT;AACH;AACJ;;AAED,WAASgC,UAAT,CAAoBjD,IAApB,EAA0B;AAAA,QAChBkD,MADgB,GACiDlD,IADjD,CAChBkD,MADgB;;AAGtB,YAAQA,MAAR;AACI,WAAK,MAAL;AACI8C,QAAAA,gBAAgB,CAAChG,IAAD,CAAhB;AACA;;AACJ,WAAK,MAAL;AACI+F,QAAAA,gBAAgB,CAAC/F,IAAD,CAAhB;AACA;AANR;;AAWAN,IAAAA,iBAAiB;AACpB;;AAKD,WAASH,iBAAT,CAA2BS,IAA3B,EAAiC;AAAA,QACvBE,IADuB,GAC0BF,IAD1B,CACvBE,IADuB;AAAA,QACjBE,OADiB,GAC0BJ,IAD1B,CACjBI,OADiB;AAAA,QACRD,WADQ,GAC0BH,IAD1B,CACRG,WADQ;AAE7B,QAAI8F,kBAAkB,GAAG3G,MAAM,CAACD,YAAD,EAAeV,UAAf,CAAN,CAAiCP,MAAjC,CAAwCO,UAAxC,CAAzB;AAEA,QAAIuH,cAAc,GAAG5G,MAAM,CAACY,IAAD,CAAN,CAAa9B,MAAb,CAAoBO,UAApB,CAArB;;AACA,QAAIwB,WAAW,KAAK,YAAhB,IAAgC+F,cAAc,KAAKD,kBAAvD,EAA2E;AACvE7F,MAAAA,OAAO,CAACC,YAAR,CAAqB,OAArB,EAA8B,wCAA9B;AACAD,MAAAA,OAAO,CAACE,SAAR,CAAkB3N,MAAlB,CAAyB,gBAAzB;AACH,KAHD,MAGO;AACHyN,MAAAA,OAAO,CAACG,eAAR,CAAwB,OAAxB,EAAiC,wCAAjC;AACAH,MAAAA,OAAO,CAACE,SAAR,CAAkB3N,MAAlB,CAAyB,gBAAzB;AACH;;AAED,QAAIwT,mBAAmB,GAAG7G,MAAM,CAAC2G,kBAAD,EAAqBtH,UAArB,CAAN,CAAuCP,MAAvC,CAA8C,MAA9C,CAA1B;;AACA,QAAI+B,WAAW,KAAK,UAApB,EAAgC;AAC5B,UAAIC,OAAO,CAACK,WAAR,KAAwB0F,mBAA5B,EAAiD;AAC7C/F,QAAAA,OAAO,CAACE,SAAR,CAAkBI,GAAlB,CAAsB,eAAtB;AACH,OAFD,MAEO;AACHN,QAAAA,OAAO,CAACE,SAAR,CAAkB3N,MAAlB,CAAyB,eAAzB;AACH;AACJ;AACJ;;AAGD,WAASgO,gBAAT,CAA0B3B,WAA1B,EAAuC;AACnC,QAAIoH,iBAAiB,GAAGtS,GAAC,CAACgN,GAAF,CAAM9B,WAAW,IAAI,EAArB,EAAyB,UAACkB,IAAD,EAAU;AACvD,UAAI0F,UAAU,GAAGtG,MAAM,CAACY,IAAD,CAAN,CAAa9B,MAAb,CAAoBO,UAApB,CAAjB;AACA,aAAOiH,UAAP;AACH,KAHuB,CAAxB;;AAIA,WAAOQ,iBAAP;AACH;;AAED,WAAS3G,eAAT,CAAyBO,IAAzB,EAA+B;AAAA,QACrBE,IADqB,GAC4BF,IAD5B,CACrBE,IADqB;AAAA,QACfE,OADe,GAC4BJ,IAD5B,CACfI,OADe;AAAA,QACND,WADM,GAC4BH,IAD5B,CACNG,WADM;AAG3B,QAAIiG,iBAAiB,GAAGzF,gBAAgB,CAAC3B,WAAD,CAAhB,IAAiC,EAAzD;AACA,QAAIkH,cAAc,GAAG5G,MAAM,CAACY,IAAD,CAAN,CAAa9B,MAAb,CAAoBO,UAApB,CAArB;;AACA,QAAIwB,WAAW,KAAK,YAAhB,IAAgCrM,GAAC,CAACyN,OAAF,CAAU6E,iBAAV,EAA6BF,cAA7B,IAA+C,CAAC,CAApF,EAAuF;AACnFlG,MAAAA,IAAI,CAACI,OAAL,CAAaE,SAAb,CAAuBI,GAAvB,CAA2B,gBAA3B;AACA,UAAI2F,YAAY,GAAGjG,OAAO,CAACkG,sBAAR,CAA+B,0BAA/B,EAA2D,CAA3D,CAAnB;AACAD,MAAAA,YAAY,CAAChG,YAAb,CAA0B,OAA1B,EAAmC,0BAAnC;AACH;AACJ;;AAED,WAASwB,UAAT,CAAoB7B,IAApB,EAA0B;AACtBT,IAAAA,iBAAiB,CAACS,IAAD,CAAjB;AACAP,IAAAA,eAAe,CAACO,IAAD,CAAf;AACH;;AAED,sBACI3B,6BAACA,cAAD,CAAO,QAAP,qBACIA,6BAACgF,kCAAD;AACI,IAAA,MAAM,EAAE8B,mBAAA,CAAoClN,QAApC,CADZ;AAEI,IAAA,GAAG,EAAE,aAACqL,QAAD,EAAc;AAAEnE,MAAAA,WAAW,GAAGmE,QAAd;AAAwB,KAFjD;AAGI,IAAA,MAAM,EAAEC,MAHZ;AAII,IAAA,cAAc,EAAEyB,cAJpB;AAKI,IAAA,cAAc,EAAE,0BAAM;AAAE,0BAAO3G,yCAAP;AAAoB,KALhD;AAMI,IAAA,aAAa,EAAEa,MAAM,IAAI,EAN7B;AAOI,IAAA,UAAU,EAAE2C,UAPhB;AAQI,IAAA,SAAS,EAAEC,SARf;AASI,IAAA,SAAS,EAAEI,SATf;AAUI,IAAA,cAAc,EAAEG,cAVpB;AAWI,IAAA,UAAU,EAAEY;AAXhB,kBAYI5E,6BAACmF,+BAAD,QACKC,OAAO,KAAK,IAAZ,iBAAoBpF,6BAACqF,8BAAD;AAAe,IAAA,MAAM,EAAC;AAAtB,IADzB,EAEKC,QAAQ,KAAK,IAAb,iBAAqBtF,6BAACqF,8BAAD;AAAe,IAAA,MAAM,EAAC;AAAtB,IAF1B,EAGKE,YAAY,KAAK,IAAjB,iBAAyBvF,6BAACqF,8BAAD;AAAe,IAAA,MAAM,EAAC;AAAtB,IAH9B,EAIKG,SAAS,KAAK,IAAd,iBAAsBxF,6BAACqF,8BAAD;AAAe,IAAA,MAAM,EAAC;AAAtB,IAJ3B,EAKKI,UAAU,KAAK,IAAf,iBAAuBzF,6BAACqF,8BAAD;AAAe,IAAA,MAAM,EAAC;AAAtB,IAL5B,CAZJ,eAmBIrF,6BAAC0F,uBAAD;AAAQ,IAAA,QAAQ,EAAE,CAACC,oBAAD,EAAMC,qBAAN,EAAYC,yBAAZ,EAAsBC,sBAAtB,EAA6BC,uBAA7B;AAAlB,IAnBJ,CADJ,CADJ;AAyBH;;;;;;;;;;;AClMD,IAAMM,WAAS,GAAGF,MAAM,CAACC,GAAV,sBAUS,UAAA5G,KAAK;AAAA,SAAIA,KAAK,CAAC8G,SAAN,KAAoB,IAApB,GAA2B,oBAA3B,GAAkD,SAAtD;AAAA,CAVd,CAAf;;AA2BA,SAAS4B,YAAT,CAAsB1I,KAAtB,EAA6B;AAAA,MACjBgH,OADiB,GAC8BhH,KAD9B,CACjBgH,OADiB;AAAA,MACRC,QADQ,GAC8BjH,KAD9B,CACRiH,QADQ;AAAA,MACEH,SADF,GAC8B9G,KAD9B,CACE8G,SADF;AAAA,MACaI,YADb,GAC8BlH,KAD9B,CACakH,YADb;AAEzB,MAAME,SAAS,GAAGJ,OAAO,KAAK,KAAZ,IAAqBC,QAAQ,KAAK,IAAlC,GAAyC,KAAzC,GAAiD,IAAnE;AACA,MAAMI,OAAO,GAAGP,SAAS,KAAK,IAAd,IAAsB7Q,GAAC,CAACC,OAAF,CAAU4Q,SAAV,MAAyB,KAA/D;AAEA,sBAAOtG,6BAACA,cAAD,CAAO,QAAP,qBACHA,6BAACqG,WAAD;AAAW,IAAA,SAAS,EAAEQ;AAAtB,kBACI7G,6BAACiG,qCAAD,eAAyBzG,KAAzB;AAAgC,IAAA,OAAO,EAAEoH;AAAzC,KADJ,CADG,EAIFN,SAAS,iBACNtG,6BAAC,eAAD,QAAkB0G,YAAlB,CALD,CAAP;AASH;;;;;;;;;;;;;;;;;;;;;AC9CD,IAAML,WAAS,GAAGF,MAAM,CAACC,GAAV,sBACK,UAAA5G,KAAK;AAAA,SAAKA,KAAK,CAAC2I,QAAP,KAAqB,IAArB,GAA4B,KAA5B,GAAoC,QAAxC;AAAA,CADV,CAAf;AAIA,IAAMC,UAAU,GAAGjC,MAAM,CAACkC,IAAV,oBAAhB;;AAIA,SAASC,mBAAT,CAA6B9I,KAA7B,EAAoC;AAChC,sBAAOQ,6BAACqG,WAAD,EAAe7G,KAAf,eACHQ,6BAAC,UAAD,aADG,eACwBA,2CAAOR,KAAK,CAACxL,KAAb,CADxB,CAAP;AAGH;;;;;;;;;;;ACZD,IAAMqS,WAAS,GAAGF,MAAM,CAACC,GAAV,sBACK,UAAA5G,KAAK;AAAA,SAAKA,KAAK,CAAC2I,QAAP,KAAqB,IAArB,GAA4B,KAA5B,GAAoC,QAAxC;AAAA,CADV,EAED,UAAA3I,KAAK;AAAA,SAAI,CAACA,KAAK,CAAC+I,aAAN,IAAuB/I,KAAK,CAACgJ,aAA9B,MAAiD,IAAjD,GAAwD,aAAxD,GAAwE,IAA5E;AAAA,CAFJ,CAAf;;AAKA,SAASC,gBAAT,CAA0BjJ,KAA1B,EAAiC;AAC7B,sBAAOQ,6BAACqG,WAAD,EAAe7G,KAAf,EAAuBA,KAAK,CAACxL,KAA7B,CAAP;AACH;;ACPD,SAAS0U,oBAAT,CAA8BlJ,KAA9B,EAAqC;AACjC,sBAAOQ,6BAAC,cAAD,eAAoBR,KAApB;AACH,IAAA,MAAM,EAAE;AACJmJ,MAAAA,OAAO,EAAE,iBAACC,IAAD;AAAA,4BACFA,IADE;AAELC,UAAAA,UAAU,EAAE;AAFP;AAAA;AADL;AADL,MAOFrJ,KAAK,CAACsJ,QAPJ,CAAP;AASH;;;;;;;;;;;ACAD,IAAMzC,WAAS,GAAGF,MAAM,CAACC,GAAV,sBAWK,UAAA5G,KAAK;AAAA,SAAIA,KAAK,CAAC8G,SAAN,KAAoB,IAApB,GAA2B,SAA3B,GAAuC,SAA3C;AAAA,CAXV,EAeD,UAAA9G,KAAK;AAAA,SAAIA,KAAK,CAACuJ,YAAV;AAAA,CAfJ,EAgBG,UAAAvJ,KAAK;AAAA,SAAIA,KAAK,CAACwJ,SAAV;AAAA,CAhBR,CAAf;;IAoBMC;;;AACJ,0BAAYzJ,KAAZ,EAAmB;AAAA;;AACjB,kCAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXyJ,MAAAA,OAAO,EAAE,KADE;AAEXC,MAAAA,IAAI,EAAE,CAFK;AAGXC,MAAAA,WAAW,EAAEC,mBAAW,CAACC,WAAZ;AAHF,KAAb;AAMA,UAAKC,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBpI,IAAzB,+BAA3B;AACA,UAAKqI,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBrI,IAAzB,+BAA3B;AATiB;AAUlB;;;;SAKDG,oBAAA,6BAAoB;AAClB,SAAKmI,SAAL,CAAe,KAAKjK,KAAL,CAAW/M,IAA1B;AACD;;SAEDiN,4BAAA,mCAA0BC,SAA1B,EAAqC;AACnC,QAAI,KAAKH,KAAL,CAAW/M,IAAX,IAAmBkN,SAAS,CAAClN,IAA7B,IAAqC,KAAKgN,KAAL,CAAW0J,IAAX,IAAmB,CAA5D,EAA+D;AAC7D,WAAKtJ,QAAL,CAAc;AAAEsJ,QAAAA,IAAI,EAAE;AAAR,OAAd;AACA,WAAKM,SAAL,CAAe9J,SAAS,CAAClN,IAAzB;AACD,KAHD,MAGO,IAAI,KAAK+M,KAAL,CAAW/M,IAAX,IAAmBkN,SAAS,CAAClN,IAA7B,IAAqC,KAAK+M,KAAL,CAAW5H,IAAX,IAAmB+H,SAAS,CAAC/H,IAAtE,EAA4E;AACjF,WAAK6R,SAAL,CAAe9J,SAAS,CAAClN,IAAzB;AACD;AACF;;SAEDgX,YAAA,mBAAUhX,IAAV,EAAgB;AACdA,IAAAA,IAAI,GAAGgD,GAAC,CAACC,OAAF,CAAUjD,IAAV,MAAoB,KAApB,GAA4BA,IAA5B,GAAmC,EAA1C;AACA,QAAMiX,YAAY,GAAGC,WAAW,CAAClX,IAAD,CAAhC;;AACA,QAAIiX,YAAJ,EAAkB;AAChB,UAAME,YAAY,GAAGC,oBAAY,CAACC,oBAAb,CAAkCJ,YAAY,CAACK,aAA/C,CAArB;AACA,UAAMX,WAAW,GAAGC,mBAAW,CAACW,iBAAZ,CAA8BJ,YAA9B,CAApB;AACA,WAAK/J,QAAL,CAAc;AAAEuJ,QAAAA,WAAW,EAAEA;AAAf,OAAd;AACD;AACF;;SAKDI,sBAAA,6BAAoBS,IAApB,EAA0B;AACxB,QAAIrU,IAAI,GAAG,IAAX;AACA,WAAO,IAAI3D,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5CyD,MAAAA,IAAI,CAACiK,QAAL,CAAc;AAAEqJ,QAAAA,OAAO,EAAE;AAAX,OAAd,EAAiC,YAAM;AACrCtT,QAAAA,IAAI,CAAC4J,KAAL,CACG0K,aADH,CACiBD,IADjB,EAEG5X,IAFH,CAEQ,UAAA8X,QAAQ,EAAI;AAChB,cAAIC,cAAc,GAAG;AAAE3X,YAAAA,IAAI,EAAE;AAAE4X,cAAAA,IAAI,EAAEF;AAAR;AAAR,WAArB;AACAjY,UAAAA,OAAO,CAACkY,cAAD,CAAP;AACD,SALH,WAMS,UAAA7X,KAAK,EAAI;AACdJ,UAAAA,MAAM,CAACI,KAAD,CAAN;AACD,SARH,aASW,YAAM;AACbqD,UAAAA,IAAI,CAACiK,QAAL,CAAc;AAAEqJ,YAAAA,OAAO,EAAE;AAAX,WAAd;AACD,SAXH;AAYD,OAbD;AAcD,KAfM,CAAP;AAgBD;;SAEDK,sBAAA,6BAAoBH,WAApB,EAAiC;AAC/B,SAAK5J,KAAL,CAAW8K,QAAX,CAAoBC,WAAW,CAACC,oBAAY,CAACpB,WAAW,CAACqB,iBAAZ,EAAD,CAAb,CAA/B;AACA,SAAK5K,QAAL,CAAc;AAAEuJ,MAAAA,WAAW,EAAEA;AAAf,KAAd;AACD;;SAKDtJ,SAAA,kBAAS;AAAA,sBACqE,KAAKN,KAD1E;AAAA,QACDpE,YADC,eACDA,YADC;AAAA,QACaqL,QADb,eACaA,QADb;AAAA,QACuBlU,KADvB,eACuBA,KADvB;AAAA,QAC8B+T,SAD9B,eAC8BA,SAD9B;AAAA,QACyCyC,YADzC,eACyCA,YADzC;AAAA,QACuDC,SADvD,eACuDA,SADvD;AAAA,sBAEwB,KAAKvJ,KAF7B;AAAA,QAED2J,WAFC,eAEDA,WAFC;AAAA,QAEYF,OAFZ,eAEYA,OAFZ;AAIP,wBACElJ,6BAAC0K,oBAAD;AAAgB,MAAA,MAAM,EAAExB,OAAxB;AAAiC,MAAA,OAAO,MAAxC;AAAyC,MAAA,IAAI,EAAE,CAAC9N,YAAY,CAAC8N,OAAb,IAAwB,SAAzB,IAAsC;AAArF,oBACElJ,6BAACqG,WAAD;AAAW,MAAA,SAAS,EAAE9T,KAAK,IAAI+T,SAA/B;AAA0C,MAAA,YAAY,EAAEyC,YAAxD;AAAsE,MAAA,SAAS,EAAEC;AAAjF,oBACEhJ,6BAAC2K,wBAAD;AACE,MAAA,QAAQ,EAAElE,QADZ;AAEE,MAAA,aAAa,EAAEA,QAFjB;AAGE,MAAA,eAAe,EAAE,cAHnB;AAIE,MAAA,OAAO,EAAE;AACPmE,QAAAA,OAAO,EAAE,CAAC,QAAD,EAAW,WAAX,EAAwB,YAAxB,EAAsC,UAAtC,EAAkD,MAAlD,EAA0D,WAA1D,EAAuE,MAAvE,EAA+E,OAA/E,EAAwF,QAAxF,EAAkG,SAAlG,CADF;AAEPC,QAAAA,MAAM,EAAE;AAAEC,UAAAA,UAAU,EAAE;AAAd,SAFD;AAGPC,QAAAA,IAAI,EAAE;AAAED,UAAAA,UAAU,EAAE;AAAd,SAHC;AAIPE,QAAAA,SAAS,EAAE;AAAEF,UAAAA,UAAU,EAAE;AAAd,SAJJ;AAKPT,QAAAA,IAAI,EAAE;AAAES,UAAAA,UAAU,EAAE;AAAd,SALC;AAMPG,QAAAA,OAAO,EAAE;AAAEH,UAAAA,UAAU,EAAE;AAAd,SANF;AAOP7M,QAAAA,KAAK,EAAE;AACLiN,UAAAA,cAAc,EAAE,KAAK1B,mBADhB;AAEL2B,UAAAA,YAAY,EAAE,IAFT;AAGLC,UAAAA,WAAW,EAAE,oDAHR;AAILC,UAAAA,GAAG,EAAE;AAAEC,YAAAA,OAAO,EAAE,IAAX;AAAiBC,YAAAA,SAAS,EAAE;AAA5B,WAJA;AAKLC,UAAAA,WAAW,EAAE;AAAEC,YAAAA,KAAK,EAAE,MAAT;AAAiBvG,YAAAA,MAAM,EAAE;AAAzB;AALR;AAPA,OAJX;AAmBE,MAAA,WAAW,EAAEkE,WAnBf;AAoBE,MAAA,mBAAmB,EAAE,KAAKG;AApB5B,oBAqBEvJ;AAAU,MAAA,QAAQ,MAAlB;AAAmB,MAAA,KAAK,EAAEuK,WAAW,CAACC,oBAAY,CAACpB,WAAW,CAACqB,iBAAZ,EAAD,CAAb;AAArC,MArBF,CADF,CADF,CADF;AA6BD;;;EAvG0BvK;;ACjCtB,IAAMkE,KAAK,GAAG,CACjB,MADiB,EAEjB,QAFiB,EAGjB,WAHiB,EAIjB,eAJiB,EAKjB,UALiB,EAMjB,UANiB,EASjB,WATiB,EAUjB,WAViB,EAWjB,GAXiB,EAYjB,SAZiB,EAajB,YAbiB,EAcjB,kBAdiB,EAejB,kBAfiB,EAgBjB,SAhBiB,EAiBjB,QAjBiB,EAkBjB,aAlBiB,EAmBjB,WAnBiB,EAoBjB,GApBiB,EAqBjB,aArBiB,EAsBjB,YAtBiB,EAuBjB,OAvBiB,EAyBjB,GAzBiB,EA0BjB,aA1BiB,EA2BjB,OA3BiB,EA4BjB,YA5BiB,EA6BjB,YA7BiB,EA8BjB,GA9BiB,EA+BjB,MA/BiB,EAgCjB,MAhCiB,CAAd;AAmCP,AAAO,IAAMsH,UAAU,GAAG,CACtB,aADsB,EAEtB,WAFsB,EAGtB,cAHsB,EAItB,WAJsB,EAKtB,GALsB,EAMtB,iBANsB,EAOtB,aAPsB,EAQtB,wBARsB,EAStB,QATsB,CAAnB;AAYP,AAAO,IAAMC,UAAU,GAAG,CACtB,SADsB,EAEtB,OAFsB,EAGtB,SAHsB,EAItB,QAJsB,EAKtB,YALsB,EAMtB,eANsB,EAOtB,GAPsB,EAQtB,eARsB,EAStB,iBATsB,EAUtB,SAVsB,EAWtB,SAXsB,EAYtB,WAZsB,CAAnB;;ACrCP,SAASC,UAAT,CAAoBpM,KAApB,EAA2B;AAAA,wBACiDA,KADjD,CACf5F,QADe;AAAA,MACfA,QADe,gCACJ,IADI;AAAA,MACEsL,MADF,GACiD1F,KADjD,CACE0F,MADF;AAAA,MACUsB,OADV,GACiDhH,KADjD,CACUgH,OADV;AAAA,MACmBC,QADnB,GACiDjH,KADjD,CACmBiH,QADnB;AAAA,MAC6BzS,KAD7B,GACiDwL,KADjD,CAC6BxL,KAD7B;AAAA,MACoCsW,QADpC,GACiD9K,KADjD,CACoC8K,QADpC;AAEvB,MAAM1D,SAAS,GAAGJ,OAAO,KAAK,KAAZ,IAAqBC,QAAQ,KAAK,IAAlC,GAAyC,KAAzC,GAAiD,IAAnE;AACA,AAKAa,EAAAA,eAAS,CAAC,YAAM;AACZ,QAAI;AACA,UAAIvF,OAAO,GAAG8J,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAAd;;AACA,UAAI/J,OAAJ,EAAa;AACTA,QAAAA,OAAO,CAACzN,MAAR;AACH;;AAED,UAAIyX,KAAK,GAAGF,QAAQ,CAACG,oBAAT,CAA8B,GAA9B,CAAZ;AACA,UAAIC,UAAU,GAAG,yBAAjB;;AACAxW,MAAAA,GAAC,CAACiG,IAAF,CAAOqQ,KAAP,EAAc,UAACG,GAAD,EAAS;AACnB,YAAIA,GAAG,IAAIA,GAAG,CAAC9J,WAAJ,CAAgBrI,WAAhB,MAAiCkS,UAAU,CAAClS,WAAX,EAA5C,EAAsE;AAClE,cAAIoS,aAAa,GAAGD,GAAG,CAACC,aAAxB;AACAA,UAAAA,aAAa,CAAC7X,MAAd;AAEA,cAAI8X,mBAAmB,GAAGD,aAAa,CAACA,aAAxC;;AACA,cAAIC,mBAAJ,EAAyB;AACrBA,YAAAA,mBAAmB,CAAC9X,MAApB;AAEA,gBAAI+X,kBAAkB,GAAGD,mBAAmB,CAACD,aAA7C;;AACA,gBAAIE,kBAAJ,EAAwB;AACpBA,cAAAA,kBAAkB,CAAC/X,MAAnB;AAEA,kBAAIgY,mBAAmB,GAAGD,kBAAkB,CAACF,aAA7C;;AACA,kBAAIG,mBAAJ,EAAyB;AACrBA,gBAAAA,mBAAmB,CAAChY,MAApB;AACH;AACJ;AACJ;;AAED,cAAIiY,OAAO,GAAGV,QAAQ,CAACG,oBAAT,CAA8B,KAA9B,CAAd;;AACAvW,UAAAA,GAAC,CAACiG,IAAF,CAAO6Q,OAAP,EAAgB,UAACL,GAAD,EAAS;AACrB,gBAAIA,GAAJ,EAAS;AACL,kBAAIM,KAAK,GAAGN,GAAG,CAACM,KAAhB;;AACA,kBAAIA,KAAK,CAACC,QAAN,KAAmB,OAAnB,IACAD,KAAK,CAACf,KAAN,IAAe,MADf,IAEAe,KAAK,CAACtH,MAAN,IAAgB,MAFhB,IAGAsH,KAAK,CAACE,MAAN,IAAgB,OAHhB,IAIAF,KAAK,CAACG,eAAN,IAAyB,oBAJ7B,EAImD;AAC/CT,gBAAAA,GAAG,CAAC5X,MAAJ;AACA;AACH;AACJ;AACJ,WAZD;AAaH;AACJ,OAnCD;AAoCH,KA5CD,CA4CE,OAAO0F,CAAP,EAAU;AACRC,MAAAA,OAAO,CAAC1H,KAAR,CAAcyH,CAAd;AACH;AACJ,GAhDQ,CAAT;AAqDA,MAAM4S,oBAAoB,GAAG;AACzBC,IAAAA,KAAK,EAAEnB,UADkB;AAEzBzN,IAAAA,KAAK,EAAE0N;AAFkB,GAA7B;AAKA,MAAMmB,eAAe,GAAG;AACpB1I,IAAAA,KAAK,EAAEA;AADa,GAAxB;AAIA,sBACIpE,6BAAC+M,8CAAD;AACI,IAAA,EAAE,EAAC,UADP;AAEI,IAAA,MAAM,EAAE7H,MAFZ;AAGI,IAAA,MAAM,EAAE4B,mBAAA,CAAoClN,QAApC,CAHZ;AAII,IAAA,GAAG,EAAE,aAACoT,cAAD,EAAoB;AAAEC,AAA0B,KAJzD;AAKI,IAAA,OAAO,EAAErG,SALb;AAMI,IAAA,KAAK,EAAE5S,KANX;AAOI,IAAA,eAAe,EAAE8Y,eAPrB;AAQI,IAAA,oBAAoB,EAAE;AAClBI,MAAAA,MAAM,EAAE,IADU;AAElBC,MAAAA,SAAS,EAAE,KAFO;AAGlBC,MAAAA,UAAU,EAAE;AAHM,KAR1B;AAaI,IAAA,mBAAmB,EAAE;AACjBC,MAAAA,YAAY,EAAE,CAAC,MAAD,EAAS,MAAT,CADG;AAEjBC,MAAAA,OAAO,EAAE,QAFQ;AAGjB7B,MAAAA,KAAK,EAAE,MAHU;AAIjBvG,MAAAA,MAAM,EAAE,MAJS;AAKjBqI,MAAAA,UAAU,EAAE;AALK,KAbzB;AAoBI,IAAA,oBAAoB,EAAEX,oBApB1B;AAqBI,IAAA,aAAa,EAAE,IArBnB;AAsBI,IAAA,MAAM,EAAE,gBAAC5S,CAAD,EAAO;AACXsQ,MAAAA,QAAQ,CAACtQ,CAAC,CAAChG,KAAH,CAAR;AACH;AAxBL,kBAyBIgM,6BAAC0F,6BAAD;AAAQ,IAAA,QAAQ,EAAE,CAAC8H,8BAAD,EAAUC,4BAAV,EAAiBC,2BAAjB,EAAuBC,iCAAvB,EAAmCC,4BAAnC,EAA0CC,mCAA1C,EAAwDC,4BAAxD,EAA+DC,kCAA/D,EAA4EC,mCAA5E;AAAlB,IAzBJ,CADJ;AA6BH;;ICzGKC;;;AACF,yBAAYzO,KAAZ,EAAmB;AAAA;;AACf,kCAAMA,KAAN;AACA,UAAKC,KAAL,GAAa,EAAb;AAFe;AAIlB;;;;SAEDK,SAAA,kBAAS;AACL,QAAIoO,SAAS,GAAG,KAAK1O,KAAL,CAAW0O,SAAX,IAAwB,KAAxC;AACA,QAAIC,KAAK,GAAG,KAAK3O,KAAL,CAAW2O,KAAX,IAAoB;AAAEC,MAAAA,IAAI,EAAE,GAAR;AAAaC,MAAAA,IAAI,EAAE;AAAnB,KAAhC;AACA,QAAIC,OAAO,GAAG,KAAK9O,KAAL,CAAW8O,OAAX,IAAsB,EAApC;AACA,QAAIxF,QAAQ,GAAG,KAAKtJ,KAAL,CAAWsJ,QAAX,iBAAuB9I,2DAAtC;;AAEA,QAAIvK,GAAC,CAACC,OAAF,CAAU4Y,OAAV,MAAuB,IAA3B,EAAiC;AAC7B,0BAAOtO,6BAACA,cAAD,CAAO,QAAP,QACF8I,QADE,CAAP;AAGH,KAJD,MAIO;AACH,0BACI9I,6BAACuO,6BAAD;AACI,QAAA,KAAK,EAAE,KAAK/O,KAAL,CAAWgN,KADtB;AAEI,QAAA,SAAS,EAAE,KAAKhN,KAAL,CAAWgP,SAF1B;AAGI,QAAA,SAAS,EAAEN,SAHf;AAII,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAALA;AAAF,SAJX;AAKI,QAAA,OAAO,eAAEnO,6BAACyO,sBAAD,QACJH,OADI;AALb,SAQKxF,QARL,CADJ;AAYH;AACJ;;;EA/BuB5I;;ICHPwO;;;eACZC,WAAP,wBAAmC;AAAA,QAAjB1E,IAAiB,QAAjBA,IAAiB;AAAA,QAAX2E,OAAW,QAAXA,OAAW;AACjC,WAAO,IAAI3c,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAEtC,UAAM0c,QAAQ,GAAG5E,IAAI,CAACxC,IAAtB;AACA,UAAMqH,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACAD,MAAAA,MAAM,CAACE,aAAP,CAAqB/E,IAArB;;AACA6E,MAAAA,MAAM,CAACG,MAAP,GAAgB,UAAAC,KAAK,EAAI;AACvB,YAAMC,GAAG,GAAG,IAAI1B,KAAJ,EAAZ;AACA0B,QAAAA,GAAG,CAACC,GAAJ,GAAUF,KAAK,CAACG,MAAN,CAAa/c,MAAvB;;AACA6c,QAAAA,GAAG,CAACF,MAAJ,GAAa,YAAM;AACjB,cAAMK,IAAI,GAAGzD,QAAQ,CAAC0D,aAAT,CAAuB,QAAvB,CAAb;AACAD,UAAAA,IAAI,CAAC7D,KAAL,GAAa0D,GAAG,CAAC1D,KAAJ,GAAYmD,OAAzB;AACAU,UAAAA,IAAI,CAACpK,MAAL,GAAciK,GAAG,CAACjK,MAAJ,GAAa0J,OAA3B;AACA,cAAMY,GAAG,GAAGF,IAAI,CAACG,UAAL,CAAgB,IAAhB,CAAZ;AAEAD,UAAAA,GAAG,CAACE,SAAJ,CAAcP,GAAd,EAAmB,CAAnB,EAAsB,CAAtB,EAAyBA,GAAG,CAAC1D,KAAJ,GAAYmD,OAArC,EAA8CO,GAAG,CAACjK,MAAJ,GAAa0J,OAA3D;AACAY,UAAAA,GAAG,CAACG,MAAJ,CAAWC,MAAX,CACE,UAAAC,IAAI,EAAI;AACN,gBAAMC,OAAO,GAAG,IAAIC,IAAJ,CACd,CAACF,IAAD,CADc,EAEd,CACEhB,QAAQ,CAACpV,KAAT,CAAe,CAAf,EAAkBoV,QAAQ,CAAC3L,OAAT,CAAiB,GAAjB,CAAlB,CADF,QAEM0L,OAFN,QAGEC,QAAQ,CAACpV,KAAT,CAAeoV,QAAQ,CAAC3L,OAAT,CAAiB,GAAjB,CAAf,CAHF,EAIE8M,IAJF,CAIO,EAJP,CAFc,EAOd;AACElM,cAAAA,IAAI,EAAEmG,IAAI,CAACnG,IADb;AAEEmM,cAAAA,YAAY,EAAErN,IAAI,CAACsN,GAAL;AAFhB,aAPc,CAAhB;AAYAhe,YAAAA,OAAO,CAAC4d,OAAD,CAAP;AACD,WAfH,EAgBE7F,IAAI,CAACnG,IAhBP,EAiBE,CAjBF;AAmBD,SA1BD;;AA2BAgL,QAAAA,MAAM,CAACqB,OAAP,GAAiB,UAAA5d,KAAK;AAAA,iBAAIJ,MAAM,CAACI,KAAD,CAAV;AAAA,SAAtB;AACD,OA/BD;AAgCD,KArCM,CAAP;AAsCD;;eAEM6d,gBAAP,uBAAqBnG,IAArB,EAA2B;AACzB,QAAIoG,QAAQ,GAAG,CACb;AACEpG,MAAAA,IAAI,EAAJA,IADF;AAEE2E,MAAAA,OAAO,EAAE;AAFX,KADa,EAKb;AACE3E,MAAAA,IAAI,EAAJA,IADF;AAEE2E,MAAAA,OAAO,EAAE;AAFX,KALa,EASb;AACE3E,MAAAA,IAAI,EAAJA,IADF;AAEE2E,MAAAA,OAAO,EAAE;AAFX,KATa,EAab;AACE3E,MAAAA,IAAI,EAAJA,IADF;AAEE2E,MAAAA,OAAO,EAAE;AAFX,KAba,CAAf;AAkBA,QAAI0B,OAAO,GAAGD,QAAQ,CAAC5N,GAAT,CAAaiM,YAAY,CAACC,QAA1B,CAAd;AACA,QAAIlU,OAAO,GAAGxI,OAAO,CAACuI,GAAR,CAAY8V,OAAZ,CAAd;AACA,WAAO7V,OAAP;AACD;;eAEM8V,mBAAP,0BAAwBZ,MAAxB,EAAgCa,QAAhC,EAA0CC,SAA1C,EAAqD;AACnD,QAAIC,SAAS,GAAG7E,QAAQ,CAAC0D,aAAT,CAAuB,QAAvB,CAAhB;AACAmB,IAAAA,SAAS,CAACjF,KAAV,GAAkB+E,QAAlB;AACAE,IAAAA,SAAS,CAACxL,MAAV,GAAmBuL,SAAnB;AAEA,QAAIjB,GAAG,GAAGkB,SAAS,CAACjB,UAAV,CAAqB,IAArB,CAAV;AACAD,IAAAA,GAAG,CAACE,SAAJ,CACEC,MADF,EAEE,CAFF,EAGE,CAHF,EAIEA,MAAM,CAAClE,KAJT,EAKEkE,MAAM,CAACzK,MALT,EAME,CANF,EAOE,CAPF,EAQEsL,QARF,EASEC,SATF;AAYA,WAAOC,SAAP;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/EH,IAAMC,WAAW,GAAGxK,MAAM,CAACC,GAAV,qBAAjB;;AAGA,SAASwK,QAAT,CAAkBpR,KAAlB,EAAyB;AACrB,sBAAOQ,6BAAC,WAAD,QAAcR,KAAK,CAACsJ,QAApB,CAAP;AACH;;AAED,IAAM+H,WAAW,GAAG1K,MAAM,CAACC,GAAV,sBAAjB;;AAOA,SAAS0K,QAAT,CAAkBtR,KAAlB,EAAyB;AACrB,sBAAOQ,6BAAC,WAAD,QAAcR,KAAK,CAACsJ,QAApB,CAAP;AACH;;AAED,IAAMiI,oBAAoB,GAAG5K,MAAM,CAAC6K,gCAAD,CAAT,oBAA1B;AAMA,IAAMC,eAAe,GAAG9K,MAAM,CAAC6K,gCAAD,CAAT,oBAArB;;AAKA,SAASE,eAAT,GAA2B;AACvB,sBAAOlR;AAAM,IAAA,SAAS,EAAC;AAAhB,kBACHA,6BAAC,oBAAD;AAAsB,IAAA,SAAS,EAAC,aAAhC;AAA8C,IAAA,IAAI,EAAEmR;AAApD,IADG,eAEHnR,6BAAC,eAAD;AAAiB,IAAA,SAAS,EAAC,aAA3B;AAAyC,IAAA,IAAI,EAAEoR;AAA/C,IAFG,CAAP;AAIH;;AAED,IAAMC,oBAAoB,GAAGlL,MAAM,CAACC,GAAV,oBAA1B;AAIA,IAAMkL,oBAAoB,GAAGnL,MAAM,CAAC6K,gCAAD,CAAT,oBAA1B;AAMA,IAAMO,cAAc,GAAGpL,MAAM,CAAC6K,gCAAD,CAAT,oBAApB;;AAKA,SAASQ,eAAT,CAAyBhS,KAAzB,EAAgC;AAC5B,sBAAOQ,6BAAC,oBAAD;AAAsB,IAAA,SAAS,EAAC;AAAhC,KAAqDR,KAArD,gBACHQ,6BAAC,oBAAD;AAAsB,IAAA,SAAS,EAAC,aAAhC;AAA8C,IAAA,IAAI,EAAEmR;AAApD,IADG,eAEHnR,6BAAC,cAAD;AAAgB,IAAA,SAAS,EAAC,aAA1B;AAAwC,IAAA,IAAI,EAAEyR;AAA9C,IAFG,CAAP;AAIH;;AAGD,IAAMC,SAAS,GAAGvL,MAAM,CAACgJ,GAAV,oBAAf;;AAKA,SAASwC,WAAT,CAAqBnS,KAArB,EAA4B;AACxB,sBAAOQ,6BAAC,SAAD,EAAeR,KAAf,CAAP;AACH;;AAED,IAAMoS,YAAY,GAAGzL,MAAM,CAAC0L,qBAAD,CAAT,qBAQE,UAACrS,KAAD;AAAA,SAAaA,KAAK,CAACjN,KAAN,KAAgB,IAAhB,IAAwBiN,KAAK,CAAC8G,SAAN,KAAoB,IAA7C,GAAqD,SAArD,GAAiE,SAA7E;AAAA,CARF,CAAlB;;AAUA,SAASwL,iBAAT,CAA2BtS,KAA3B,EAAkC;AAC9B,sBAAOQ,6BAAC,YAAD,EAAkBR,KAAlB,EAA0BA,KAAK,CAACsJ,QAAhC,CAAP;AACH;;AAGD,IAAMiJ,qBAAqB,GAAG5L,MAAM,CAACC,GAAV,qBAA3B;;AAKA,SAAS4L,YAAT,CAAsBxS,KAAtB,EAA6B;AACzB,sBAAOQ,6BAAC,qBAAD,QAAwBR,KAAK,CAACsJ,QAA9B,CAAP;AACH;;AAED,IAAMmJ,0BAA0B,GAAG9L,MAAM,CAAC6K,gCAAD,CAAT,qBAAhC;;AAKA,SAASkB,SAAT,CAAmB1S,KAAnB,EAA0B;AACtB,sBAAOQ,wDAAMA,6BAAC,0BAAD;AAA4B,IAAA,IAAI,EAAEmS;AAAlC,KAAqD3S,KAArD,EAAN,CAAP;AACH;;AAGD,IAAM4S,4BAA4B,GAAGjM,MAAM,CAAC6K,gCAAD,CAAT,sBAGpB,UAACxR,KAAD;AAAA,SAAYA,KAAK,CAAC6S,OAAN,KAAkB,IAAlB,GAAyB,aAAzB,GAAyC,SAArD;AAAA,CAHoB,EAIrB,UAAC7S,KAAD;AAAA,SAAYA,KAAK,CAAC6S,OAAN,KAAkB,IAAlB,GAAyB,SAAzB,GAAqC,SAAjD;AAAA,CAJqB,CAAlC;;AAOA,SAASC,mBAAT,CAA6B9S,KAA7B,EAAoC;AAChC,sBAAOQ,wDAAMA,6BAAC,4BAAD,eAAkCR,KAAlC;AAAyC,IAAA,IAAI,EAAE+S;AAA/C,KAAN,CAAP;AACH;;AAED,IAAMC,yBAAyB,GAAGrM,MAAM,CAAC6K,gCAAD,CAAT,sBAGjB,UAACxR,KAAD;AAAA,SAAYA,KAAK,CAAC6S,OAAN,KAAkB,IAAlB,GAAyB,aAAzB,GAAyC,SAArD;AAAA,CAHiB,EAIlB,UAAC7S,KAAD;AAAA,SAAYA,KAAK,CAAC6S,OAAN,KAAkB,IAAlB,GAAyB,SAAzB,GAAqC,SAAjD;AAAA,CAJkB,CAA/B;;AAMA,SAASI,eAAT,CAAyBjT,KAAzB,EAAgC;AAC5B,sBAAOQ,wDAAMA,6BAAC,yBAAD,eAA+BR,KAA/B;AAAsC,IAAA,IAAI,EAAEkT;AAA5C,KAAN,CAAP;AACH;;IChHKC;;;AACF,qBAAYnT,KAAZ,EAAmB;AAAA;;AACf,kCAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACT2P,MAAAA,GAAG,EAAE,IADI;AAETwD,MAAAA,eAAe,EAAE,IAFR;AAGTP,MAAAA,OAAO,EAAE;AAHA,KAAb;AAMA,UAAKQ,kBAAL,GAA0B,MAAKA,kBAAL,CAAwB1R,IAAxB,+BAA1B;AACA,UAAK2R,iBAAL,GAAyB,MAAKA,iBAAL,CAAuB3R,IAAvB,+BAAzB;AACA,UAAK4R,KAAL,GAAa,MAAKA,KAAL,CAAW5R,IAAX,+BAAb;AAVe;AAWlB;;;;SAKDG,oBAAA,6BAAoB;AAAA;;AAChB,SAAKzB,QAAL,CAAc;AACVuP,MAAAA,GAAG,EAAE,KAAK5P,KAAL,CAAW4P;AADN,KAAd,EAEG,YAAM;AACL,MAAA,MAAI,CAAC2D,KAAL;AACH,KAJD;AAKH;;SAEDC,+BAAA,sCAA6BxT,KAA7B,EAAoCyT,YAApC,EAAkDC,aAAlD,EAAiEC,WAAjE,EAA8E;AAAA,QACpEC,eADoE,GACmB5T,KADnB,CACpE4T,eADoE;AAAA,QACnDC,eADmD,GACmB7T,KADnB,CACnD6T,eADmD;AAAA,QAClCC,gBADkC,GACmB9T,KADnB,CAClC8T,gBADkC;AAAA,QAChBC,gBADgB,GACmB/T,KADnB,CAChB+T,gBADgB;AAAA,QACEnY,YADF,GACmBoE,KADnB,CACEpE,YADF;AAE1E,QAAIiX,OAAO,GAAG,KAAd;;AAEA,QAAIe,eAAe,IAAI,IAAnB,IAA2BH,YAAY,GAAGG,eAA9C,EAA+D;AAC3Df,MAAAA,OAAO,GAAG,IAAV;;AACA,UAAIc,WAAW,IAAI,IAAnB,EAAyB;AACrBK,QAAAA,mBAAK,CAACC,IAAN,CAAWrY,YAAY,CAACgY,eAAb,IAAgC,iBAA3C;AACH;AACJ;;AACD,QAAIC,eAAe,IAAI,IAAnB,IAA2BJ,YAAY,GAAGI,eAA9C,EAA+D;AAC3DhB,MAAAA,OAAO,GAAG,IAAV;;AACA,UAAIc,WAAW,IAAI,IAAnB,EAAyB;AACrBK,QAAAA,mBAAK,CAACC,IAAN,CAAWrY,YAAY,CAACiY,eAAb,IAAgC,iBAA3C;AACH;AACJ;;AAED,QAAIC,gBAAgB,IAAI,IAApB,IAA4BJ,aAAa,GAAGI,gBAAhD,EAAkE;AAC9DjB,MAAAA,OAAO,GAAG,IAAV;;AACA,UAAIc,WAAW,IAAI,IAAnB,EAAyB;AACrBK,QAAAA,mBAAK,CAACC,IAAN,CAAWrY,YAAY,CAACkY,gBAAb,IAAiC,kBAA5C;AACH;AACJ;;AACD,QAAIC,gBAAgB,IAAI,IAApB,IAA4BL,aAAa,GAAGK,gBAAhD,EAAkE;AAC9DlB,MAAAA,OAAO,GAAG,IAAV;;AACA,UAAIc,WAAW,IAAI,IAAnB,EAAyB;AACrBK,QAAAA,mBAAK,CAACC,IAAN,CAAWrY,YAAY,CAACmY,gBAAb,IAAiC,kBAA5C;AACH;AACJ;;AAED,WAAOlB,OAAP;AACH;;SAEDU,QAAA,iBAAQ;AACJ,QAAInd,IAAI,GAAG,IAAX;AACA,QAAI8d,WAAW,GAAG,IAAlB;;AACA,QAAI9d,IAAI,CAAC4J,KAAL,CAAWkU,WAAf,EAA4B;AACxBA,MAAAA,WAAW,GAAG9d,IAAI,CAAC4J,KAAL,CAAWkU,WAAX,CAAuBC,KAAvB,CAA6B,GAA7B,CAAd;AACAD,MAAAA,WAAW,GAAGE,QAAQ,CAACF,WAAW,CAAC,CAAD,CAAZ,CAAR,GAA2BE,QAAQ,CAACF,WAAW,CAAC,CAAD,CAAZ,CAAjD;AACH;;AAED,QAAMzV,KAAK,GAAG4N,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAd;AACAlW,IAAAA,IAAI,CAACie,OAAL,GAAe,IAAIC,OAAJ,CAAY7V,KAAZ,EAAmB;AAC9B8V,MAAAA,QAAQ,EAAE,KADoB;AAE9BL,MAAAA,WAAW,EAAEA,WAFiB;AAG9BM,MAAAA,eAAe,EAAEpe,IAAI,CAAC4J,KAAL,CAAW4T,eAHE;AAI9Ba,MAAAA,gBAAgB,EAAEre,IAAI,CAAC4J,KAAL,CAAW8T,gBAJC;AAK9B7gB,MAAAA,IAAI,EAAE;AACFyhB,QAAAA,CAAC,EAAE,CADD;AAEFC,QAAAA,CAAC,EAAE,CAFD;AAGF1I,QAAAA,KAAK,EAAE7V,IAAI,CAAC4J,KAAL,CAAW4U,cAAX,IAA6B,EAHlC;AAIFlP,QAAAA,MAAM,EAAEtP,IAAI,CAAC4J,KAAL,CAAW6U,eAAX,IAA8B;AAJpC,OALwB;AAW9BC,MAAAA,IAX8B,gBAWzBpF,KAXyB,EAWlB;AACR,YAAIzD,KAAK,GAAGyD,KAAK,CAACqF,MAAN,CAAa9I,KAAzB;AACA,YAAIvG,MAAM,GAAGgK,KAAK,CAACqF,MAAN,CAAarP,MAA1B;AAFQ,0BAIuEtP,IAAI,CAAC4J,KAJ5E;AAAA,YAIF4T,eAJE,eAIFA,eAJE;AAAA,YAIeC,eAJf,eAIeA,eAJf;AAAA,YAIgCC,gBAJhC,eAIgCA,gBAJhC;AAAA,YAIkDC,gBAJlD,eAIkDA,gBAJlD;AAKR,YAAIlB,OAAO,GAAGzc,IAAI,CAACod,4BAAL,CAAkCpd,IAAI,CAAC4J,KAAvC,EAA8CiM,KAA9C,EAAqDvG,MAArD,CAAd;;AAEA,YAAImN,OAAO,IAAI,KAAf,EAAsB;AAClBzc,UAAAA,IAAI,CAACie,OAAL,CAAaW,OAAb,CAAqB;AACjB/I,YAAAA,KAAK,EAAEgJ,IAAI,CAACC,GAAL,CAAStB,eAAT,EAA0BqB,IAAI,CAACE,GAAL,CAAStB,eAAT,EAA0B5H,KAA1B,CAA1B,CADU;AAEjBvG,YAAAA,MAAM,EAAEuP,IAAI,CAACC,GAAL,CAASpB,gBAAT,EAA2BmB,IAAI,CAACE,GAAL,CAASpB,gBAAT,EAA2BrO,MAA3B,CAA3B;AAFS,WAArB;AAUH;AACJ,OA9B6B;AA+B9B0P,MAAAA,OA/B8B,mBA+BtB1F,KA/BsB,EA+Bf;AACX,YAAI2F,aAAa,GAAGjf,IAAI,CAACie,OAAL,CAAaiB,gBAAb,EAApB;AAEA,YAAIlC,eAAe,GAAGiC,aAAa,CAACE,SAAd,EAAtB;AAEA,YAAIC,aAAa,GAAGH,aAAa,CAACpJ,KAAlC;AACA,YAAIwJ,cAAc,GAAGJ,aAAa,CAAC3P,MAAnC;AACA,YAAImN,OAAO,GAAGzc,IAAI,CAACod,4BAAL,CAAkCpd,IAAI,CAAC4J,KAAvC,EAA8CwV,aAA9C,EAA6DC,cAA7D,EAA6E,IAA7E,CAAd;AAEArf,QAAAA,IAAI,CAACiK,QAAL,CAAc;AACV+S,UAAAA,eAAe,EAAEA,eADP;AAEVP,UAAAA,OAAO,EAAEA;AAFC,SAAd;AAIH;AA5C6B,KAAnB,CAAf;AA8CH;;SAKDQ,qBAAA,8BAAqB;AAAA,sBACkB,KAAKpT,KADvB;AAAA,QACXmT,eADW,eACXA,eADW;AAAA,QACMP,OADN,eACMA,OADN;;AAEjB,QAAIO,eAAe,IAAI,IAAnB,IAA2BP,OAAO,IAAI,KAA1C,EAAiD;AAC7C6C,MAAAA,KAAK,CAAC,KAAKzV,KAAL,CAAWmT,eAAZ,EAA6B;AAC9B7gB,QAAAA,MAAM,EAAE,KADsB;AAE9BC,QAAAA,OAAO,EAAE;AAFqB,OAA7B,CAAL,CAIKK,IAJL,CAIU,UAAA8iB,QAAQ,EAAI;AACdA,QAAAA,QAAQ,CAACC,WAAT,GAAuB/iB,IAAvB,CAA4B,UAAUgjB,MAAV,EAAkB;AAC1C,cAAMzjB,GAAG,GAAGgC,MAAM,CAAC0hB,GAAP,CAAWC,eAAX,CAA2B,IAAIC,IAAJ,CAAS,CAACH,MAAD,CAAT,CAA3B,CAAZ;AACA,cAAMhL,IAAI,GAAGwB,QAAQ,CAAC0D,aAAT,CAAuB,GAAvB,CAAb;AACAlF,UAAAA,IAAI,CAACoL,IAAL,GAAY7jB,GAAZ;AACAyY,UAAAA,IAAI,CAACrI,YAAL,CAAkB,UAAlB,EAA8B,WAA9B;AACA6J,UAAAA,QAAQ,CAAC6J,IAAT,CAAcC,WAAd,CAA0BtL,IAA1B;AACAA,UAAAA,IAAI,CAAC/F,KAAL;AACH,SAPD;AAQH,OAbL,WAcW,UAAAsR,GAAG,EAAI;AACV3b,QAAAA,OAAO,CAAC4b,GAAR,CAAYD,GAAZ;AACH,OAhBL;AAiBH;AACJ;;SAED9C,oBAAA,6BAAoB;AAChB,QAAIld,IAAI,GAAG,IAAX;AADgB,uBAEmB,KAAK6J,KAFxB;AAAA,QAEVmT,eAFU,gBAEVA,eAFU;AAAA,QAEOP,OAFP,gBAEOA,OAFP;;AAIhB,QAAIA,OAAO,IAAI,KAAX,IAAoBO,eAAe,IAAI,IAA3C,EAAiD;AAC7CsC,MAAAA,KAAK,CAACtC,eAAD,CAAL,CACKvgB,IADL,CACU,UAACC,MAAD,EAAY;AACd,eAAOA,MAAM,CAACud,IAAP,EAAP;AACH,OAHL,EAIKxd,IAJL,CAIU,UAACyjB,QAAD,EAAc;AAChB,eAAO,IAAI/F,IAAJ,CAAS,CAAC+F,QAAD,CAAT,EAAqB,aAArB,EAAoC;AAAEhS,UAAAA,IAAI,EAAE;AAAR,SAApC,CAAP;AACH,OANL,EAOKzR,IAPL,CAOU,UAACyd,OAAD,EAAa;AACfA,QAAAA,OAAO,CAACiG,GAAR,GAAcC,MAAM,EAApB;AACAlG,QAAAA,OAAO,CAACle,GAAR,GAAcghB,eAAd;AAEA,eAAOlE,YAAY,CAAC0B,aAAb,CAA2BN,OAA3B,CAAP;AACH,OAZL,EAaKzd,IAbL,CAaU,UAAC8iB,QAAD,EAAc;AAChB,YAAIc,KAAK,GAAGd,QAAQ,CAAC1S,GAAT,CAAa,UAAAyT,CAAC,EAAI;AAC1BA,UAAAA,CAAC,CAACH,GAAF,GAAQC,MAAM,EAAd;AACA,iBAAOE,CAAP;AACH,SAHW,CAAZ;AAKAtgB,QAAAA,IAAI,CAAC4J,KAAL,CAAW2W,MAAX,CAAkBvD,eAAlB,EAAmCqD,KAAnC;AACH,OApBL;AAqBH;AACJ;;SAKDnW,SAAA,kBAAS;AAAA;;AAAA,QACC1E,YADD,GACkB,KAAKoE,KADvB,CACCpE,YADD;AAAA,uBAEmC,KAAKqE,KAFxC;AAAA,QAEC2P,GAFD,gBAECA,GAFD;AAAA,QAEMwD,eAFN,gBAEMA,eAFN;AAAA,QAEuBP,OAFvB,gBAEuBA,OAFvB;AAIL,wBACIrS,6BAACoW,mBAAD,qBACIpW,6BAACoW,mBAAD,CAAM,MAAN,qBACIpW;AAAM,MAAA,KAAK,EAAE;AAAE,iBAAO;AAAT;AAAb,oBACIA,6BAACyO,aAAD;AAAS,MAAA,OAAO,EAAErT,YAAY,CAACib,QAAb,IAAyB;AAA3C,oBACIrW,6BAAC,mBAAD;AAAqB,MAAA,OAAO,EAAE5E,YAAY,CAACib,QAAb,IAAyB,UAAvD;AAAmE,MAAA,OAAO,EAAEhE,OAA5E;AAAqF,MAAA,OAAO,EAAE,KAAKQ;AAAnG,MADJ,CADJ,eAII7S,6BAACyO,aAAD;AAAS,MAAA,OAAO,EAAErT,YAAY,CAACkb,IAAb,IAAqB;AAAvC,oBACItW,6BAAC,eAAD;AAAiB,MAAA,OAAO,EAAEqS,OAA1B;AAAmC,MAAA,OAAO,EAAE,mBAAM;AAAE,QAAA,MAAI,CAACS,iBAAL;AAA0B;AAA9E,MADJ,CAJJ,eAOI9S,6BAACyO,aAAD;AAAS,MAAA,OAAO,EAAErT,YAAY,CAAC2I,MAAb,IAAuB;AAAzC,oBACI/D,6BAAC,SAAD;AAAW,MAAA,OAAO,EAAE,KAAKR,KAAL,CAAW+W;AAA/B,MADJ,CAPJ,CADJ,CADJ,eAcIvW,6BAACoW,mBAAD,CAAM,IAAN,qBACIpW,6BAACwW,kBAAD,qBACIxW,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,OACKrb,YAAY,CAACsb,oBAAb,IAAqC,sBAD1C,CADJ,eAII1W,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,MAJJ,eAKIzW,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,OACKrb,YAAY,CAACub,aAAb,IAA8B,eADnC,CALJ,CADJ,eAUI3W,6BAACwW,kBAAD;AAAK,MAAA,KAAK,EAAE;AAAEI,QAAAA,SAAS,EAAE;AAAb;AAAZ,oBACI5W,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,oBACIzW,6BAACyN,oBAAD;AAAO,MAAA,GAAG,EAAE2B,GAAZ;AAAiB,MAAA,EAAE,EAAC,OAApB;AAA4B,MAAA,KAAK;AAAjC,MADJ,CADJ,eAIIpP,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,MAJJ,eAKIzW,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,OACK7D,eAAe,IAAI,IAAnB,iBACG5S,0CACK5E,YAAY,CAACyb,YAAb,IAA6B,6DADlC,CAFR,EAMKjE,eAAe,iBACZ5S,6BAACyN,oBAAD;AAAO,MAAA,GAAG,EAAEmF,eAAZ;AAA6B,MAAA,KAAK;AAAlC,MAPR,CALJ,CAVJ,CAdJ,CADJ;AA4CH;;;EA7NmB1S;;ICJlB4W;;;AACF,uBAAYtX,KAAZ,EAAmB;AAAA;;AACf,kCAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTsX,MAAAA,gBAAgB,EAAE,KADT;AAETC,MAAAA,aAAa,EAAE,KAFN;AAGT/Y,MAAAA,KAAK,EAAE,MAAKuB,KAAL,CAAWvB,KAHT;AAITgZ,MAAAA,cAAc,EAAE,IAJP;AAKTC,MAAAA,WAAW,EAAE,IALJ;AAMTrI,MAAAA,QAAQ,EAAE,IAND;AAOTsI,MAAAA,aAAa,EAAE,IAPN;AAQTC,MAAAA,QAAQ,EAAE;AARD,KAAb;AAWA,UAAKC,4BAAL,GAAoC,MAAKA,4BAAL,CAAkClW,IAAlC,+BAApC;AACA,UAAKmW,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBnW,IAAtB,+BAAxB;AACA,UAAKoW,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBpW,IAAxB,+BAA1B;AACA,UAAKqW,QAAL,GAAgB,MAAKA,QAAL,CAAcrW,IAAd,+BAAhB;AACA,UAAKsW,QAAL,GAAgB,MAAKA,QAAL,CAActW,IAAd,+BAAhB;AAjBe;AAkBlB;;;;SAKDzB,4BAAA,mCAA0BC,SAA1B,EAAqC;AACjC,QAAIA,SAAS,CAAC1B,KAAV,IAAmB,KAAKwB,KAAL,CAAWxB,KAAlC,EAAyC;AACrC,WAAK4B,QAAL,CAAc;AACV5B,QAAAA,KAAK,EAAE0B,SAAS,CAAC1B;AADP,OAAd;AAGH;AACJ;;SAKDqZ,mBAAA,0BAAiBtd,CAAjB,EAAoB;AAChB,QAAIpE,IAAI,GAAG,IAAX;AAEA,QAAIqgB,KAAK,GAAGjc,CAAC,CAACqV,MAAF,CAAS4G,KAArB;;AACA,QAAIA,KAAK,CAACzT,MAAN,GAAe,CAAnB,EAAsB;AAClB,UAAIkV,OAAO,GAAGzB,KAAK,CAAC,CAAD,CAAnB;AACA,UAAInH,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,MAAAA,MAAM,CAACG,MAAP,GAAgB,YAAY;AACxB,YAAIxc,IAAI,GAAGqc,MAAM,CAACxc,MAAlB;AACAsD,QAAAA,IAAI,CAAC2hB,kBAAL,CAAwB9kB,IAAxB,EAA8BilB,OAA9B;AACH,OAHD;;AAIA5I,MAAAA,MAAM,CAACE,aAAP,CAAqB0I,OAArB;AACH,KARD;AAWH;;SAEDL,+BAAA,sCAA6BM,aAA7B,EAA4C;AACxC,QAAI/hB,IAAI,GAAG,IAAX;AACA,WAAO,IAAI3D,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAAA,wBACgCyD,IAAI,CAAC4J,KADrC;AAAA,UACpCpE,YADoC,eACpCA,YADoC;AAAA,UACtBwc,eADsB,eACtBA,eADsB;AAAA,UACLC,KADK,eACLA,KADK;AAAA,UACEC,SADF,eACEA,SADF;AAAA,UACaC,cADb,eACaA,cADb;;AAAA,iBAEsBH,eAAe,IAAI,EAFzC;AAAA,UAEpCI,WAFoC,QAEpCA,WAFoC;AAAA,UAEvBC,SAFuB,QAEvBA,SAFuB;AAAA,UAEZjP,SAFY,QAEZA,SAFY;AAAA,UAEDkP,QAFC,QAEDA,QAFC;AAAA,UAESC,QAFT,QAESA,QAFT;;AAAA,kBAGtBJ,cAAc,IAAI,EAHI;AAAA,UAGpCK,SAHoC,SAGpCA,SAHoC;;AAI1C,UAAI/F,OAAO,GAAG,KAAd;;AAEA,UAAI;AACA,YAAIgG,gBAAgB,GAAIV,aAAa,CAACnV,MAAd,IAAwB,IAAI,CAA5B,CAAD,GAAmC,CAA1D;AACA6V,QAAAA,gBAAgB,GAAGA,gBAAgB,GAAG,OAAtC;;AACA,YAAID,SAAS,IAAI,IAAb,IAAqBN,SAAS,IAAI,IAAlC,IAA0CO,gBAAgB,GAAGP,SAAjE,EAA4E;AACxE,cAAIQ,OAAO,GAAG,CAACld,YAAY,CAACmd,qBAAb,IAAsC,4BAAvC,IAAuE,GAAvE,GAA6ET,SAAS,CAACvW,QAAV,EAA7E,GAAoG,IAAlH;AACAiS,UAAAA,mBAAK,CAACC,IAAN,CAAW6E,OAAX;AACApmB,UAAAA,OAAO,CAAC,IAAD,CAAP;AACA;AACH;;AAED,YAAI+L,KAAK,GAAG,IAAIwP,KAAJ,EAAZ;;AACAxP,QAAAA,KAAK,CAACgR,MAAN,GAAe,YAAY;AACvB,cAAIuJ,UAAU,GAAG,KAAK/M,KAAtB;AACA,cAAIgN,WAAW,GAAG,KAAKvT,MAAvB;;AAEA,cAAI2S,KAAK,IAAIO,SAAS,IAAI,IAA1B,EAAgC;AAC5B,gBAAIM,UAAU,GAAGF,UAAU,GAAGC,WAA9B;AAEA,gBAAIE,QAAQ,GAAGd,KAAK,CAAClE,KAAN,CAAY,GAAZ,CAAf;AACA,gBAAIgF,QAAQ,GAAGA,QAAQ,CAAC,CAAD,CAAR,GAAcA,QAAQ,CAAC,CAAD,CAArC;;AAEA,gBAAID,UAAU,IAAIC,QAAlB,EAA4B;AACxBtG,cAAAA,OAAO,GAAG,IAAV;AACA,kBAAIiG,OAAO,GAAG,CAACld,YAAY,CAACwd,gBAAb,IAAiC,sBAAlC,IAA4D,GAA5D,GAAkEf,KAAhF;AACArE,cAAAA,mBAAK,CAACC,IAAN,CAAW6E,OAAX;AACAnmB,cAAAA,MAAM;AACN;AACH;AACJ;;AAED,cAAI6lB,WAAW,KAAK,IAApB,EAA0B;AACtB,gBAAIQ,UAAU,GAAGN,QAAjB,EAA2B;AACvB7F,cAAAA,OAAO,GAAG,IAAV;AACA,kBAAIiG,OAAO,GAAGld,YAAY,CAACyd,iCAAb,IAAkD,mCAAhE;AACAP,cAAAA,OAAO,GAAGA,OAAO,GAAG,GAAV,GAAgBJ,QAAhB,GAA2B,GAA3B,GAAiCD,SAAjC,GAA6C,QAAvD;AACAzE,cAAAA,mBAAK,CAACC,IAAN,CAAW6E,OAAX;AACH,aALD,MAKO,IAAIE,UAAU,GAAGL,QAAjB,EAA2B;AAC9B9F,cAAAA,OAAO,GAAG,IAAV;AACA,kBAAIiG,OAAO,GAAGld,YAAY,CAAC0d,gCAAb,IAAiD,kCAA/D;AACAR,cAAAA,OAAO,GAAGA,OAAO,GAAG,GAAV,GAAgBH,QAAhB,GAA2B,GAA3B,GAAiCnP,SAAjC,GAA6C,QAAvD;AAAgE;AAChEwK,cAAAA,mBAAK,CAACC,IAAN,CAAW6E,OAAX;AACH,aALM,MAKA,IAAIG,WAAW,GAAGR,SAAlB,EAA6B;AAChC5F,cAAAA,OAAO,GAAG,IAAV;AACA,kBAAIiG,OAAO,GAAGld,YAAY,CAACyd,iCAAb,IAAkD,mCAAhE;AACAP,cAAAA,OAAO,GAAGA,OAAO,GAAG,GAAV,GAAgBJ,QAAhB,GAA2B,GAA3B,GAAiCD,SAAjC,GAA6C,QAAvD;AAAgE;AAChEzE,cAAAA,mBAAK,CAACC,IAAN,CAAW6E,OAAX;AACH,aALM,MAKA,IAAIG,WAAW,GAAGzP,SAAlB,EAA6B;AAChCqJ,cAAAA,OAAO,GAAG,IAAV;AACA,kBAAIiG,OAAO,GAAGld,YAAY,CAAC0d,gCAAb,IAAiD,kCAA/D;AACAR,cAAAA,OAAO,GAAGA,OAAO,GAAG,GAAV,GAAgBH,QAAhB,GAA2B,GAA3B,GAAiCnP,SAAjC,GAA6C,QAAvD;AAAgE;AAChEwK,cAAAA,mBAAK,CAACC,IAAN,CAAW6E,OAAX;AACH;;AAED,gBAAIjG,OAAO,KAAK,IAAhB,EAAsB;AAClBlgB,cAAAA,MAAM;AACT,aAFD,MAEO;AACHD,cAAAA,OAAO;AACP;AACH;AACJ;;AAEDA,UAAAA,OAAO;AACP;AACH,SApDD;;AAqDA+L,QAAAA,KAAK,CAACmR,GAAN,GAAYuI,aAAZ;AACH,OAjED,CAiEE,OAAO3d,CAAP,EAAU;AACR7H,QAAAA,MAAM,CAAC6H,CAAD,CAAN;AACAC,QAAAA,OAAO,CAAC1H,KAAR,CAAcyH,CAAd;AACAwZ,QAAAA,mBAAK,CAACjhB,KAAN,CAAY6I,YAAY,CAAC2d,mBAAb,IAAoC,uBAAhD;AACH;AACJ,KA5EM,CAAP;AA6EH;;SAEDxB,qBAAA,4BAAmBI,aAAnB,EAAkCD,OAAlC,EAA2C;AACvC,QAAI9hB,IAAI,GAAG,IAAX;AADuC,sBAEkB,KAAK4J,KAFvB;AAAA,QAEjCpE,YAFiC,eAEjCA,YAFiC;AAAA,QAEnB4d,gBAFmB,eAEnBA,gBAFmB;AAAA,QAEDjB,cAFC,eAEDA,cAFC;;AAAA,gBAGWiB,gBAAgB,IAAI,EAH/B;AAAA,QAGjCC,WAHiC,SAGjCA,WAHiC;AAAA,QAGpBC,YAHoB,SAGpBA,YAHoB;AAAA,QAGNC,WAHM,SAGNA,WAHM;;AAAA,gBAInBpB,cAAc,IAAI,EAJC;AAAA,QAIjCK,SAJiC,SAIjCA,SAJiC;;AAKvC,QAAIvJ,QAAQ,GAAG6I,OAAO,CAACjQ,IAAvB;AACA,QAAI2P,QAAQ,GAAGM,OAAO,CAAC5T,IAAvB;AACA,QAAIqT,aAAa,GAAGQ,aAAa,CAAChE,KAAd,CAAoB,GAApB,EAAyB,CAAzB,EAA4BA,KAA5B,CAAkC,GAAlC,EAAuC,CAAvC,CAApB;AAEA/d,IAAAA,IAAI,CAACyhB,4BAAL,CAAkCM,aAAlC,EACKtlB,IADL,CACU,YAAM;AACR,UAAI4mB,WAAW,KAAK,IAApB,EAA0B;AACtBrjB,QAAAA,IAAI,CAACwjB,kBAAL,CAAwB1B,OAAxB,EAAiCyB,WAAjC,EAA8CD,YAA9C,EACK7mB,IADL,CACU,UAACI,IAAD,EAAU;AACZ,cAAI2lB,SAAS,KAAK,IAAlB,EAAwB;AACpBxiB,YAAAA,IAAI,CAACiK,QAAL,CAAc;AACVqX,cAAAA,WAAW,EAAEzkB,IADH;AAEVwkB,cAAAA,cAAc,EAAES,OAFN;AAGVV,cAAAA,aAAa,EAAE,IAHL;AAIVnI,cAAAA,QAAQ,EAAEA,QAJA;AAKVuI,cAAAA,QAAQ,EAAEA,QALA;AAMVD,cAAAA,aAAa,EAAEA;AANL,aAAd;AAQH,WATD,MASO;AACHvhB,YAAAA,IAAI,CAAC4J,KAAL,CAAW8K,QAAX,CAAoB7X,IAApB,EAA0Boc,QAA1B,EAAoCsI,aAApC,EAAmDC,QAAnD;AACH;AACJ,SAdL,WAeW,UAAC7kB,KAAD,EAAW;AACd0H,UAAAA,OAAO,CAAC1H,KAAR,CAAcA,KAAd;AACAihB,UAAAA,mBAAK,CAACjhB,KAAN,CAAY6I,YAAY,CAACie,kBAAb,IAAmC,sBAA/C;AACH,SAlBL;AAmBH,OApBD,MAoBO,IAAIjB,SAAS,KAAK,IAAlB,EAAwB;AAC3BxiB,QAAAA,IAAI,CAACiK,QAAL,CAAc;AACVqX,UAAAA,WAAW,EAAES,aADH;AAEVV,UAAAA,cAAc,EAAES,OAFN;AAGVV,UAAAA,aAAa,EAAE,IAHL;AAIVnI,UAAAA,QAAQ,EAAEA,QAJA;AAKVuI,UAAAA,QAAQ,EAAEA,QALA;AAMVD,UAAAA,aAAa,EAAEA;AANL,SAAd;AAQH,OATM,MASA;AACHvhB,QAAAA,IAAI,CAAC4J,KAAL,CAAW8K,QAAX,CAAoBqN,aAApB,EAAmC9I,QAAnC,EAA6CsI,aAA7C,EAA4DC,QAA5D;AACH;AACJ,KAlCL,WAmCW,UAACpd,CAAD,EAAO,EAnClB;AAsCH;;SAKDof,qBAAA,4BAAmBE,KAAnB,EAA0B9I,QAA1B,EAAoCC,SAApC,EAA+C;AAC3C,WAAO,IAAIxe,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,UAAI;AACA,YAAImnB,KAAK,KAAK9I,QAAQ,IAAI,IAAZ,IAAoBC,SAAS,IAAI,IAAtC,CAAT,EAAsD;AAClD8I,UAAAA,SAAO,CAACC,gBAAR,CACIF,KADJ,EAEI9I,QAAQ,IAAI,IAFhB,EAGIC,SAAS,IAAI,IAHjB,EAII,KAJJ,EAKI,GALJ,EAMI,CANJ,EAOI,UAAAgJ,GAAG,EAAI;AACHvnB,YAAAA,OAAO,CAACunB,GAAD,CAAP;AACH,WATL,EAUI,QAVJ,EAWIjJ,QAAQ,IAAI,CAXhB,EAYIC,SAAS,IAAI,CAZjB;AAcH;AACJ,OAjBD,CAiBE,OAAOzW,CAAP,EAAU;AACRC,QAAAA,OAAO,CAAC1H,KAAR,CAAc,2BAA2ByH,CAAzC;AACA7H,QAAAA,MAAM,CAAC6H,CAAD,CAAN;AACH;AACJ,KAtBM,CAAP;AAuBH;;SAKDyd,WAAA,kBAAShlB,IAAT,EAAe;AACX,QAAImD,IAAI,GAAG,IAAX;AADW,sBAEiCA,IAAI,CAAC6J,KAFtC;AAAA,QAELoP,QAFK,eAELA,QAFK;AAAA,QAEKuI,QAFL,eAEKA,QAFL;AAAA,QAEeD,aAFf,eAEeA,aAFf;;AAGX,QAAI,KAAK3X,KAAL,CAAW8K,QAAf,EAAyB;AACrB,WAAKzK,QAAL,CAAc;AACVmX,QAAAA,aAAa,EAAE;AADL,OAAd,EAEG,YAAM;AAAA,2BAC6BphB,IAAI,CAAC4J,KADlC;AAAA,YACCpE,YADD,gBACCA,YADD;AAAA,YACe0c,SADf,gBACeA,SADf;AAGL,YAAIO,gBAAgB,GAAI5lB,IAAI,CAAC+P,MAAL,IAAe,IAAI,CAAnB,CAAD,GAA0B,CAAjD;AACA6V,QAAAA,gBAAgB,GAAGA,gBAAgB,GAAG,OAAtC;;AACA,YAAIP,SAAS,IAAI,IAAb,IAAqBO,gBAAgB,GAAGP,SAA5C,EAAuD;AACnD,cAAIQ,OAAO,GAAG,CAACld,YAAY,CAACmd,qBAAb,IAAsC,4BAAvC,IAAuE,GAAvE,GAA6ET,SAAS,CAACvW,QAAV,EAA7E,GAAoG,IAAlH;AACAiS,UAAAA,mBAAK,CAACC,IAAN,CAAW6E,OAAX;AACH,SAHD,MAGO;AACH1iB,UAAAA,IAAI,CAAC4J,KAAL,CAAW8K,QAAX,CAAoB7X,IAApB,EAA0Boc,QAA1B,EAAoCsI,aAApC,EAAmDC,QAAnD;AACH;AACJ,OAbD;AAcH;AACJ;;SAEDI,WAAA,oBAAW;AAAA;;AACP,QAAI,KAAKhY,KAAL,CAAWgY,QAAf,EAAyB;AACrB,WAAK3X,QAAL,CAAc;AACVmX,QAAAA,aAAa,EAAE;AADL,OAAd,EAEG,YAAM;AACL,QAAA,MAAI,CAACxX,KAAL,CAAWgY,QAAX;AACH,OAJD;AAKH,KAND,MAMO;AACH,WAAK3X,QAAL,CAAc;AACV5B,QAAAA,KAAK,EAAE;AADG,OAAd;AAGH;AACJ;;SAED6B,SAAA,kBAAS;AAAA;;AAAA,uBACkI,KAAKN,KADvI;AAAA,QACCiH,QADD,gBACCA,QADD;AAAA,QACWrL,YADX,gBACWA,YADX;AAAA,QACyB2c,cADzB,gBACyBA,cADzB;AAAA,QACyCxlB,KADzC,gBACyCA,KADzC;AAAA,QACgD+T,SADhD,gBACgDA,SADhD;AAAA,QAC2DI,YAD3D,gBAC2DA,YAD3D;AAAA,QACyEmR,KADzE,gBACyEA,KADzE;AAAA,QACgF6B,aADhF,gBACgFA,aADhF;AAAA,QAC+FC,YAD/F,gBAC+FA,YAD/F;AAAA,QAC6GC,gBAD7G,gBAC6GA,gBAD7G;AAAA,sBAE4C,KAAKna,KAFjD;AAAA,QAECxB,KAFD,eAECA,KAFD;AAAA,QAEQ8Y,gBAFR,eAEQA,gBAFR;AAAA,QAE0BC,aAF1B,eAE0BA,aAF1B;AAAA,uBAGiC,KAAKvX,KAHtC;AAAA,QAGCwX,cAHD,gBAGCA,cAHD;AAAA,QAGiBC,WAHjB,gBAGiBA,WAHjB;AAILa,IAAAA,cAAc,GAAGA,cAAc,IAAI,EAAnC;AAEA2B,IAAAA,aAAa,GAAGA,aAAa,IAAI,MAAjC;AACAC,IAAAA,YAAY,GAAGD,aAAa,GAAG,MAAH,GAAYC,YAAY,IAAI,MAAxD;AACA,QAAIE,UAAU,GAAG;AAAE,gBAAUH,aAAZ;AAA2B,eAASC,YAApC;AAAkD,mBAAaC;AAA/D,KAAjB;AAEA,wBACI5Z,6BAACA,cAAD,CAAO,QAAP,qBACIA,6BAACwW,kBAAD,qBACIxW,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,OACKhhB,GAAC,CAACC,OAAF,CAAUuI,KAAV,MAAqB,KAArB,iBACG+B,6BAAC,QAAD,qBACIA,6BAAC,QAAD,qBACIA,uDACIA;AAAO,MAAA,OAAO,EAAC;AAAf,oBACIA,6BAAC,eAAD,OADJ,CADJ,eAIIA;AACI,MAAA,EAAE,EAAC,YADP;AAEI,MAAA,IAAI,EAAC,MAFT;AAGI,MAAA,MAAM,EAAC,SAHX;AAII,MAAA,KAAK,EAAE;AAAEsN,QAAAA,OAAO,EAAE;AAAX,OAJX;AAKI,MAAA,QAAQ,EAAE,KALd;AAMI,MAAA,QAAQ,EAAE,KAAKgK;AANnB,MAJJ,CADJ,eAaItX,6BAAC,eAAD;AAAiB,MAAA,OAAO,EAAE;AAAA,eAAM,MAAI,CAACwX,QAAL,EAAN;AAAA;AAA1B,MAbJ,CADJ,eAgBIxX,6BAAC,WAAD;AAAa,MAAA,KAAK,EAAE6Z,UAApB;AAAgC,MAAA,GAAG,EAAE5b,KAArC;AAA4C,MAAA,GAAG,EAAC,KAAhD;AAAsD,MAAA,OAAO,EAAE,mBAAM;AAAE,QAAA,MAAI,CAAC4B,QAAL,CAAc;AAAEkX,UAAAA,gBAAgB,EAAE;AAApB,SAAd;AAA2C;AAAlH,MAhBJ,CAFR,EAqBKthB,GAAC,CAACC,OAAF,CAAUuI,KAAV,MAAqB,IAArB,iBACG+B,6BAACA,cAAD,CAAO,QAAP,qBACIA;AACI,MAAA,GAAG,EAAC,WADR;AAEI,MAAA,QAAQ,EAAE,KAAKsX,gBAFnB;AAGI,MAAA,IAAI,EAAC,MAHT;AAII,MAAA,MAAM,EAAC,SAJX;AAKI,MAAA,KAAK,EAAE;AAAEhK,QAAAA,OAAO,EAAE;AAAX,OALX;AAMI,MAAA,QAAQ,EAAE;AANd,MADJ,eASItN,6BAAC,iBAAD;AAAmB,MAAA,QAAQ,EAAEyG,QAA7B;AAAuC,MAAA,OAAO,EAAC,mBAA/C;AAAmE,MAAA,SAAS,EAAElU,KAAK,IAAI+T,SAAvF;AAAkG,MAAA,OAAO,EAAE;AAAA,eAAM,MAAI,CAACwT,IAAL,CAAUC,SAAV,CAAoBzV,KAApB,EAAN;AAAA;AAA3G,oBACItE,6BAACgR,gCAAD;AAAiB,MAAA,IAAI,EAAEgJ,0BAAvB;AAAiC,MAAA,OAAO,EAAE,KAAKxa,KAAL,CAAWya;AAArD,MADJ,CATJ,CAtBR,CADJ,CADJ,EAwCK,CAAC1nB,KAAK,KAAK,IAAV,IAAkB+T,SAAS,KAAK,IAAjC,kBACGtG,6BAACwW,kBAAD,qBACIxW,6BAACyW,kBAAD,qBACIzW,6BAAC,YAAD,QAAe0G,YAAY,IAAI,OAA/B,CADJ,CADJ,CAzCR,eA+CI1G,6BAACka,oBAAD;AACI,MAAA,MAAM,EAAE,kBAAM,EADlB;AAEI,MAAA,IAAI,EAAC,IAFT;AAGI,MAAA,IAAI,EAAEnD;AAHV,oBAII/W,6BAACka,oBAAD,CAAO,IAAP,qBACIla,6BAACoW,mBAAD,qBACIpW,6BAACoW,mBAAD,CAAM,MAAN,qBACIpW;AAAM,MAAA,KAAK,EAAE;AAAE,iBAAO;AAAT;AAAb,oBACIA,6BAACyO,aAAD;AAAS,MAAA,OAAO,EAAErT,YAAY,CAAC2I,MAAb,IAAuB;AAAzC,oBACI/D,6BAAC,SAAD;AAAW,MAAA,OAAO,EAAE,mBAAM;AAAE,QAAA,MAAI,CAACH,QAAL,CAAc;AAAEkX,UAAAA,gBAAgB,EAAE;AAApB,SAAd;AAA4C;AAAxE,MADJ,CADJ,CADJ,CADJ,eAQI/W,6BAACoW,mBAAD,CAAM,IAAN,qBACIpW,6BAACma,oBAAD;AAAqB,MAAA,GAAG,EAAElc,KAA1B;AAAiC,MAAA,KAAK;AAAtC,MADJ,CARJ,CADJ,CAJJ,CA/CJ,eAkEI+B,6BAACka,oBAAD;AACI,MAAA,MAAM,EAAE,kBAAM,EADlB;AAEI,MAAA,IAAI,EAAC,IAFT;AAGI,MAAA,IAAI,EAAElD;AAHV,oBAIIhX,6BAAC,SAAD;AACI,MAAA,WAAW,EAAE6X,KADjB;AAEI,MAAA,YAAY,EAAEzc,YAFlB;AAGI,MAAA,WAAW,EAAE,IAHjB;AAKI,MAAA,eAAe,EAAE2c,cAAc,CAAC1D,eALpC;AAMI,MAAA,cAAc,EAAE0D,cAAc,CAAC3D,cANnC;AASI,MAAA,gBAAgB,EAAE2D,cAAc,CAACzE,gBATrC;AAUI,MAAA,eAAe,EAAEyE,cAAc,CAAC3E,eAVpC;AAWI,MAAA,gBAAgB,EAAE2E,cAAc,CAACxE,gBAXrC;AAYI,MAAA,eAAe,EAAEwE,cAAc,CAAC1E,eAZpC;AAcI,MAAA,OAAO,EAAE4D,cAdb;AAeI,MAAA,GAAG,EAAEC,WAfT;AAgBI,MAAA,MAAM,EAAE,KAAKO,QAhBjB;AAiBI,MAAA,OAAO,EAAE,KAAKD;AAjBlB,MAJJ,CAlEJ,CADJ;AA6FH;;;EAhWqBtX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJ1B,IAAMka,kBAAkB,GAAGjU,MAAM,CAAC0L,qBAAD,CAAT,sBAQJ,UAACrS,KAAD;AAAA,SAAaA,KAAK,CAACjN,KAAN,KAAgB,IAAhB,IAAwBiN,KAAK,CAAC8G,SAAN,KAAoB,IAA7C,GAAqD,SAArD,GAAiE,SAA7E;AAAA,CARI,CAAxB;;AAWA,SAASwL,mBAAT,CAA2BtS,KAA3B,EAAkC;AAC9B,sBAAOQ,6BAAC,kBAAD,EAAwBR,KAAxB,EAAgCA,KAAK,CAACsJ,QAAtC,CAAP;AACH;;AAED,IAAMuR,oBAAoB,GAAGlU,MAAM,CAACC,GAAV,sBAA1B;;AAGA,SAASkU,WAAT,CAAqB9a,KAArB,EAA4B;AACxB,sBAAOQ,6BAAC,oBAAD,QAAuBR,KAAK,CAACsJ,QAA7B,CAAP;AACH;;AAED,IAAMyR,iBAAiB,GAAGpU,MAAM,CAACC,GAAV,sBAAvB;;AAMA,SAAS0K,UAAT,CAAkBtR,KAAlB,EAAyB;AACrB,sBAAOQ,6BAAC,iBAAD,QAAoBR,KAAK,CAACsJ,QAA1B,CAAP;AACH;;AAED,IAAMiI,sBAAoB,GAAG5K,MAAM,CAAC6K,gCAAD,CAAT,sBAA1B;AAMA,IAAMC,iBAAe,GAAG9K,MAAM,CAAC6K,gCAAD,CAAT,sBAArB;;AAIA,SAASE,iBAAT,GAA2B;AACvB,sBAAOlR;AAAM,IAAA,SAAS,EAAC;AAAhB,kBACHA,6BAAC+Q,sBAAD;AAAsB,IAAA,SAAS,EAAC,aAAhC;AAA8C,IAAA,IAAI,EAAEI;AAApD,IADG,eAEHnR,6BAACiR,iBAAD;AAAiB,IAAA,SAAS,EAAC,aAA3B;AAAyC,IAAA,IAAI,EAAEG;AAA/C,IAFG,CAAP;AAIH;;AAGD,IAAM/K,WAAS,GAAGF,MAAM,CAACC,GAAV,sBAAf;AAIA,IAAMkL,sBAAoB,GAAGnL,MAAM,CAAC6K,gCAAD,CAAT,sBAA1B;AAMA,IAAMO,gBAAc,GAAGpL,MAAM,CAAC6K,gCAAD,CAAT,sBAApB;;AAIA,SAASQ,iBAAT,CAAyBhS,KAAzB,EAAgC;AAC5B,sBAAOQ,6BAACqG,WAAD;AAAW,IAAA,SAAS,EAAC;AAArB,KAA0C7G,KAA1C,gBACHQ,6BAACsR,sBAAD;AAAsB,IAAA,SAAS,EAAC,aAAhC;AAA8C,IAAA,IAAI,EAAEH;AAApD,IADG,eAEHnR,6BAACuR,gBAAD;AAAgB,IAAA,SAAS,EAAC,aAA1B;AAAwC,IAAA,IAAI,EAAEE;AAA9C,IAFG,CAAP;AAIH;;AAED,IAAM+I,qBAAqB,GAAGrU,MAAM,CAAC6K,gCAAD,CAAT,sBAA3B;;AAIA,SAASyJ,QAAT,CAAkBjb,KAAlB,EAAyB;AACrB,sBAAOQ,6BAAC,qBAAD;AAAuB,IAAA,IAAI,EAAE0a;AAA7B,IAAP;AACH;;AAED,IAAM3I,uBAAqB,GAAG5L,MAAM,CAACC,GAAV,uBAA3B;;AAKA,SAAS4L,cAAT,CAAsBxS,KAAtB,EAA6B;AACzB,sBAAOQ,6BAAC+R,uBAAD,QAAwBvS,KAAK,CAACsJ,QAA9B,CAAP;AACH;;ACtFD,SAAS6R,cAAT,CAAwBnb,KAAxB,EAA+B;AAAA,MACPqM,QADO,GAC6DrM,KAD7D,CACPqM,QADO;AAAA,MACGvB,QADH,GAC6D9K,KAD7D,CACG8K,QADH;AAAA,MACakN,QADb,GAC6DhY,KAD7D,CACagY,QADb;AAAA,MACuB/Q,QADvB,GAC6DjH,KAD7D,CACuBiH,QADvB;AAAA,MACiCH,SADjC,GAC6D9G,KAD7D,CACiC8G,SADjC;AAAA,MAC4CI,YAD5C,GAC6DlH,KAD7D,CAC4CkH,YAD5C;AAE3B,MAAMkU,QAAQ,GAAGC,YAAM,CAAC,IAAD,CAAvB;;AAEA,WAASvD,gBAAT,CAA0Btd,CAA1B,EAA6B;AACzB,QAAIic,KAAK,GAAGjc,CAAC,CAACqV,MAAF,CAAS4G,KAArB;;AACA,QAAIA,KAAK,CAACzT,MAAN,GAAe,CAAnB,EAAsB;AAClB,UAAIkV,OAAO,GAAGzB,KAAK,CAAC,CAAD,CAAnB;AACA,UAAInH,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,MAAAA,MAAM,CAACG,MAAP,GAAgB,YAAY;AACxB,YAAIxc,IAAI,GAAGqc,MAAM,CAACxc,MAAlB;AACA,YAAIuc,QAAQ,GAAG6I,OAAO,CAACjQ,IAAvB;AACA,YAAI2P,QAAQ,GAAGM,OAAO,CAAC5T,IAAvB;AACA,YAAIqT,aAAa,GAAG1kB,IAAI,CAACkhB,KAAL,CAAW,GAAX,EAAgB,CAAhB,EAAmBA,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAApB;AACArJ,QAAAA,QAAQ,CAAC7X,IAAD,EAAOoc,QAAP,EAAiBsI,aAAjB,EAAgCC,QAAhC,CAAR;AACH,OAND;;AAOAtI,MAAAA,MAAM,CAACE,aAAP,CAAqB0I,OAArB;AACH;AACJ;;AAED,sBACI1X,6BAACwW,kBAAD,qBACIxW,6BAACyW,kBAAD,QACKhhB,GAAC,CAACC,OAAF,CAAUmW,QAAV,MAAwB,IAAxB,iBACG7L,6BAACA,cAAD,CAAO,QAAP,qBACIA;AACI,IAAA,GAAG,EAAE4a,QADT;AAEI,IAAA,QAAQ,EAAEtD,gBAFd;AAGI,IAAA,IAAI,EAAC,MAHT;AAII,IAAA,MAAM,EAAC,uBAJX;AAKI,IAAA,KAAK,EAAE;AAAEhK,MAAAA,OAAO,EAAE;AAAX,KALX;AAMI,IAAA,QAAQ,EAAE;AANd,IADJ,eASItN,6BAAC8R,mBAAD;AAAmB,IAAA,QAAQ,EAAErL,QAA7B;AAAuC,IAAA,OAAO,EAAC,mBAA/C;AAAmE,IAAA,SAAS,EAAEH,SAA9E;AAAyF,IAAA,OAAO,EAAE,mBAAM;AACpGsU,MAAAA,QAAQ,CAACE,OAAT,CAAiBxW,KAAjB;AACH;AAFD,kBAGItE,6BAACgR,gCAAD;AAAiB,IAAA,IAAI,EAAEgJ;AAAvB,IAHJ,CATJ,EAcK1T,SAAS,KAAK,IAAd,iBACGtG,6BAACgS,cAAD,QAAetL,YAAY,IAAI,OAA/B,CAfR,CAFR,EAqBKjR,GAAC,CAACC,OAAF,CAAUmW,QAAV,MAAwB,KAAxB,iBACG7L,6BAAC,WAAD,qBACIA,6BAAC8Q,UAAD,qBACI9Q,uDACIA;AAAO,IAAA,OAAO,EAAC;AAAf,kBACIA,6BAACkR,iBAAD,OADJ,CADJ,eAIIlR;AACI,IAAA,EAAE,EAAC,YADP;AAEI,IAAA,IAAI,EAAC,MAFT;AAGI,IAAA,MAAM,EAAC,uBAHX;AAII,IAAA,KAAK,EAAE;AAAEsN,MAAAA,OAAO,EAAE;AAAX,KAJX;AAKI,IAAA,QAAQ,EAAE,KALd;AAMI,IAAA,QAAQ,EAAEgK;AANd,IAJJ,CADJ,eAaItX,6BAACwR,iBAAD;AAAiB,IAAA,OAAO,EAAEgG;AAA1B,IAbJ,CADJ,eAgBIxX,6BAAC,QAAD,OAhBJ,eAiBIA,0CAAM6L,QAAQ,IAAIA,QAAQ,CAACgD,QAArB,GAAgChD,QAAQ,CAACgD,QAAzC,GAAoD,KAA1D,CAjBJ,CAtBR,CADJ,CADJ;AA+CH;;ICrEKkM;;;AACF,0CAAYvb,KAAZ,EAAmB;AAAA;;AACf,kCAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTub,MAAAA,oBAAoB,EAAE,MAAKxb,KAAL,CAAWyb,QADxB;AAETA,MAAAA,QAAQ,EAAE,MAAKzb,KAAL,CAAWyb,QAFZ;AAGTxU,MAAAA,QAAQ,EAAC,MAAKjH,KAAL,CAAWiH;AAHX,KAAb;AAKA,UAAKyU,iBAAL,GAAyBlb,cAAK,CAACmb,SAAN,EAAzB;AAGA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBja,IAAlB,+BAApB;AACA,UAAKka,UAAL,GAAkB,MAAKA,UAAL,CAAgBla,IAAhB,+BAAlB;AAXe;AAYlB;;;;SAKDma,qBAAA,4BAAmB3b,SAAnB,EAA8B;AAC1B,QAAIA,SAAS,CAACsb,QAAV,IAAsB,KAAKxb,KAAL,CAAWwb,QAArC,EAA+C;AAC3C,WAAKpb,QAAL,CAAc;AACVob,QAAAA,QAAQ,EAAEtb,SAAS,CAACsb,QADV;AAEVD,QAAAA,oBAAoB,EAAErb,SAAS,CAACsb;AAFtB,OAAd;AAIH;;AAED,QAAItb,SAAS,CAAC8G,QAAV,IAAsB,KAAKhH,KAAL,CAAWgH,QAArC,EAA+C;AAC3C,WAAK5G,QAAL,CAAc;AACV4G,QAAAA,QAAQ,EAAE9G,SAAS,CAAC8G;AADV,OAAd;AAGH;AAEJ;;SAKD2U,eAAA,sBAAaH,QAAb,EAAuBM,OAAvB,EAAgC;AAC5B,QAAI3lB,IAAI,GAAG,IAAX;AAD4B,QAEtBwF,YAFsB,GAEL,KAAKoE,KAFA,CAEtBpE,YAFsB;AAI5BogB,IAAAA,mCAAgB,CAACD,OAAD,CAAhB,CACKlpB,IADL,CACU,UAACoI,OAAD,EAAa;AACf,UAAIhI,IAAI,GAAGgI,OAAO,CAAC,CAAD,CAAlB;;AACA,UAAIhI,IAAJ,EAAU;AACN,YAAIgpB,kBAAkB,GAAGhpB,IAAI,CAACgpB,kBAA9B;AACA7lB,QAAAA,IAAI,CAACiK,QAAL,CAAc;AACVmb,UAAAA,oBAAoB,EAAEC;AADZ,SAAd,EAEG,YAAM;AACLrlB,UAAAA,IAAI,CAAC4J,KAAL,CAAW8K,QAAX,CAAoBmR,kBAApB;AACH,SAJD;AAKH,OAPD,MAOO;AACHxhB,QAAAA,OAAO,CAAC1H,KAAR,CAAc,SAAd;AACAihB,QAAAA,mBAAK,CAACjhB,KAAN,CAAY6I,YAAY,CAAC7I,KAAb,IAAsB,OAAlC;AACH;AACJ,KAdL,WAeW,UAACA,KAAD,EAAW;AACd0H,MAAAA,OAAO,CAAC1H,KAAR,CAAcA,KAAd;AACAihB,MAAAA,mBAAK,CAACjhB,KAAN,CAAY6I,YAAY,CAAC7I,KAAb,IAAsB,OAAlC;AACH,KAlBL;AAmBH;;SAED8oB,aAAA,oBAAWL,oBAAX,EAAiC;AAAA;;AAC7B,SAAKnb,QAAL,CAAc;AAAEmb,MAAAA,oBAAoB,EAApBA;AAAF,KAAd,EAAwC,YAAM;AAC1C,UAAIvlB,GAAC,CAACC,OAAF,CAAUslB,oBAAV,KAAmC,IAAvC,EAA6C;AACzC,QAAA,MAAI,CAACxb,KAAL,CAAW8K,QAAX,CAAoB,EAApB;AACH;AACJ,KAJD;AAKH;;SAKDoR,2BAAA,kCAAyBC,UAAzB,EAAqC;AACjC,QAAInN,SAAS,GAAGmN,UAAU,CAACC,MAAX,GAAoB,yBAApB,GAAgD,iBAAhE;AACA,WAAOpN,SAAP;AACH;;SAEDqN,uBAAA,8BAAqBF,UAArB,EAAiC;AAC7B,QAAIhP,eAAe,GAAGgP,UAAU,CAACC,MAAX,GAAoB,SAApB,GAAgC,SAAtD;AACA,QAAIpP,KAAK,GAAG;AAAE,yBAAmBG,eAArB;AAAsC,gBAAU;AAAhD,KAAZ;AACA,WAAOH,KAAP;AACH;;SAED1M,SAAA,kBAAS;AACL,QAAIlK,IAAI,GAAG,IAAX;AADK,sBAEmC,KAAK6J,KAFxC;AAAA,QAECub,oBAFD,eAECA,oBAFD;AAAA,QAEsBvU,QAFtB,eAEsBA,QAFtB;AAAA,sBAGyB,KAAKjH,KAH9B;AAAA,QAGCpE,YAHD,eAGCA,YAHD;AAAA,QAGe7I,KAHf,eAGeA,KAHf;AAKL,wBACIyN,6BAAC8b,2BAAD;AACI,MAAA,GAAG,EAAE,KAAKZ,iBADd;AAEI,MAAA,KAAK,EAAEF,oBAAoB,IAAI,EAFnC;AAGI,MAAA,QAAQ,EAAE,KAAKK,UAHnB;AAII,MAAA,QAAQ,EAAE,KAAKD;AAJnB,OAKK;AAAA,UAAGW,aAAH,QAAGA,aAAH;AAAA,UAAkBC,WAAlB,QAAkBA,WAAlB;AAAA,UAA+BC,sBAA/B,QAA+BA,sBAA/B;AAAA,0BACGjc,uDACIA,6BAACkc,wBAAD;AAAW,QAAA,KAAK,EAAE;AAAEzQ,UAAAA,KAAK,EAAE;AAAT;AAAlB,sBACIzL,6BAACmc,0BAAD;AACI,QAAA,SAAS,EAAE5pB;AADf,SAEQwpB,aAAa,CAAC;AACdK,QAAAA,WAAW,EAAEhhB,YAAY,CAACihB,YAAb,IAA6B,eAD5B;AAEd7P,QAAAA,KAAK,EAAE;AAAE8P,UAAAA,YAAY,EAAE;AAAhB,SAFO;AAGd7V,QAAAA,QAAQ,EAACA;AAHK,OAAD,CAFrB;AAOI,QAAA,KAAK,EAAEuU,oBAAoB,IAAI;AAPnC,SADJ,eAUIhb,6BAACuc,mBAAD,CAAM,OAAN,CAAc,QAAd;AAAuB,QAAA,IAAI,EAAC;AAA5B,SACKnhB,YAAY,CAACohB,aAAb,IAA8B,2BADnC,CAVJ,CADJ,eAeIxc;AAAK,QAAA,SAAS,EAAC;AAAf,SACKgc,WAAW,CAACvZ,GAAZ,CAAgB,UAACkZ,UAAD,EAAac,KAAb,EAAuB;AACpC,YAAIjO,SAAS,GAAG5Y,IAAI,CAAC8lB,wBAAL,CAA8BC,UAA9B,CAAhB;AACA,YAAInP,KAAK,GAAG5W,IAAI,CAACimB,oBAAL,CAA0BF,UAA1B,CAAZ;AACA,4BACI3b;AAAK,UAAA,GAAG,EAAEyc;AAAV,WACQR,sBAAsB,CAACN,UAAD,EAAa;AACnCnN,UAAAA,SAAS,EAATA,SADmC;AAEnChC,UAAAA,KAAK,EAALA;AAFmC,SAAb,CAD9B,gBAKIxM,2CAAO2b,UAAU,CAACe,WAAlB,CALJ,CADJ;AASH,OAZA,CADL,CAfJ,CADH;AAAA,KALL,CADJ;AAyCH;;;EAlIwCxc;;;;;;;;;;;ACe7C,IAAMyc,eAAe,GAAGxW,MAAM,CAAC6K,gCAAD,CAAT,qBAArB;AAMA,IAAM4L,MAAM,GAAGhpB,MAAM,CAACgpB,MAAtB;AACA,IAAMC,oBAAoB,GAAG,6BAA7B;AACA,IAAMC,oBAAoB,GAAG;AACzBC,EAAAA,SAAS,EAAE,KADc;AAEzBC,EAAAA,WAAW,EAAE,GAFY;AAGzBC,EAAAA,WAAW,EAAE,KAHY;AAIzBC,EAAAA,aAAa,EAAE,CAJU;AAKzBC,EAAAA,YAAY,EAAE;AALW,CAA7B;AAOA,IAAMC,cAAc,GAAG;AACnBC,EAAAA,GAAG,EAAE,OADc;AAEnBC,EAAAA,GAAG,EAAE;AAFc,CAAvB;;IAKMC;;;AACF,iCAAY/d,KAAZ,EAAmB;AAAA;;AACf,kCAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTgN,MAAAA,QAAQ,EAAE,MAAKjN,KAAL,CAAWiN,QAAX,IAAuB2Q,cADxB;AAETI,MAAAA,OAAO,EAAE,MAAKhe,KAAL,CAAWge,OAFX;AAGTC,MAAAA,mBAAmB,EAAE,MAAKje,KAAL,CAAWge,OAHvB;AAITE,MAAAA,IAAI,EAAE,MAAKle,KAAL,CAAWke;AAJR,KAAb;AAMA,UAAKxC,iBAAL,GAAyBlb,cAAK,CAACmb,SAAN,EAAzB;AACA,UAAK1Y,GAAL,GAAWzC,cAAK,CAACmb,SAAN,EAAX;AAEA,UAAKwC,aAAL,GAAqB,MAAKA,aAAL,CAAmBxc,IAAnB,+BAArB;AACA,UAAKyc,eAAL,GAAuB,MAAKA,eAAL,CAAqBzc,IAArB,+BAAvB;AAZe;AAalB;;;;SAKD0c,UAAA,iBAAQC,WAAR,EAAqB;AACjB,WAAO,IAAI7rB,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,UAAI;AACA,YAAI4rB,QAAQ,GAAG,IAAInB,MAAM,CAACoB,IAAP,CAAYC,QAAhB,EAAf;AACA,YAAIZ,GAAG,GAAGS,WAAW,CAACT,GAAtB;AACA,YAAIC,GAAG,GAAGQ,WAAW,CAACR,GAAtB;AACA,YAAIY,MAAM,GAAG,IAAItB,MAAM,CAACoB,IAAP,CAAYG,MAAhB,CAAuBd,GAAvB,EAA4BC,GAA5B,CAAb;AACAS,QAAAA,QAAQ,CAACK,OAAT,CAAiB;AAAEC,UAAAA,MAAM,EAAEH;AAAV,SAAjB,EAAqC,UAAUzjB,OAAV,EAAmB6jB,MAAnB,EAA2B;AAC5D,cAAIA,MAAM,IAAI,IAAd,EAAoB;AAChB,gBAAIC,WAAW,GAAG9jB,OAAO,CAAC,CAAD,CAAzB;AACA,gBAAIghB,kBAAkB,GAAG8C,WAAW,CAAC9C,kBAArC;;AACA,gBAAI+C,gBAAgB,GAAG/oB,GAAC,CAAC0O,IAAF,CAAOsX,kBAAP,EAA2B,UAACgD,SAAD,EAAe;AAC7D,kBAAIC,KAAK,GAAGD,SAAS,CAACC,KAAtB;;AACA,kBAAIA,KAAK,CAACxb,OAAN,CAAc2Z,oBAAd,KAAuC,CAAC,CAA5C,EAA+C;AAC3C,uBAAO4B,SAAP;AACH;AACJ,aALsB,CAAvB;;AAMA,gBAAIf,IAAI,GAAGc,gBAAgB,CAACG,SAA5B;AACAzsB,YAAAA,OAAO,CAACwrB,IAAD,CAAP;AACH,WAXD,MAWO;AACHzjB,YAAAA,OAAO,CAAC1H,KAAR,CAAc,WAAd,EAA2B+rB,MAA3B;AACAnsB,YAAAA,MAAM,6CAA2CkrB,GAA3C,UAAmDC,GAAnD,OAAN;AACH;AACJ,SAhBD;AAiBH,OAtBD,CAsBE,OAAO/qB,KAAP,EAAc;AACZJ,QAAAA,MAAM,CAACI,KAAD,CAAN;AACH;AACJ,KA1BM,CAAP;AA2BH;;SAEDorB,gBAAA,uBAAcF,mBAAd,EAAmC;AAAA;;AAC/B,SAAK5d,QAAL,CAAc;AAAE4d,MAAAA,mBAAmB,EAAnBA;AAAF,KAAd,EAAuC,YAAM;AACzC,UAAIhoB,GAAC,CAACC,OAAF,MAAe,IAAnB,EAAyB;AACrB,QAAA,MAAI,CAAC8J,KAAL,CAAW8K,QAAX,CAAoB;AAChBkT,UAAAA,OAAO,EAAE,IADO;AAEhB/Q,UAAAA,QAAQ,EAAE,EAFM;AAGhBiR,UAAAA,IAAI,EAAE;AAHU,SAApB;AAKH;AACJ,KARD;AASH;;SAEDE,kBAAA,yBAAgBJ,OAAhB,EAAyB;AACrB,QAAI5nB,IAAI,GAAG,IAAX;AADqB,AAIrB,QAAI8nB,IAAI,GAAG,IAAX;AACA,QAAIjR,QAAQ,GAAG,IAAf;AACAmS,IAAAA,mCAAgB,CAACpB,OAAD,CAAhB,CACKnrB,IADL,CACU,UAACoI,OAAD,EAAa;AACf,UAAIhI,IAAI,GAAGgI,OAAO,CAAC,CAAD,CAAlB;;AACA,UAAIhI,IAAJ,EAAU;AACN,eAAOosB,4BAAS,CAACpsB,IAAD,CAAhB;AACH;AACJ,KANL,EAOKJ,IAPL,CAOU,UAACI,IAAD,EAAU;AACZga,MAAAA,QAAQ,GAAGha,IAAX;AACA,aAAOmD,IAAI,CAACioB,OAAL,CAAapR,QAAb,CAAP;AACH,KAVL,EAWKpa,IAXL,CAWU,UAACI,IAAD,EAAU;AACZirB,MAAAA,IAAI,GAAGjrB,IAAP;AAEAmD,MAAAA,IAAI,CAACiK,QAAL,CAAc;AACV2d,QAAAA,OAAO,EAAEA,OADC;AAEVC,QAAAA,mBAAmB,EAAED,OAFX;AAGV/Q,QAAAA,QAAQ,EAAEA,QAHA;AAIViR,QAAAA,IAAI,EAAEA;AAJI,OAAd,EAKG,YAAM;AACL9nB,QAAAA,IAAI,CAAC4J,KAAL,CAAW8K,QAAX,CAAoB;AAChBkT,UAAAA,OAAO,EAAEA,OADO;AAEhB/Q,UAAAA,QAAQ,EAAEA,QAFM;AAGhBiR,UAAAA,IAAI,EAAEA;AAHU,SAApB;AAKH,OAXD;AAYH,KA1BL,WA2BW,UAACnrB,KAAD,EAAW;AACd0H,MAAAA,OAAO,CAAC1H,KAAR,CAAcA,KAAd;AACH,KA7BL;AA8BH;;SAKDmpB,2BAAA,kCAAyBC,UAAzB,EAAqC;AACjC,QAAInN,SAAS,GAAGmN,UAAU,CAACC,MAAX,GAAoB,yBAApB,GAAgD,iBAAhE;AACA,WAAOpN,SAAP;AACH;;SAEDqN,uBAAA,8BAAqBF,UAArB,EAAiC;AAC7B,QAAIhP,eAAe,GAAGgP,UAAU,CAACC,MAAX,GAAoB,SAApB,GAAgC,SAAtD;AACA,QAAIpP,KAAK,GAAG;AAAE,yBAAmBG,eAArB;AAAsC,gBAAU;AAAhD,KAAZ;AACA,WAAOH,KAAP;AACH;;SAED1M,SAAA,kBAAS;AAAA;;AACL,QAAIlK,IAAI,GAAG,IAAX;AADK,sBAEyC,KAAK6J,KAF9C;AAAA,QAECgN,QAFD,eAECA,QAFD;AAAA,QAEWgR,mBAFX,eAEWA,mBAFX;AAAA,QAEgCC,IAFhC,eAEgCA,IAFhC;AAAA,sBAGoC,KAAKle,KAHzC;AAAA,QAGCpE,YAHD,eAGCA,YAHD;AAAA,QAGe7I,KAHf,eAGeA,KAHf;AAAA,QAGsBgZ,SAHtB,eAGsBA,SAHtB;;AAAA,eAIckB,QAAQ,IAAI,EAJ1B;AAAA,QAIC4Q,GAJD,QAICA,GAJD;AAAA,QAIMC,GAJN,QAIMA,GAJN;;AAML,QAAIhP,OAAO,GAAGlT,YAAY,CAAC0jB,wBAAb,IAAyC,+EAAvD;AAEA,QAAIC,SAAS,gBAAG/e,gDAAQ5E,YAAY,CAACsiB,IAAb,IAAqB,MAA7B,oBAAqC1d,6BAACyO,aAAD;AAAS,MAAA,OAAO,EAAEH;AAAlB,oBAA2BtO,6BAAC,eAAD;AAAiB,MAAA,IAAI,EAAEgf;AAAvB,MAA3B,CAArC,CAAhB;AAEA,wBACIhf,uDACIA,6BAACwW,kBAAD,qBACIxW,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,OACKlL,SAAS,IAAI,KAAb,iBACGvL,6BAAC,gBAAD;AAAkB,MAAA,KAAK,EAAE5E,YAAY,CAACoiB,OAAb,IAAwB;AAAjD,MAFR,EAIK,CAACjS,SAAS,IAAI,IAAb,IAAqBA,SAAS,IAAI,IAAnC,kBACGvL,6BAAC,mBAAD;AAAqB,MAAA,KAAK,EAAE5E,YAAY,CAACoiB,OAAb,IAAwB;AAApD,MALR,CADJ,eASIxd,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,OACKlL,SAAS,IAAI,KAAb,iBACGvL,6BAAC,gBAAD;AAAkB,MAAA,KAAK,EAAE5E,YAAY,CAACiiB,GAAb,IAAoB;AAA7C,MAFR,EAIK,CAAC9R,SAAS,IAAI,IAAb,IAAqBA,SAAS,IAAI,IAAnC,kBACGvL,6BAAC,mBAAD;AAAqB,MAAA,KAAK,EAAE5E,YAAY,CAACiiB,GAAb,IAAoB;AAAhD,MALR,CATJ,eAiBIrd,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,OACKlL,SAAS,IAAI,KAAb,iBACGvL,6BAAC,gBAAD;AAAkB,MAAA,KAAK,EAAE5E,YAAY,CAAC6jB,GAAb,IAAoB;AAA7C,MAFR,EAIK,CAAC1T,SAAS,IAAI,IAAb,IAAqBA,SAAS,IAAI,IAAnC,kBACGvL,6BAAC,mBAAD;AAAqB,MAAA,KAAK,EAAE5E,YAAY,CAAC6jB,GAAb,IAAoB;AAAhD,MALR,CAjBJ,eAyBIjf,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,OACKlL,SAAS,IAAI,KAAb,iBACGvL,6BAAC,gBAAD;AAAkB,MAAA,KAAK,EAAE5E,YAAY,CAACsiB,IAAb,IAAqB;AAA9C,MAFR,EAIK,CAACnS,SAAS,IAAI,IAAb,IAAqBA,SAAS,IAAI,IAAnC,kBACGvL,6BAAC,mBAAD;AAAqB,MAAA,KAAK,EAAE+e;AAA5B,MALR,CAzBJ,CADJ,eAmCI/e,6BAACwW,kBAAD,qBACIxW,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,oBACIzW,6BAAC8b,2BAAD;AACI,MAAA,GAAG,EAAE,KAAKZ,iBADd;AAEI,MAAA,KAAK,EAAEuC,mBAAmB,IAAI,EAFlC;AAGI,MAAA,QAAQ,EAAE,KAAKE,aAHnB;AAII,MAAA,QAAQ,EAAE,KAAKC;AAJnB,OAKK;AAAA,UAAG7B,aAAH,SAAGA,aAAH;AAAA,UAAkBC,WAAlB,SAAkBA,WAAlB;AAAA,UAA+BC,sBAA/B,SAA+BA,sBAA/B;AAAA,0BACGjc,uDACIA,6BAACkc,wBAAD;AAAW,QAAA,KAAK,EAAE;AAAEzQ,UAAAA,KAAK,EAAE;AAAT;AAAlB,sBACIzL,6BAACmc,0BAAD;AACI,QAAA,SAAS,EAAE5pB;AADf,SAEQwpB,aAAa,CAAC;AACdK,QAAAA,WAAW,EAAEhhB,YAAY,CAACihB,YAAb,IAA6B,eAD5B;AAEd7P,QAAAA,KAAK,EAAE;AAAE8P,UAAAA,YAAY,EAAE;AAAhB;AAFO,OAAD,CAFrB;AAMI,QAAA,KAAK,EAAEmB,mBAAmB,IAAI;AANlC,SADJ,eASIzd,6BAACuc,mBAAD,CAAM,OAAN,CAAc,QAAd;AAAuB,QAAA,IAAI,EAAC;AAA5B,SACKnhB,YAAY,CAACohB,aAAb,IAA8B,2BADnC,CATJ,CADJ,eAcIxc;AAAK,QAAA,SAAS,EAAC;AAAf,SACKgc,WAAW,CAACvZ,GAAZ,CAAgB,UAACkZ,UAAD,EAAac,KAAb,EAAuB;AACpC,YAAIjO,SAAS,GAAG5Y,IAAI,CAAC8lB,wBAAL,CAA8BC,UAA9B,CAAhB;AACA,YAAInP,KAAK,GAAG5W,IAAI,CAACimB,oBAAL,CAA0BF,UAA1B,CAAZ;AACA,4BACI3b;AACI,UAAA,GAAG,EAAEyc;AADT,WAEQR,sBAAsB,CAACN,UAAD,EAAa;AACnCnN,UAAAA,SAAS,EAATA,SADmC;AAEnChC,UAAAA,KAAK,EAALA;AAFmC,SAAb,CAF9B,gBAMIxM;AAAM,UAAA,GAAG,EAAEyc;AAAX,WAAmBd,UAAU,CAACe,WAA9B,CANJ,CADJ;AAUH,OAbA,CADL,CAdJ,CADH;AAAA,KALL,CADJ,CADJ,eA0CI1c,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,oBACIzW,6BAACmc,0BAAD;AACI,MAAA,WAAW,EAAE/gB,YAAY,CAACiiB,GAAb,IAAoB,KADrC;AAEI,MAAA,KAAK,EAAEA,GAAG,IAAI,EAFlB;AAGI,MAAA,QAAQ,EAAE;AAHd,MADJ,CA1CJ,eAiDIrd,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,oBACIzW,6BAACmc,0BAAD;AACI,MAAA,WAAW,EAAE/gB,YAAY,CAAC6jB,GAAb,IAAoB,KADrC;AAEI,MAAA,KAAK,EAAE3B,GAAG,IAAI,EAFlB;AAGI,MAAA,QAAQ,EAAE;AAHd,MADJ,CAjDJ,eAwDItd,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,oBACIzW,6BAACmc,0BAAD;AACI,MAAA,WAAW,EAAE/gB,YAAY,CAACsiB,IAAb,IAAqB,MADtC;AAEI,MAAA,KAAK,EAAEA,IAAI,IAAI,EAFnB;AAGI,MAAA,QAAQ,EAAE,kBAAC1jB,CAAD,EAAO;AACb,YAAIhG,KAAK,GAAGgG,CAAC,CAACqV,MAAF,CAASrb,KAArB;;AACA,QAAA,MAAI,CAAC6L,QAAL,CAAc;AAAE6d,UAAAA,IAAI,EAAE1pB;AAAR,SAAd;;AACA,YAAI,MAAI,CAACwL,KAAL,CAAW0f,YAAf,EAA6B;AACzB,UAAA,MAAI,CAAC1f,KAAL,CAAW0f,YAAX,CAAwBlrB,KAAxB;AACH;AACJ;AATL,MADJ,CAxDJ,CAnCJ,eAyGIgM,6BAACwW,kBAAD,qBACIxW,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,oBACIzW,6BAAC,cAAD;AACI,MAAA,IAAI,EAAE,EADV;AAEI,MAAA,GAAG,EAAE,KAAKyC,GAFd;AAGI,MAAA,aAAa,EAAEqa,oBAHnB;AAII,MAAA,gBAAgB,eAAE9c;AAAK,QAAA,SAAS,EAAC;AAAf,QAJtB;AAKI,MAAA,UAAU,EAAEyM,QAAQ,gBAAGzM;AAAK,QAAA,KAAK,EAAE;AAAEkF,UAAAA,MAAM,EAAE;AAAV;AAAZ,QAAH,gBAAyClF;AAAK,QAAA,KAAK,EAAE;AAAEkF,UAAAA,MAAM,EAAE;AAAV;AAAZ,QALjE;AAMI,MAAA,eAAe,EAAEuH,QAAQ,IAAI2Q,cANjC;AAOI,MAAA,QAAQ,EAAE,kBAAC+B,cAAD,EAAoB;AAC1B,YAAI3B,OAAO,GAAG2B,cAAc,CAAC3B,OAA7B;;AACA,QAAA,MAAI,CAACI,eAAL,CAAqBJ,OAArB;AACH,OAVL;AAWI,MAAA,OAAO,EAAE;AAAE4B,QAAAA,eAAe,EAAE;AAAnB;AAXb,MADJ,CADJ,CAzGJ,CADJ;AA6HH;;;EAxP+Blf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtCpC,IAAMmf,MAAM,GAAGlZ,MAAM,CAACC,GAAV,qBAAZ;AAWA,IAAMkZ,mBAAmB,GAAGnZ,MAAM,CAACC,GAAV,sBAAzB;AAKA,IAAMmZ,WAAW,GAAGpZ,MAAM,CAACC,GAAV,sBAAjB;AAOA,IAAMoZ,QAAQ,GAAGrZ,MAAM,CAACC,GAAV,sBAAd;AAQA,IAAMqZ,QAAQ,GAAGtZ,MAAM,CAACC,GAAV,sBAAd;AAQA,IAAMsZ,aAAa,GAAGvZ,MAAM,CAACqQ,kBAAD,CAAT,sBAAnB;AAIA,IAAM+C,OAAO,GAAGpT,MAAM,CAACC,GAAV,sBAAb;AAWA,IAAMuZ,QAAQ,GAAGxZ,MAAM,CAACC,GAAV,uBAGRoZ,QAHQ,CAAd;;ACjDO,IAAMI,qBAAqB,GAAGC,gBAAU,CAC3C,gBAA6BC,GAA7B,EAAqC;AAAA,MAAlCC,aAAkC,QAAlCA,aAAkC;AAAA,MAAhBC,IAAgB;;AACjC,MAAMC,UAAU,GAAGpF,YAAM,EAAzB;AACA,MAAMqF,WAAW,GAAGJ,GAAG,IAAIG,UAA3B;AAEA3Y,EAAAA,eAAS,CAAC,YAAM;AACZ4Y,IAAAA,WAAW,CAACpF,OAAZ,CAAoBiF,aAApB,GAAoCA,aAApC;AACH,GAFQ,EAEN,CAACG,WAAD,EAAcH,aAAd,CAFM,CAAT;AAIA,sBACI/f;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,GAAG,EAAEkgB;AAA5B,KAA6CF,IAA7C,EADJ;AAGH,CAZ0C,CAAxC;AAeP,AAAO,SAASG,YAAT,CAAsBC,UAAtB,EAAkCC,WAAlC,EAA+CC,IAA/C,EAAqDC,QAArD,EAA+D9tB,IAA/D,EAAqE;AACxE,MAAI+tB,IAAI,GAAG,IAAX;;AACA,MAAIH,WAAW,KAAK,KAAhB,IAAyBC,IAAI,CAAC9d,MAAL,GAAc+d,QAAvC,IAAmDD,IAAI,CAAC,CAAD,CAA3D,EAAgE;AAC5D,QAAIG,gBAAgB,GAAGF,QAAQ,GAAGD,IAAI,CAAC9d,MAAvC;AACAie,IAAAA,gBAAgB,GAAG,IAAIC,KAAJ,CAAUD,gBAAV,CAAnB;;AACA,QAAIE,QAAQ,GAAGlrB,GAAC,CAACgN,GAAF,CAAMge,gBAAN,EAAwB,UAAAvK,CAAC,EAAI;AACxC,aAAOoK,IAAI,CAAC,CAAD,CAAX;AACH,KAFc,CAAf;;AAGAE,IAAAA,IAAI,GAAGG,QAAQ,CAACle,GAAT,CAAa,UAACme,GAAD,EAAMC,CAAN,EAAY;AAC5B,UAAIC,MAAM,GAAGruB,IAAI,CAAC+P,MAAL,GAAcqe,CAA3B;AACAD,MAAAA,GAAG,CAACtpB,EAAJ,GAASwpB,MAAT;AACAV,MAAAA,UAAU,CAACQ,GAAD,CAAV;AACA,0BACI5gB,6BAAC,QAAD,EAAc4gB,GAAG,CAACG,WAAJ,EAAd,EACKH,GAAG,CAACI,KAAJ,CAAUve,GAAV,CAAc,UAAAwe,IAAI,EAAI;AACnB,4BACIjhB,6BAAC,QAAD,EAAcihB,IAAI,CAACC,YAAL,EAAd,eACIlhB;AAAK,UAAA,KAAK,EAAE;AAAEmhB,YAAAA,KAAK,EAAE;AAAT;AAAZ,eADJ,CADJ;AAKH,OANA,CADL,CADJ;AAWH,KAfM,CAAP;AAgBH;;AACD,SAAOX,IAAP;AACH;AAAA,AAEM,SAASY,eAAT,CAAyBb,QAAzB,EAAmCc,YAAnC,EAAiD;AACpD,MAAIZ,gBAAgB,GAAG,IAAIC,KAAJ,CAAUH,QAAV,CAAvB;;AACA,MAAIC,IAAI,GAAG/qB,GAAC,CAACgN,GAAF,CAAMge,gBAAN,EAAwB,YAAM;AACrC,WAAOY,YAAY,CAAC5e,GAAb,CAAiB,UAAA6e,WAAW;AAAA,0BAC/BthB,6BAAC,QAAD,EAAcshB,WAAW,CAACC,mBAAZ,EAAd,EACKD,WAAW,CAACtvB,OAAZ,CAAoByQ,GAApB,CAAwB,UAAA+e,MAAM;AAAA,4BAC3BxhB,6BAAC,QAAD,EAAcwhB,MAAM,CAACC,cAAP,EAAd,eACIzhB;AAAK,UAAA,KAAK,EAAE;AAAEmhB,YAAAA,KAAK,EAAE;AAAT;AAAZ,eADJ,CAD2B;AAAA,OAA9B,CADL,CAD+B;AAAA,KAA5B,CAAP;AASH,GAVU,CAAX;;AAWA,SAAOX,IAAP;AACH;AAAA,AAEM,SAASkB,WAAT,CAAqBF,MAArB,EAA6B;AAChC,sBACIxhB,2CACKwhB,MAAM,CAACG,aAAP,KAAyB,IAAzB,IAAiCH,MAAM,CAACI,QAAP,KAAoB,KAArD,iBACG5hB,2CACK,GADL,eAEIA,6BAACgR,gCAAD;AACI,IAAA,IAAI,EAAE6Q,wBADV;AAEI,IAAA,KAAK,EAAE;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAFX;AAGI,IAAA,OAAO,EAAE,mBAAM;AACXN,MAAAA,MAAM,CAACO,YAAP;AACH;AALL,IAFJ,CAFR,eAaI/hB,2CACKwhB,MAAM,CAACI,QAAP,GACGJ,MAAM,CAACQ,YAAP,gBACIhiB,2CACK,GADL,eAEIA,6BAACgR,gCAAD;AACI,IAAA,IAAI,EAAEiR,4BADV;AAEI,IAAA,KAAK,EAAE;AAAEH,MAAAA,MAAM,EAAE;AAAV,KAFX;AAGI,IAAA,OAAO,EAAE,mBAAM;AACXN,MAAAA,MAAM,CAACO,YAAP;AACH;AALL,IAFJ,CADJ,gBAYI/hB,2CACK,GADL,eAEIA,6BAACgR,gCAAD;AACI,IAAA,IAAI,EAAEkR,0BADV;AAEI,IAAA,KAAK,EAAE;AAAEJ,MAAAA,MAAM,EAAE;AAAV,KAFX;AAGI,IAAA,OAAO,EAAE,mBAAM;AACXN,MAAAA,MAAM,CAACO,YAAP;AACH;AALL,IAFJ,CAbP,GAyBG,EA1BR,CAbJ,CADJ;AA6CH;AAAA,AAEM,SAASI,SAAT,CAAmBX,MAAnB,EAA2B;AAC9B,sBAAOxhB,2CAAOwhB,MAAM,CAACY,SAAP,iBAAoBpiB,6BAAC,OAAD,eAAawhB,MAAM,CAACa,eAAP,EAAb;AAAuC,IAAA,SAAS,QAAKb,MAAM,CAACc,UAAP,GAAoB,YAApB,GAAmC,EAAxC;AAAhD,KAA3B,CAAP;AACH;AAAA;AAED,SAASC,kBAAT,CAA4BC,gBAA5B,EAA8CC,cAA9C,EAA8D;AAC1D,MAAIC,WAAW,GAAG,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,CAAlB;;AACA,MAAIjtB,GAAC,CAACktB,QAAF,CAAWD,WAAX,EAAwBF,gBAAxB,MAA8C,KAAlD,EAAyD;AACrDE,IAAAA,WAAW,CAACE,IAAZ,CAAiBJ,gBAAjB;AACAE,IAAAA,WAAW,GAAGjtB,GAAC,CAACotB,MAAF,CAASH,WAAT,CAAd;AACH;;AAED,MAAIjtB,GAAC,CAACktB,QAAF,CAAWD,WAAX,EAAwBD,cAAxB,MAA4C,KAAhD,EAAuD;AACnDC,IAAAA,WAAW,CAACE,IAAZ,CAAiBH,cAAjB;AACAC,IAAAA,WAAW,GAAGjtB,GAAC,CAACotB,MAAF,CAASH,WAAT,CAAd;AACH;;AAED,MAAI9X,OAAO,GAAGnV,GAAC,CAACgN,GAAF,CAAMigB,WAAN,EAAmB,UAAC1uB,KAAD,EAAQyoB,KAAR,EAAkB;AAC/C,wBACIzc;AAAQ,MAAA,GAAG,EAAEyc,KAAb;AAAoB,MAAA,KAAK,EAAEzoB;AAA3B,OACKA,KADL,CADJ;AAKH,GANa,CAAd;;AAOA,SAAO4W,OAAP;AACH;;AAED,AAAO,SAASkY,oBAAT,CAA8B1nB,YAA9B,EAA4C2nB,QAA5C,EAAsDC,eAAtD,EAAuEC,YAAvE,EAAqF5C,WAArF,EAAkG6C,QAAlG,EAA4GC,SAA5G,EAAuHC,SAAvH,EAAkIC,WAAlI,EAA+I5wB,IAA/I,EAAqJ8tB,QAArJ,EAA+JkC,cAA/J,EAA+Ka,WAA/K,EAA4Ld,gBAA5L,EAA8Me,cAA9M,EAA8N;AACjO,sBAAOvjB,6BAAC,aAAD;AAAe,IAAA,SAAS,EAAC,YAAzB;AAAsC,IAAA,MAAM,EAAEujB,cAAc,KAAK;AAAjE,kBACHvjB,6BAACyW,kBAAD;AAAK,IAAA,EAAE,EAAE;AAAT,kBACIzW,wDACIA,6BAAC6R,qBAAD;AAAQ,IAAA,OAAO,EAAC,mBAAhB;AAAoC,IAAA,IAAI,EAAE,IAA1C;AAAgD,IAAA,OAAO,EAAE;AAAA,aAAMkR,QAAQ,CAAC,CAAD,CAAd;AAAA,KAAzD;AAA4E,IAAA,QAAQ,EAAE,CAACC;AAAvF,KACK,GADL,EAEK,IAFL,CADJ,EAIc,GAJd,eAKIhjB,6BAAC6R,qBAAD;AAAQ,IAAA,OAAO,EAAC,mBAAhB;AAAoC,IAAA,IAAI,EAAE,IAA1C;AAAgD,IAAA,OAAO,EAAE;AAAA,aAAMoR,YAAY,EAAlB;AAAA,KAAzD;AAA+E,IAAA,QAAQ,EAAE,CAACD;AAA1F,KACK,GADL,EAEK,GAFL,CALJ,EAQc,GARd,eASIhjB,6BAAC6R,qBAAD;AAAQ,IAAA,OAAO,EAAC,mBAAhB;AAAoC,IAAA,IAAI,EAAE,IAA1C;AAAgD,IAAA,OAAO,EAAE;AAAA,aAAMqR,QAAQ,EAAd;AAAA,KAAzD;AAA2E,IAAA,QAAQ,EAAE,CAAC7C;AAAtF,KACK,GADL,EAEK,GAFL,CATJ,EAYc,GAZd,eAaIrgB,6BAAC6R,qBAAD;AAAQ,IAAA,OAAO,EAAC,mBAAhB;AAAoC,IAAA,IAAI,EAAE,IAA1C;AAAgD,IAAA,OAAO,EAAE;AAAA,aAAMkR,QAAQ,CAACI,SAAS,GAAG,CAAb,CAAd;AAAA,KAAzD;AAAwF,IAAA,QAAQ,EAAE,CAAC9C;AAAnG,KACK,GADL,EAEK,IAFL,CAbJ,EAgBc,GAhBd,eAiBIrgB;AAAM,IAAA,KAAK,EAAE;AAAE,eAAO;AAAT;AAAb,kBACIA,2CACK5E,YAAY,CAACklB,IAAb,IAAqB,MAD1B,EACkC,GADlC,eAEItgB,6CACKojB,SAAS,GAAG,CADjB,OACqBhoB,YAAY,CAACooB,EAAb,IAAmB,IADxC,OAC+CH,WAAW,CAAC7gB,MAD3D,CAFJ,EAIc,GAJd,CADJ,eAOIxC,iDAAS5E,YAAY,CAACqoB,UAAtB,OAPJ,CAjBJ,CADJ,CADG,eA8BHzjB,6BAACyW,kBAAD;AAAK,IAAA,EAAE,EAAE;AAAT,kBACIzW,6BAACuc,mBAAD,CAAM,OAAN;AACI,IAAA,QAAQ,EAAE9pB,IAAI,CAAC+P,MAAL,KAAgB,CAD9B;AAEI,IAAA,IAAI,EAAE,IAFV;AAGI,IAAA,IAAI,EAAC,QAHT;AAII,IAAA,GAAG,EAAE,CAJT;AAKI,IAAA,GAAG,EAAE6gB,WAAW,CAAC7gB,MALrB;AAMI,IAAA,KAAK,EAAE4gB,SAAS,GAAG,CANvB;AAOI,IAAA,QAAQ,EAAE,kBAAAppB,CAAC,EAAI;AACX,UAAMsmB,IAAI,GAAGtmB,CAAC,CAACqV,MAAF,CAASrb,KAAT,GAAiB0vB,MAAM,CAAC1pB,CAAC,CAACqV,MAAF,CAASrb,KAAV,CAAN,GAAyB,CAA1C,GAA8C,CAA3D;AACA+uB,MAAAA,QAAQ,CAACzC,IAAD,CAAR;AACH,KAVL;AAWI,IAAA,KAAK,EAAE;AAAE7U,MAAAA,KAAK,EAAE;AAAT;AAXX,IADJ,CA9BG,eA6CHzL,6BAACyW,kBAAD;AAAK,IAAA,EAAE,EAAE;AAAT,kBACIzW,6BAACuc,mBAAD,CAAM,OAAN;AACI,IAAA,EAAE,EAAC,QADP;AAEI,IAAA,IAAI,EAAE,IAFV;AAGI,IAAA,KAAK,EAAEgE,QAHX;AAII,IAAA,QAAQ,EAAEkC,cAAc,IAAI,IAAlB,IAA0BhwB,IAAI,CAAC+P,MAAL,KAAgB,CAJxD;AAKI,IAAA,QAAQ,EAAE,kBAAAxI,CAAC,EAAI;AACXspB,MAAAA,WAAW,CAACI,MAAM,CAAC1pB,CAAC,CAACqV,MAAF,CAASrb,KAAV,CAAP,CAAX;AACH;AAPL,KAQKuuB,kBAAkB,CAACC,gBAAD,EAAmBC,cAAnB,CARvB,CADJ,CA7CG,CAAP;AA0DH;;AC/LD,SAASkB,UAAT,CAAoBnkB,KAApB,EAA2B;AAAA,MACjBpE,YADiB,GACuIoE,KADvI,CACjBpE,YADiB;AAAA,MACHwoB,OADG,GACuIpkB,KADvI,CACHokB,OADG;AAAA,MACMnxB,IADN,GACuI+M,KADvI,CACM/M,IADN;AAAA,MACY+vB,gBADZ,GACuIhjB,KADvI,CACYgjB,gBADZ;AAAA,MAC8BC,cAD9B,GACuIjjB,KADvI,CAC8BijB,cAD9B;AAAA,MAC8CoB,cAD9C,GACuIrkB,KADvI,CAC8CqkB,cAD9C;AAAA,MAC8DC,aAD9D,GACuItkB,KADvI,CAC8DskB,aAD9D;AAAA,MAC6EP,cAD7E,GACuI/jB,KADvI,CAC6E+jB,cAD7E;AAAA,8BACuI/jB,KADvI,CAC6FukB,gBAD7F;AAAA,MAC6FA,gBAD7F,sCACgH,KADhH;AAAA,MACuHC,WADvH,GACuIxkB,KADvI,CACuHwkB,WADvH;AAGzB1c,EAAAA,eAAS,CAAC,YAAM;AACd,QAAI2c,SAAS,GAAGxB,cAAc,IAAID,gBAAlB,IAAsCjC,QAAtD;AACA+C,IAAAA,WAAW,CAACW,SAAD,CAAX;AACD,GAHQ,EAGN,CAACxB,cAAD,EAAiBD,gBAAjB,CAHM,CAAT;;AAHyB,kBA0BrB0B,mBAAQ,CACV;AACEN,IAAAA,OAAO,EAAPA,OADF;AAEEnxB,IAAAA,IAAI,EAAJA,IAFF;AAGE0xB,IAAAA,aAAa,EAAE,CAACL,aAHlB;AAIEM,IAAAA,YAAY,EAAE;AAEZ7D,MAAAA,QAAQ,EAAEkC,cAAc,IAAID,gBAAlB,IAAsC;AAFpC,KAJhB;AAQE6B,IAAAA,uBAAuB,EAAE;AAR3B,GADU,EAWVC,oBAXU,EAYVC,sBAZU,EAaVC,wBAbU,EAcVC,2BAdU,EAeVC,wBAfU,EAgBVC,uBAhBU,EAiBV,UAACC,KAAD,EAAW;AACT,QAAIb,gBAAgB,KAAK,IAAzB,EAA+B;AAC7Ba,MAAAA,KAAK,CAACC,cAAN,CAAqBjC,IAArB,CAA0B,UAACgB,OAAD;AAAA,gBACxB;AACEtsB,UAAAA,EAAE,EAAE,WADN;AAEEqqB,UAAAA,aAAa,EAAE,IAFjB;AAGElW,UAAAA,KAAK,EAAE,EAHT;AAIEqZ,UAAAA,MAAM,EAAE;AAAA,gBAAGC,6BAAH,QAAGA,6BAAH;AAAA,gCACN/kB,6BAACglB,qBAAD,EAAiCD,6BAA6B,EAA9D,CADM;AAAA,WAJV;AAOEE,UAAAA,IAAI,EAAE;AAAA,gBAAGrE,GAAH,SAAGA,GAAH;AAAA,gCACJ5gB,6BAACglB,qBAAD,EAAiCpE,GAAG,CAACsE,yBAAJ,EAAjC,CADI;AAAA;AAPR,SADwB,SAYrBtB,OAZqB;AAAA,OAA1B;AAcD;AACF,GAlCS,CA1Ba;AAAA,MASvBuB,aATuB,aASvBA,aATuB;AAAA,MAUvBC,iBAVuB,aAUvBA,iBAVuB;AAAA,MAWvB/D,YAXuB,aAWvBA,YAXuB;AAAA,MAYvBjB,UAZuB,aAYvBA,UAZuB;AAAA,MAavBE,IAbuB,aAavBA,IAbuB;AAAA,MAcvBE,AACAwC,eAfuB,aAevBA,eAfuB;AAAA,MAgBvB3C,WAhBuB,aAgBvBA,WAhBuB;AAAA,MAiBvBgD,WAjBuB,aAiBvBA,WAjBuB;AAAA,MAkBvBF,SAlBuB,aAkBvBA,SAlBuB;AAAA,MAmBvBJ,QAnBuB,aAmBvBA,QAnBuB;AAAA,MAoBvBG,QApBuB,aAoBvBA,QApBuB;AAAA,MAqBvBD,YArBuB,aAqBvBA,YArBuB;AAAA,MAsBvBK,WAtBuB,aAsBvBA,WAtBuB;AAAA,MAuBvBuB,AACAQ,gBAxBuB,aAwBvBA,gBAxBuB;AAAA,kCAyBvB5lB,KAzBuB;AAAA,MAyBd2jB,SAzBc,mBAyBdA,SAzBc;AAAA,MAyBH7C,QAzBG,mBAyBHA,QAzBG;;AA+DzBjZ,EAAAA,eAAS,CAAC,YAAM;AACd,QAAI0c,WAAJ,EAAiB;AACfA,MAAAA,WAAW,CAACD,gBAAgB,IAAIsB,gBAApB,GAAuCA,gBAAgB,CAAC5iB,GAAjB,CAAqB,UAACme,GAAD;AAAA,eAASA,GAAG,CAAC0E,QAAb;AAAA,OAArB,CAAvC,GAAqF,EAAtF,CAAX;AACD;AACF,GAJQ,EAIN,CAACtB,WAAD,EAAcqB,gBAAd,CAJM,CAAT;AAMA,sBACErlB,6BAACA,cAAD,CAAO,QAAP,qBACEA,6BAAC,WAAD,EAAiBmlB,aAAa,EAA9B,eACEnlB,0CACGqhB,YAAY,CAAC5e,GAAb,CAAiB,UAAA6e,WAAW;AAAA,wBAC3BthB,6BAAC,QAAD,EAAcshB,WAAW,CAACC,mBAAZ,EAAd,EACGD,WAAW,CAACtvB,OAAZ,CAAoByQ,GAApB,CAAwB,UAAA+e,MAAM;AAAA,0BAC7BxhB,6BAAC,QAAD,EAAcwhB,MAAM,CAACC,cAAP,EAAd,EACGD,MAAM,CAAC1hB,MAAP,CAAc,QAAd,CADH,EAEGylB,WAAA,CAAkB/D,MAAlB,CAFH,EAGG+D,SAAA,CAAgB/D,MAAhB,CAHH,CAD6B;AAAA,KAA9B,CADH,CAD2B;AAAA,GAA5B,CADH,EAYG/uB,IAAI,CAAC+P,MAAL,KAAgB,CAAhB,iBAAqBxC,2CAAOulB,eAAA,CAAsBhF,QAAtB,EAAgCc,YAAhC,CAAP,CAZxB,CADF,eAeErhB,oCAASolB,iBAAiB,EAA1B,EACG9E,IAAI,CAAC7d,GAAL,CAAS,UAACme,GAAD,EAAMC,CAAN,EAAY;AAEpB,QAAID,GAAG,CAAC0E,QAAJ,IAAgB1E,GAAG,CAAC0E,QAAJ,CAAaE,UAA7B,IAA2C/vB,GAAC,CAACC,OAAF,CAAUkrB,GAAG,CAAC0E,QAAJ,CAAaE,UAAvB,MAAuC,KAAtF,EAA6F;AAC3F5E,MAAAA,GAAG,CAAC6E,SAAJ,GAAgB,IAAhB;AACD;;AAEDrF,IAAAA,UAAU,CAACQ,GAAD,CAAV;AACA,wBAAO5gB,6BAACA,cAAD,CAAO,QAAP;AAAgB,MAAA,GAAG,EAAE6gB;AAArB,oBACL7gB,6BAAC,QAAD,EAAc4gB,GAAG,CAACG,WAAJ,EAAd,EACGH,GAAG,CAACI,KAAJ,CAAUve,GAAV,CAAc,UAACwe,IAAD,EAAOxE,KAAP,EAAiB;AAC9B,0BAAOzc,6BAAC,QAAD;AAAU,QAAA,GAAG,EAAEyc;AAAf,SAA0BwE,IAAI,CAACC,YAAL,EAA1B,GACJD,IAAI,CAACnhB,MAAL,CAAY,MAAZ,CADI,CAAP;AAGD,KAJA,CADH,CADK,EAQJ8gB,GAAG,CAAC8E,UAAJ,gBAAiB1lB,6BAAC,mBAAD,QAAsB4gB,GAAG,CAAC0E,QAAJ,CAAaE,UAAnC,CAAjB,GAAwF,IARpF,CAAP;AAUD,GAjBA,CADH,EAmBG/yB,IAAI,CAAC+P,MAAL,GAAc,CAAd,iBAAmBxC,2CAAOulB,YAAA,CAAmBnF,UAAnB,EAA+BC,WAA/B,EAA4CC,IAA5C,EAAkDC,QAAlD,EAA4D9tB,IAA5D,CAAP,CAnBtB,CAfF,EAoCGA,IAAI,CAAC+P,MAAL,KAAgB,CAAhB,iBACCxC,6BAAC,MAAD,qBACEA,6BAACgR,gCAAD;AAAiB,IAAA,IAAI,EAAEgO;AAAvB,IADF,OAC2C6E,cAAc,IAAI,SAD7D,CArCJ,CADF,EA2CG0B,oBAAA,CAA2BnqB,YAA3B,EAAyC2nB,QAAzC,EAAmDC,eAAnD,EAAoEC,YAApE,EAAkF5C,WAAlF,EAA+F6C,QAA/F,EAAyGC,SAAzG,EAAoHC,SAApH,EAA+HC,WAA/H,EAA4I5wB,IAA5I,EAAkJ8tB,QAAlJ,EAA4JkC,cAA5J,EAA4Ka,WAA5K,EAAyLd,gBAAzL,EAA2Me,cAA3M,CA3CH,CADF;AA+CD;;;;;;;;;;;ACrHD,IAAM/I,uBAAqB,GAAGrU,MAAM,CAAC6K,gCAAD,CAAT,sBACd,UAACxR,KAAD;AAAA,SAAYA,KAAK,CAACiH,QAAN,KAAmB,IAAnB,GAA0B,MAA1B,GAAmC,SAA/C;AAAA,CADc,EAEb,UAACjH,KAAD;AAAA,SAAYA,KAAK,CAACiH,QAAN,KAAmB,IAAnB,GAA0B,aAA1B,GAA0C,SAAtD;AAAA,CAFa,EAGP,UAACjH,KAAD;AAAA,SAAYA,KAAK,CAACmmB,WAAlB;AAAA,CAHO,CAA3B;;AAOA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACpmB,KAAD,EAAW;AAAA,MACzB8O,OADyB,GACmB9O,KADnB,CACzB8O,OADyB;AAAA,MAChB7H,QADgB,GACmBjH,KADnB,CAChBiH,QADgB;AAAA,MACNkf,WADM,GACmBnmB,KADnB,CACNmmB,WADM;AAAA,MACOE,QADP,GACmBrmB,KADnB,CACOqmB,OADP;AAE/B,sBAAO7lB,6BAACyO,aAAD;AAAS,IAAA,OAAO,EAAEH;AAAlB,kBACHtO,6BAACwa,uBAAD;AAAuB,IAAA,WAAW,EAAEmL,WAApC;AAAiD,IAAA,IAAI,EAAEjT,0BAAvD;AAA+D,IAAA,QAAQ,EAAEjM,QAAzE;AAAmF,IAAA,OAAO,EAAE,mBAAM;AAAE,UAAIA,QAAQ,KAAK,IAAjB,EAAuB;AAAEof,QAAAA,QAAO;AAAI;AAAE;AAA1I,IADG,CAAP;AAGH,CALD;;;;;;;;;;;;;;;;;;;;;ACTA,IAAMC,SAAS,GAAG3f,MAAM,CAACC,GAAV,sBACF,UAAC5G,KAAD;AAAA,SAAYA,KAAK,SAAjB;AAAA,CADE,CAAf;AAIA,IAAMumB,kBAAkB,GAAG5f,MAAM,CAAC6f,eAAD,CAAT,uBACX,UAACxmB,KAAD;AAAA,SAAYA,KAAK,CAACiH,QAAN,KAAmB,IAAnB,GAA0B,MAA1B,GAAmC,SAA/C;AAAA,CADW,EAEV,UAACjH,KAAD;AAAA,SAAYA,KAAK,CAACiH,QAAN,KAAmB,IAAnB,GAA0B,aAA1B,GAA0C,SAAtD;AAAA,CAFU,EAGN,UAACjH,KAAD;AAAA,SAAYA,KAAK,CAACymB,QAAlB;AAAA,CAHM,CAAxB;;AAMA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAC1mB,KAAD,EAAW;AAAA,MACxB2mB,MADwB,GACkC3mB,KADlC;AAAA,MACjB8O,OADiB,GACkC9O,KADlC,CACjB8O,OADiB;AAAA,MACR7H,QADQ,GACkCjH,KADlC,CACRiH,QADQ;AAAA,MACE2f,QADF,GACkC5mB,KADlC,CACE4mB,QADF;AAAA,MACYH,QADZ,GACkCzmB,KADlC,CACYymB,QADZ;AAAA,MACsBJ,QADtB,GACkCrmB,KADlC,CACsBqmB,OADtB;AAE9B,sBAAO7lB,6BAAC,SAAD;AAAW,aAAOmmB;AAAlB,kBACHnmB,6BAACyO,aAAD;AAAS,IAAA,OAAO,EAAEH;AAAlB,kBACItO,6BAAC,kBAAD;AAAoB,IAAA,QAAQ,EAAEimB,QAAQ,IAAIG,QAAZ,IAAwB,QAAtD;AAAgE,IAAA,QAAQ,EAAE3f,QAA1E;AAAoF,IAAA,OAAO,EAAE,mBAAM;AAAE,UAAIA,QAAQ,KAAK,IAAjB,EAAuB;AAAEof,QAAAA,QAAO;AAAI;AAAE;AAA3I,IADJ,CADG,CAAP;AAKH,CAPD;;;;;;;;;;;ACTA,IAAMrL,uBAAqB,GAAGrU,MAAM,CAAC6K,gCAAD,CAAT,sBACb,UAACxR,KAAD;AAAA,SAAYA,KAAK,CAACiH,QAAN,KAAmB,IAAnB,GAA0B,aAA1B,GAA0C,SAAtD;AAAA,CADa,CAA3B;;AAMA,IAAM4f,iBAAiB,GAAG,SAApBA,iBAAoB,CAAC7mB,KAAD,EAAW;AAAA,MAC3B8O,OAD2B,GACI9O,KADJ,CAC3B8O,OAD2B;AAAA,MAClB7H,QADkB,GACIjH,KADJ,CAClBiH,QADkB;AAAA,MACRof,QADQ,GACIrmB,KADJ,CACRqmB,OADQ;AAEjC,sBAAO7lB,6BAACyO,aAAD;AAAS,IAAA,OAAO,EAAEH;AAAlB,kBACHtO,6BAACwa,uBAAD;AAAuB,IAAA,IAAI,EAAErI,iCAA7B;AAA4C,IAAA,QAAQ,EAAE1L,QAAtD;AAAgE,IAAA,OAAO,EAAE,mBAAM;AAAE,UAAIA,QAAQ,KAAK,IAAjB,EAAuB;AAAEof,QAAAA,QAAO;AAAI;AAAE;AAAvH,IADG,CAAP;AAGH,CALD;;;;;;;;;;;ACRA,IAAMS,eAAe,GAAGngB,MAAM,CAACogB,wBAAD,CAAT,sBACA,UAAC/mB,KAAD;AAAA,SAAYA,KAAK,CAACgnB,UAAlB;AAAA,CADA,EAGA,UAAChnB,KAAD;AAAA,SAAYA,KAAK,CAACinB,KAAN,GAAc,WAAWjnB,KAAK,CAACinB,KAAjB,GAAyB,GAAvC,GAA6C,YAAzD;AAAA,CAHA,CAArB;;AAOA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAClnB,KAAD,EAAW;AAAA,MACImnB,UADJ,GACsCnnB,KADtC,CACImnB,UADJ;AAAA,MACgBH,UADhB,GACsChnB,KADtC,CACgBgnB,UADhB;AAG/B,MAAMI,EAAE,GAAGJ,UAAU,IAAIG,UAAzB;AACA,sBAAO3mB,6BAAC,eAAD;AAAiB,IAAA,IAAI,EAAC,UAAtB;AAAiC,IAAA,UAAU,EAAE4mB;AAA7C,KACCpnB,KADD,EAAP;AAGH,CAPD;;ACNA,SAASqnB,aAAT,CAAuBrnB,KAAvB,EAA8B;AAAA,MACpB8G,SADoB,GAC2B9G,KAD3B,CACpB8G,SADoB;AAAA,MACTwgB,QADS,GAC2BtnB,KAD3B,CACTsnB,QADS;AAAA,6BAC2BtnB,KAD3B,CACCunB,aADD;AAAA,MACCA,aADD,qCACiB,KADjB;;AAG1B,WAASC,mBAAT,CAA6B1gB,SAA7B,EAAwC;AACpC,QAAI2gB,UAAU,GAAG3gB,SAAS,GAAG;AAAE4gB,MAAAA,WAAW,EAAE,SAAf;AAA0BC,MAAAA,SAAS,EAAE,SAArC;AAAgD,iBAAW;AAAED,QAAAA,WAAW,EAAE;AAAf;AAA3D,KAAH,GAA6F,EAAvH;AACA,QAAIE,UAAU,GAAG;AAAEC,MAAAA,OAAO,EAAE,iBAAAC,MAAM;AAAA,4BAAUA,MAAV,EAAqBL,UAArB;AAAA;AAAjB,KAAjB;AACA,WAAOG,UAAP;AACH;;AAED,sBACIpnB,6BAACA,cAAD,CAAO,QAAP,QACK+mB,aAAa,IAAI,KAAjB,gBACG/mB,6BAAC,MAAD;AACI,IAAA,MAAM,EAAEgnB,mBAAmB,CAAC1gB,SAAD;AAD/B,KAEQ9G,KAFR,EADH,gBAKGQ,6BAAC,eAAD;AACI,IAAA,MAAM,EAAEgnB,mBAAmB,CAAC1gB,SAAD;AAD/B,KAEQ9G,KAFR,EANR,EAaK8G,SAAS,iBACNtG,6BAAC,eAAD,QAAkB8mB,QAAlB,CAdR,CADJ;AAmBH;;AClBD,SAASS,cAAT,CAAwB/nB,KAAxB,EAA+B;AAAA,MACrBpE,YADqB,GAC6EoE,KAD7E,CACrBpE,YADqB;AAAA,MACPosB,UADO,GAC6EhoB,KAD7E,CACPgoB,UADO;AAAA,MACKC,YADL,GAC6EjoB,KAD7E,CACKioB,YADL;AAAA,MACmB7vB,IADnB,GAC6E4H,KAD7E,CACmB5H,IADnB;AAAA,MACyB8vB,WADzB,GAC6EloB,KAD7E,CACyBkoB,WADzB;AAAA,MACsCC,cADtC,GAC6EnoB,KAD7E,CACsCmoB,cADtC;AAAA,MACsDnQ,AAAUlN,QADhE,GAC6E9K,KAD7E,CACgE8K,QADhE;;AAAA,kBAGCnD,cAAQ,CAAC,KAAD,CAHT;AAAA,MAGtBygB,OAHsB;AAAA,MAGbC,UAHa;;AAAA,mBAIO1gB,cAAQ,CAAC,KAAD,CAJf;AAAA,MAItB2gB,UAJsB;AAAA,MAIVC,aAJU;;AAS3B,WAASC,eAAT,CAAyBC,SAAzB,EAAoC;AAChC,QAAIvkB,GAAG,GAAGjO,GAAC,CAACyyB,SAAF,CAAYT,YAAZ,CAAV;;AACA/jB,IAAAA,GAAG,CAACukB,SAAD,CAAH,GAAiB,CAACvkB,GAAG,CAACukB,SAAD,CAArB;AACA3d,IAAAA,QAAQ,CAAC5G,GAAD,CAAR;AACH;;AAED,WAASykB,cAAT,CAAwBF,SAAxB,EAAmCjuB,CAAnC,EAAsC;AAClC,QAAIhG,KAAK,GAAGgG,CAAC,CAACqV,MAAF,CAASrb,KAArB;AACAA,IAAAA,KAAK,GAAG0vB,MAAM,CAAC1vB,KAAD,CAAd;;AAEA,QAAI0P,GAAG,GAAGjO,GAAC,CAACyyB,SAAF,CAAYT,YAAZ,CAAV;;AACA/jB,IAAAA,GAAG,CAACukB,SAAD,CAAH,GAAiBj0B,KAAjB;AACAsW,IAAAA,QAAQ,CAAC5G,GAAD,CAAR;AACH;;AAED,WAAS0kB,cAAT,CAAwBH,SAAxB,EAAmCjuB,CAAnC,EAAsC;AAClC,QAAIhG,KAAK,GAAGgG,CAAC,CAACqV,MAAF,CAASrb,KAArB;AACAA,IAAAA,KAAK,GAAGyB,GAAC,CAACC,OAAF,CAAU1B,KAAV,MAAqB,IAArB,GAA4B,IAA5B,GAAmC4I,IAAI,CAACyrB,SAAL,CAAezrB,IAAI,CAACC,KAAL,CAAW7I,KAAX,CAAf,CAA3C;;AAEA,QAAI0P,GAAG,GAAGjO,GAAC,CAACyyB,SAAF,CAAYT,YAAZ,CAAV;;AACA/jB,IAAAA,GAAG,CAACukB,SAAD,CAAH,GAAiBj0B,KAAjB;AACAsW,IAAAA,QAAQ,CAAC5G,GAAD,CAAR;AACH;;AAED,WAAS4kB,cAAT,CAAwBL,SAAxB,EAAmCjuB,CAAnC,EAAsC;AAClC,QAAIhG,KAAK,GAAGgG,CAAC,CAACqV,MAAF,CAASrb,KAArB;AACAA,IAAAA,KAAK,GAAGyB,GAAC,CAACC,OAAF,CAAU1B,KAAV,MAAqB,IAArB,GAA4B,IAA5B,GAAmCA,KAA3C;;AAEA,QAAI0P,GAAG,GAAGjO,GAAC,CAACyyB,SAAF,CAAYT,YAAZ,CAAV;;AACA/jB,IAAAA,GAAG,CAACukB,SAAD,CAAH,GAAiBj0B,KAAjB;AACAsW,IAAAA,QAAQ,CAAC5G,GAAD,CAAR;AACH;;AAED,WAAS6kB,cAAT,CAAwBN,SAAxB,EAAmCj0B,KAAnC,EAA0C;AACtC,QAAI0P,GAAG,GAAGjO,GAAC,CAACyyB,SAAF,CAAYT,YAAZ,CAAV;;AACA/jB,IAAAA,GAAG,CAACukB,SAAD,CAAH,GAAiBj0B,KAAjB;AACAsW,IAAAA,QAAQ,CAAC5G,GAAD,CAAR;AACH;;AAKD,WAAS8kB,WAAT,CAAqBx0B,KAArB,EAA4B;AACxBA,IAAAA,KAAK,GAAG4I,IAAI,CAACC,KAAL,CAAW7I,KAAX,CAAR;AACAA,IAAAA,KAAK,GAAG4I,IAAI,CAACyrB,SAAL,CAAer0B,KAAf,EAAsBy0B,SAAtB,EAAiC,CAAjC,CAAR;AACA,WAAOz0B,KAAP;AACH;;AAED,WAAS00B,gBAAT,CAA0B9d,OAA1B,EAAmC;AAC/B,QAAIhT,IAAI,GAAG9D,mBAAmB,CAACG,cAApB,MAAwCgD,SAAS,CAACU,cAAV,EAAxC,IAAsE,IAAjF;;AAEA,QAAIgxB,aAAa,GAAGlzB,GAAC,CAACgN,GAAF,CAAMmI,OAAN,EAAe,UAACge,MAAD,EAAY;AAAA,UACrC50B,KADqC,GACpB40B,MADoB,CACrC50B,KADqC;AAAA,UAC9B60B,KAD8B,GACpBD,MADoB,CAC9BC,KAD8B;AAE3C,UAAIC,cAAc,GAAGD,KAAK,CAACjxB,IAAD,CAAL,IAAe5D,KAApC;AACA,aAAO;AAAE,iBAASA,KAAX;AAAkB,iBAAS80B;AAA3B,OAAP;AACH,KAJmB,CAApB;;AAKAH,IAAAA,aAAa,GAAGlzB,GAAC,CAACotB,MAAF,CAAS8F,aAAT,EAAwB,OAAxB,CAAhB;AACA,WAAOA,aAAP;AACH;;AAED,WAASI,cAAT,CAAwBne,OAAxB,EAAiC5W,KAAjC,EAAwC;AACpC,QAAI20B,aAAa,GAAGD,gBAAgB,CAAC9d,OAAD,CAApC;;AACA,QAAIge,MAAM,GAAGnzB,GAAC,CAAC0O,IAAF,CAAOwkB,aAAP,EAAsB;AAAE,eAAS30B;AAAX,KAAtB,CAAb;;AACA,WAAO40B,MAAP;AACH;;AAED,sBACI5oB,6BAACA,cAAD,CAAO,QAAP,QACKvK,GAAC,CAACgN,GAAF,CAAM+kB,UAAN,EAAkB,UAACwB,KAAD,EAAW;AAAA,QACpBf,SADoB,GACgCe,KADhC,CACpBf,SADoB;AAAA,QACTY,KADS,GACgCG,KADhC,CACTH,KADS;AAAA,QACF/kB,IADE,GACgCklB,KADhC,CACFllB,IADE;AAAA,QACImlB,QADJ,GACgCD,KADhC,CACIC,QADJ;AAAA,QACcC,IADd,GACgCF,KADhC,CACcE,IADd;AAAA,QACoBte,OADpB,GACgCoe,KADhC,CACoBpe,OADpB;AAE1Bie,IAAAA,KAAK,GAAGG,KAAK,CAACH,KAAN,CAAYjxB,IAAZ,CAAR;AACA,QAAI5D,KAAK,GAAGyzB,YAAY,CAACQ,SAAD,CAAxB;AAEA,wBAAOjoB,6BAACwW,kBAAD;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAgC,MAAA,GAAG,EAAEyR;AAArC,oBACHjoB,6BAACyW,kBAAD,QACKwS,QAAQ,KAAK,IAAb,gBACGjpB,6BAAC,mBAAD;AAAqB,MAAA,KAAK,EAAE6oB;AAA5B,MADH,gBAEG7oB,6BAAC,gBAAD;AAAkB,MAAA,KAAK,EAAE6oB;AAAzB,MAHR,EAMK/kB,IAAI,KAAK,SAAT,iBACG9D,6BAAC,eAAD;AACI,MAAA,OAAO,EAAEhM,KAAK,IAAI,KADtB;AAEI,MAAA,QAAQ,EAAE,oBAAM;AAAEg0B,QAAAA,eAAe,CAACC,SAAD,CAAf;AAA4B;AAFlD,MAPR,EAaKnkB,IAAI,KAAK,UAAT,iBACG9D,6BAAC,cAAD;AACI,MAAA,YAAY,EAAE5E,YADlB;AAEI,MAAA,QAAQ,EAAEpH,KAAK,IAAI,EAFvB;AAGI,MAAA,SAAS,EAAE,KAHf;AAII,MAAA,YAAY,EAAE,EAJlB;AAKI,MAAA,QAAQ,EAAE,kBAACm1B,MAAD,EAASta,QAAT,EAAmBsI,aAAnB,EAAkCC,QAAlC,EAA+C;AACrDuQ,QAAAA,cAAc,CAACM,SAAD,EAAYkB,MAAZ,EAAoBta,QAApB,EAA8BsI,aAA9B,EAA6CC,QAA7C,CAAd;AACH,OAPL;AAQI,MAAA,QAAQ,EAAE,oBAAM;AAAEsQ,QAAAA,WAAW,CAACO,SAAD,CAAX;AAAwB;AAR9C,MAdR,EA0BKnkB,IAAI,KAAK,OAAT,iBACG9D,6BAAC,WAAD;AACI,MAAA,YAAY,EAAE5E,YADlB;AAEI,MAAA,KAAK,EAAEpH,KAAK,IAAI,IAFpB;AAGI,MAAA,QAAQ,EAAE,kBAACm1B,MAAD,EAASta,QAAT,EAAmBsI,aAAnB,EAAkCC,QAAlC,EAA+C;AACrDsQ,QAAAA,WAAW,CAACO,SAAD,EAAYkB,MAAZ,EAAoBta,QAApB,EAA8BsI,aAA9B,CAAX;AACH,OALL;AAMI,MAAA,QAAQ,EAAE,oBAAM;AAAEuQ,QAAAA,WAAW,CAACO,SAAD,CAAX;AAAwB;AAN9C,MA3BR,EAqCKnkB,IAAI,KAAK,QAAT,iBACG9D,6BAACmc,0BAAD;AACI,MAAA,IAAI,EAAC,QADT;AAEI,MAAA,WAAW,EAAE0M,KAFjB;AAGI,MAAA,IAAI,EAAEK,IAAI,CAAC3nB,QAAL,EAHV;AAII,MAAA,KAAK,EAAEvN,KAAK,IAAI,IAAT,GAAgBA,KAAK,CAACuN,QAAN,EAAhB,GAAmC,EAJ9C;AAKI,MAAA,QAAQ,EAAE,kBAACvH,CAAD,EAAO;AAAEmuB,QAAAA,cAAc,CAACF,SAAD,EAAYjuB,CAAZ,CAAd;AAA8B;AALrD,MAtCR,EA+CK8J,IAAI,KAAK,MAAT,iBACG9D,6BAACmc,0BAAD;AACI,MAAA,IAAI,EAAC,KADT;AAEI,MAAA,WAAW,EAAE0M,KAFjB;AAGI,MAAA,KAAK,EAAE70B,KAAK,IAAI,EAHpB;AAII,MAAA,QAAQ,EAAE,kBAACgG,CAAD,EAAO;AAAEsuB,QAAAA,cAAc,CAACL,SAAD,EAAYjuB,CAAZ,CAAd;AAA8B;AAJrD,MAhDR,EAwDK8J,IAAI,KAAK,QAAT,iBACG9D,6BAACmc,0BAAD;AACI,MAAA,EAAE,EAAC,UADP;AAEI,MAAA,IAAI,EAAE,CAFV;AAGI,MAAA,KAAK,EAAEnoB,KAAK,IAAI,IAAT,GAAgBw0B,WAAW,CAACx0B,KAAD,CAA3B,GAAqC,EAHhD;AAII,MAAA,QAAQ,EAAE,kBAACgG,CAAD,EAAO;AAAEouB,QAAAA,cAAc,CAACH,SAAD,EAAYjuB,CAAZ,CAAd;AAA8B;AAJrD,MAzDR,EAiEK8J,IAAI,KAAK,QAAT,iBACG9D,6BAACmc,0BAAD;AACI,MAAA,WAAW,EAAE0M,KADjB;AAEI,MAAA,KAAK,EAAE70B,KAFX;AAGI,MAAA,QAAQ,EAAE,kBAACgG,CAAD,EAAO;AAAEsuB,QAAAA,cAAc,CAACL,SAAD,EAAYjuB,CAAZ,CAAd;AAA8B;AAHrD,MAlER,EA0EQ8J,IAAI,KAAK,QAAT,iBACA9D,6BAAC,MAAD;AACI,MAAA,WAAW,EAAE6oB,KADjB;AAEI,MAAA,KAAK,EAAEE,cAAc,CAACne,OAAD,EAAU5W,KAAV,CAFzB;AAGI,MAAA,WAAW,EAAE,IAHjB;AAII,MAAA,QAAQ,EAAE,kBAACvB,IAAD,EAAU;AAChB,YAAIuB,KAAK,GAAGvB,IAAI,IAAIA,IAAI,CAACuB,KAAb,GAAqBvB,IAAI,CAACuB,KAA1B,GAAkC,IAA9C;AACAu0B,QAAAA,cAAc,CAACN,SAAD,EAAYj0B,KAAZ,CAAd;AACH,OAPL;AAQI,MAAA,OAAO,EAAE00B,gBAAgB,CAAC9d,OAAD;AAR7B,MA3ER,EAuFK9G,IAAI,KAAK,OAAT,iBACG9D,6BAACA,cAAD,CAAO,QAAP,qBACIA,6BAACopB,yBAAD,qBACIppB,6BAACopB,yBAAD,CAAY,OAAZ,qBACIppB,6BAACopB,yBAAD,CAAY,IAAZ,cADJ,CADJ,eAIIppB,6BAACmc,0BAAD;AACI,MAAA,WAAW,EAAE/gB,YAAY,CAACiuB,QAAb,IAAyB,WAD1C;AAEI,MAAA,KAAK,EAAEr1B,KAAK,IAAI,EAFpB;AAGI,MAAA,QAAQ,EAAE,kBAACgG,CAAD,EAAO;AACb+tB,QAAAA,aAAa,CAAC,KAAD,CAAb;AACAO,QAAAA,cAAc,CAACL,SAAD,EAAYjuB,CAAZ,CAAd;AACH;AANL,MAJJ,CADJ,EAcKvE,GAAC,CAACC,OAAF,CAAU1B,KAAV,MAAqB,KAArB,iBACGgM;AAAK,MAAA,KAAK,EAAE;AAAE4W,QAAAA,SAAS,EAAE;AAAb;AAAZ,oBACI5W,6BAAC,WAAD;AACI,MAAA,OAAO,EAAE4nB,OADb;AAEI,MAAA,OAAO,EAAE,mBAAM;AAAEG,QAAAA,aAAa,CAAC,IAAD,CAAb;AAAqB,OAF1C;AAGI,MAAA,MAAM,EAAE,kBAAM;AAAEF,QAAAA,UAAU,CAAC,IAAD,CAAV;AAAkB,OAHtC;AAII,MAAA,OAAO,EAAE,mBAAM;AAAEA,QAAAA,UAAU,CAAC,KAAD,CAAV;AAAmB,OAJxC;AAKI,MAAA,GAAG,EAAE7zB,KAAK,IAAI;AALlB,MADJ,eAQIgM,6BAAC6R,qBAAD;AAAQ,MAAA,IAAI,EAAE,IAAd;AAAoB,MAAA,QAAQ,EAAEiW,UAAU,KAAK,KAA7C;AAAoD,MAAA,KAAK,EAAE;AAAElR,QAAAA,SAAS,EAAE;AAAb,OAA3D;AAAoF,MAAA,OAAO,EAAE,mBAAM;AAAEiR,QAAAA,UAAU,CAAC,CAACD,OAAF,CAAV;AAAsB;AAA3H,oBACI5nB,6BAACgR,gCAAD;AAAiB,MAAA,IAAI,EAAE4W,OAAO,KAAK,IAAZ,GAAmB0B,yBAAnB,GAA6BC;AAApD,MADJ,CARJ,CAfR,CAxFR,CADG,CAAP;AAyHH,GA9HA,CADL,CADJ;AAmIH;;ACxMD,IAAM7K,KAAK,GAAG,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,EAAgC,QAAhC,EAA0C,OAA1C,EAAmD,OAAnD,EAA4D,MAA5D,EAAoE,QAApE,EAA8E,UAA9E,CAAd;AAEA,IAAM8K,WAAW,GAAG;AAChBvB,EAAAA,SAAS,EAAE,IADK;AAEhBY,EAAAA,KAAK,EAAE,EAFS;AAGhB/kB,EAAAA,IAAI,EAAE,IAHU;AAIhBolB,EAAAA,IAAI,EAAE,IAJU;AAKhBte,EAAAA,OAAO,EAAE;AALO,CAApB;AAQA,IAAM6e,SAAS,GAAG;AACdz1B,EAAAA,KAAK,EAAE,IADO;AAEd60B,EAAAA,KAAK,EAAE;AAFO,CAAlB;;AAKA,SAASa,iBAAT,CAA2BC,eAA3B,EAA4C;AACxC,SAAO,WAAWA,eAAlB;AACH;;AAED,SAASC,wBAAT,CAAkCC,KAAlC,EAAyCF,eAAzC,EAA0D;AACtDE,EAAAA,KAAK,GAAGA,KAAK,IAAIA,KAAK,CAACF,eAAD,CAAd,GAAkCE,KAAK,CAACF,eAAD,CAAvC,GAA2D,IAAnE;AACA,SAAOE,KAAP;AACH;;AAED,SAASC,YAAT,CAAsBtqB,KAAtB,EAA6B;AAAA,MACjBpE,YADiB,GAC4BoE,KAD5B,CACjBpE,YADiB;AAAA,MACHwtB,MADG,GAC4BppB,KAD5B,CACHopB,MADG;AAAA,MACK3O,QADL,GAC4Bza,KAD5B,CACKya,QADL;AAAA,MACe8P,QADf,GAC4BvqB,KAD5B,CACeuqB,QADf;;AAAA,kBAGO5iB,cAAQ,CAAC,EAAD,CAHf;AAAA,MAGpB6iB,SAHoB;AAAA,MAGTC,YAHS;;AAKzB3iB,EAAAA,eAAS,CAAC,YAAM;AACZ,QAAI1P,IAAI,GAAG9D,mBAAmB,CAACG,cAApB,MAAwCgD,SAAS,CAACU,cAAV,EAAxC,IAAsE,IAAjF;AAEA,QAAIqyB,SAAS,GAAGv0B,GAAC,CAACC,OAAF,CAAUkzB,MAAV,MAAsB,IAAtB,GAA6BxtB,YAAY,CAACquB,SAAb,IAA0B,YAAvD,GAAuEb,MAAM,CAACC,KAAP,CAAajxB,IAAb,KAAsBgxB,MAAM,CAAC50B,KAApH;AACAi2B,IAAAA,YAAY,CAACD,SAAD,CAAZ;AACH,GALQ,EAKN,EALM,CAAT;AAOA,sBACIhqB,6BAACoW,mBAAD;AAAM,IAAA,KAAK,EAAE;AAAEQ,MAAAA,SAAS,EAAE;AAAb;AAAb,kBACI5W,6BAACoW,mBAAD,CAAM,MAAN,qBACIpW,wCAAIgqB,SAAJ,CADJ,CADJ,eAIIhqB,6BAACoW,mBAAD,CAAM,IAAN,qBACIpW,0CACK5E,YAAY,CAAC8uB,mBAAb,IAAoC,2CADzC,CADJ,eAIIlqB,0CACK5E,YAAY,CAAC+uB,0BAAb,IAA2C,qEADhD,CAJJ,eAOInqB;AAAK,IAAA,KAAK,EAAE;AAAE4W,MAAAA,SAAS,EAAE,MAAb;AAAqB,eAAO;AAA5B;AAAZ,kBACI5W,6BAAC6R,qBAAD;AAAQ,IAAA,KAAK,EAAE;AAAEuY,MAAAA,WAAW,EAAE;AAAf,KAAf;AAA2C,IAAA,OAAO,EAAC,mBAAnD;AAAuE,IAAA,OAAO,EAAEnQ;AAAhF,UAA6F7e,YAAY,CAAC2I,MAAb,IAAuB,QAApH,CADJ,eAEI/D,6BAAC6R,qBAAD;AAAQ,IAAA,OAAO,EAAC,gBAAhB;AAAiC,IAAA,OAAO,EAAE,mBAAM;AAAEkY,MAAAA,QAAQ,CAACnB,MAAD,CAAR;AAAkB;AAApE,KACKxtB,YAAY,UAAZ,IAAuB,QAD5B,CAFJ,CAPJ,CAJJ,CADJ;AAqBH;;AAED,SAASivB,aAAT,CAAuB7qB,KAAvB,EAA8B;AAAA;;AAAA,MAClB8qB,eADkB,GACoD9qB,KADpD,CAClB8qB,eADkB;AAAA,MACDlvB,YADC,GACoDoE,KADpD,CACDpE,YADC;AAAA,MACawtB,MADb,GACoDppB,KADpD,CACaopB,MADb;AAAA,MACqBzS,MADrB,GACoD3W,KADpD,CACqB2W,MADrB;AAAA,MAC6BoU,QAD7B,GACoD/qB,KADpD,CAC6B+qB,QAD7B;AAAA,MACuCtQ,QADvC,GACoDza,KADpD,CACuCya,QADvC;AAE1B,MAAM9gB,WAAW,GAAGlC,SAAS,CAACU,cAAV,EAApB;AAEA,MAAM6yB,gBAAgB,GAAGC,UAAA,GAAaC,KAAb,CAAmB;AACxC12B,IAAAA,KAAK,EAAEy2B,UAAA,GACFE,SADE,CACQvvB,YAAY,CAACohB,aAAb,IAA8B,2BADtC,EAEFyM,QAFE,CAEO7tB,YAAY,CAACohB,aAAb,IAA8B,2BAFrC,EAGFoO,OAHE,CAGM,gBAHN,EAGyBxvB,YAAY,CAACyvB,2BAAb,IAA4C,kCAHrE,CADiC;AAKxChC,IAAAA,KAAK,EAAE4B,UAAA,GAAaC,KAAb,4CACFvxB,WADE,IACYsxB,UAAA,GACVE,SADU,EACGvvB,YAAY,CAAC0vB,2BAAb,IAA4C,yCAD/C,WAC6F3xB,WAD7F,EAEV8vB,QAFU,EAEE7tB,YAAY,CAAC0vB,2BAAb,IAA4C,yCAF9C,WAE4F3xB,WAF5F,CADZ;AALiC,GAAnB,CAAzB;;AAJ0B,mBAgBkBgO,cAAQ,CAAClQ,SAAS,CAACY,WAAV,MAA2B,IAA5B,CAhB1B;AAAA,MAgBrB8xB,eAhBqB;AAAA,MAgBJoB,kBAhBI;;AAAA,mBAiBM5jB,cAAQ,CAAC,EAAD,CAjBd;AAAA,MAiBrB6iB,SAjBqB;AAAA,MAiBVC,YAjBU;;AAsB1B3iB,EAAAA,eAAS,CAAC,YAAM;AACZ,QAAI1P,IAAI,GAAG9D,mBAAmB,CAACG,cAApB,MAAwCgD,SAAS,CAACU,cAAV,EAAxC,IAAsE,IAAjF;AAEA,QAAIqyB,SAAS,GAAGv0B,GAAC,CAACC,OAAF,CAAUkzB,MAAV,MAAsB,IAAtB,GAA6BxtB,YAAY,CAACquB,SAAb,IAA0B,YAAvD,GAAuEb,MAAM,CAACC,KAAP,CAAajxB,IAAb,KAAsBgxB,MAAM,CAAC50B,KAApH;AACAi2B,IAAAA,YAAY,CAACD,SAAD,CAAZ;AACH,GALQ,EAKN,EALM,CAAT;;AAUA,WAASgB,gBAAT,GAA4B;AACxB,QAAIC,aAAa,GAAGx1B,GAAC,CAACC,OAAF,CAAUkzB,MAAV,MAAsB,IAAtB,GAA6Ba,SAA7B,GAAyCb,MAA7D;AACA,WAAOqC,aAAP;AACH;;AAED,MAAIC,UAAU,GAAGz1B,GAAC,CAAC0O,IAAF,CAAOmmB,eAAP,EAAwB;AAAE,aAASX;AAAX,GAAxB,CAAjB;;AACA,sBACI3pB,6BAACmrB,aAAD;AACI,IAAA,gBAAgB,EAAEX,gBADtB;AAEI,IAAA,QAAQ,EAAE,kBAACY,MAAD,EAAS9a,OAAT,EAAqB;AAC3B,UAAI7a,GAAC,CAACC,OAAF,CAAUkzB,MAAV,MAAsB,IAA1B,EAAgC;AAC5BzS,QAAAA,MAAM,CAACiV,MAAD,CAAN;AACH,OAFD,MAEO;AACHb,QAAAA,QAAQ,CAACa,MAAD,CAAR;AACH;AACJ,KARL;AASI,IAAA,aAAa,EAAEJ,gBAAgB;AATnC,KAUK;AAAA,QAAGK,YAAH,QAAGA,YAAH;AAAA,QAAiBC,YAAjB,QAAiBA,YAAjB;AAAA,QAA+BF,MAA/B,QAA+BA,MAA/B;AAAA,QAAuCG,MAAvC,QAAuCA,MAAvC;AAAA,wBACGvrB,6BAACoW,mBAAD;AAAM,MAAA,KAAK,EAAE;AAAEQ,QAAAA,SAAS,EAAE;AAAb;AAAb,oBACI5W,6BAACoW,mBAAD,CAAM,MAAN,qBACIpW,wCAAIgqB,SAAJ,CADJ,eAEIhqB;AAAM,MAAA,KAAK,EAAE;AAAE,iBAAO;AAAT;AAAb,oBACIA,6BAAC,eAAD;AAAiB,MAAA,OAAO,EAAE5E,YAAY,CAACkb,IAAb,IAAqB,MAA/C;AAAuD,MAAA,WAAW,EAAE,MAApE;AAA4E,MAAA,OAAO,EAAE+U;AAArF,MADJ,eAEIrrB,6BAAC,iBAAD;AAAmB,MAAA,OAAO,EAAE5E,YAAY,CAAC2I,MAAb,IAAuB,QAAnD;AAA6D,MAAA,OAAO,EAAEkW;AAAtE,MAFJ,CAFJ,CADJ,eAQIja,6BAACoW,mBAAD,CAAM,IAAN,qBACIpW,6BAACwW,kBAAD;AAAK,MAAA,KAAK,EAAE;AAAEI,QAAAA,SAAS,EAAE;AAAb;AAAZ,oBACI5W,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,oBACIzW,6BAAC,gBAAD;AAAkB,MAAA,KAAK,EAAE5E,YAAY,CAACxB,QAAb,IAAyB;AAAlD,MADJ,eAEIoG,6BAAC,aAAD;AACI,MAAA,KAAK,EAAEkrB,UADX;AAEI,MAAA,QAAQ,EAAE,kBAACz4B,IAAD,EAAU;AAAEs4B,QAAAA,kBAAkB,CAACt4B,IAAI,CAACuB,KAAN,CAAlB;AAAgC,OAF1D;AAGI,MAAA,OAAO,EAAEs2B;AAHb,MAFJ,CADJ,CADJ,eAWItqB,6BAACwW,kBAAD;AAAK,MAAA,KAAK,EAAE;AAAEI,QAAAA,SAAS,EAAE;AAAb;AAAZ,oBACI5W,6BAACyW,kBAAD,qBACIzW,6BAAC,mBAAD;AAAqB,MAAA,KAAK,EAAG5E,YAAY,CAACowB,WAAb,IAA4B;AAAzD,MADJ,eAEIxrB,6BAACmc,0BAAD;AACI,MAAA,IAAI,EAAC,OADT;AAEI,MAAA,QAAQ,EAAE1mB,GAAC,CAACC,OAAF,CAAUkzB,MAAV,MAAsB,KAFpC;AAGI,MAAA,WAAW,EAAExtB,YAAY,CAACowB,WAAb,IAA4B,cAH7C;AAII,MAAA,KAAK,EAAEJ,MAAM,CAACp3B,KAAP,IAAgB,EAJ3B;AAKI,MAAA,QAAQ,EAAEs3B,YALd;AAMI,MAAA,SAAS,EAAEC,MAAM,CAACv3B;AANtB,MAFJ,eAUIgM,6BAACmc,0BAAD,CAAa,QAAb;AAAsB,MAAA,IAAI,EAAC;AAA3B,OAAsCoP,MAAM,CAACv3B,KAA7C,CAVJ,CADJ,CAXJ,eAyBIgM,6BAACwW,kBAAD;AAAK,MAAA,KAAK,EAAE;AAAEI,QAAAA,SAAS,EAAE;AAAb;AAAZ,oBACI5W,6BAACyW,kBAAD,qBACIzW,6BAAC,mBAAD;AAAqB,MAAA,KAAK,EAAE5E,YAAY,CAACqwB,WAAb,IAA4B;AAAxD,MADJ,eAEIzrB,6BAACopB,yBAAD,qBACIppB,6BAACopB,yBAAD,CAAY,OAAZ,qBACIppB,6BAACopB,yBAAD,CAAY,IAAZ,QAAkBO,eAAlB,CADJ,CADJ,eAII3pB,6BAACmc,0BAAD;AACI,MAAA,IAAI,EAAEuN,iBAAiB,CAACC,eAAD,CAD3B;AAEI,MAAA,WAAW,EAAEvuB,YAAY,CAACswB,aAAb,IAA8B,gBAF/C;AAGI,MAAA,KAAK,EAAE9B,wBAAwB,CAACwB,MAAM,CAACvC,KAAR,EAAec,eAAf,CAAxB,IAA2D,EAHtE;AAII,MAAA,QAAQ,EAAE2B,YAJd;AAKI,MAAA,SAAS,EAAEC,MAAM,CAAC1C,KAAP,IAAgB0C,MAAM,CAAC1C,KAAP,CAAa1vB,WAAb;AAL/B,MAJJ,eAWI6G,6BAACmc,0BAAD,CAAa,QAAb;AAAsB,MAAA,IAAI,EAAC;AAA3B,OAAsCoP,MAAM,CAAC1C,KAAP,IAAgB0C,MAAM,CAAC1C,KAAP,CAAa1vB,WAAb,CAAhB,GAA4CoyB,MAAM,CAAC1C,KAAP,CAAa1vB,WAAb,CAA5C,GAAwE,EAA9G,CAXJ,CAFJ,CADJ,CAzBJ,CARJ,CADH;AAAA,GAVL,CADJ;AAoEH;;AAED,SAASwyB,eAAT,CAAyBnsB,KAAzB,EAAgC;AAAA;;AAAA,MACpBpE,YADoB,GACyBoE,KADzB,CACpBpE,YADoB;AAAA,MACN+a,MADM,GACyB3W,KADzB,CACN2W,MADM;AAAA,MACE8D,QADF,GACyBza,KADzB,CACEya,QADF;AAAA,MACY2R,QADZ,GACyBpsB,KADzB,CACYosB,QADZ;AAE5B,MAAMzyB,WAAW,GAAGlC,SAAS,CAACU,cAAV,EAApB;AAEA,MAAM6yB,gBAAgB,GAAGC,UAAA,GAAaC,KAAb,CAAmB;AACxCzC,IAAAA,SAAS,EAAEwC,UAAA,GACNE,SADM,CACIvvB,YAAY,CAACohB,aAAb,IAA8B,2BADlC,EAENyM,QAFM,CAEG7tB,YAAY,CAACohB,aAAb,IAA8B,2BAFjC,EAGN7H,GAHM,CAGF,CAHE,EAGEvZ,YAAY,CAACywB,oBAAb,IAAqC,yBAHvC,EAINjB,OAJM,CAIE,sBAJF,EAI2BxvB,YAAY,CAAC0wB,mCAAb,IAAoD,iEAJ/E,CAD6B;AAMxCjD,IAAAA,KAAK,EAAE4B,UAAA,GAAaC,KAAb,8CACFvxB,WADE,IACYsxB,UAAA,GACVE,SADU,EACGvvB,YAAY,CAAC0vB,2BAAb,IAA4C,yCAD/C,WAC6F3xB,WAD7F,EAEV8vB,QAFU,EAEE7tB,YAAY,CAAC0vB,2BAAb,IAA4C,yCAF9C,WAE4F3xB,WAF5F,CADZ,sBANiC;AAWxC2K,IAAAA,IAAI,EAAE2mB,UAAA,GACDE,SADC,CACSvvB,YAAY,CAACohB,aAAb,IAA8B,2BADvC,EAEDyM,QAFC,CAEQ7tB,YAAY,CAACohB,aAAb,IAA8B,2BAFtC,CAXkC;AAcxC0M,IAAAA,IAAI,EAAEuB,UAAA,GACDsB,QADC,CACQ,IADR,EAEDC,IAFC,CAEI,MAFJ,EAEY;AACVC,MAAAA,EAAE,EAAE,QADM;AAEV55B,MAAAA,IAAI,EAAEo4B,UAAA,GACDE,SADC,CACSvvB,YAAY,CAACohB,aAAb,IAA8B,2BADvC,EAEDyM,QAFC,CAEQ7tB,YAAY,CAACohB,aAAb,IAA8B,2BAFtC,EAGDoO,OAHC,CAGO,WAHP,EAGqBxvB,YAAY,CAAC8wB,yBAAb,IAA0C,8BAH/D;AAFI,KAFZ;AAdkC,GAAnB,CAAzB;;AAJ4B,mBA6BI/kB,cAAQ,CAAC,IAAD,CA7BZ;AAAA,MA6BvB6iB,SA7BuB;AAAA,MA6BZC,YA7BY;;AAAA,mBA8BgB9iB,cAAQ,CAAC,EAAD,CA9BxB;AAAA,MA8BvBmjB,eA9BuB;AAAA,MA8BN6B,kBA9BM;;AAAA,mBA+BgBhlB,cAAQ,CAAClQ,SAAS,CAACY,WAAV,MAA2B,IAA5B,CA/BxB;AAAA,MA+BvB8xB,eA/BuB;AAAA,MA+BNoB,kBA/BM;;AAAA,mBAgCQ5jB,cAAQ,CAAC,EAAD,CAhChB;AAAA,MAgCvBilB,WAhCuB;AAAA,MAgCVC,cAhCU;;AAAA,mBAiCoBllB,cAAQ,CAAC,KAAD,CAjC5B;AAAA,MAiCvBmlB,iBAjCuB;AAAA,MAiCJC,oBAjCI;;AAAA,mBAkCkBplB,cAAQ,CAAC,KAAD,CAlC1B;AAAA,MAkCvBqlB,gBAlCuB;AAAA,MAkCLC,mBAlCK;;AAAA,oBAmCctlB,cAAQ,CAAC,EAAD,CAnCtB;AAAA,MAmCvBulB,cAnCuB;AAAA,MAmCPC,iBAnCO;;AAwC5BrlB,EAAAA,eAAS,CAAC,YAAM;AACZ,QAAI1P,IAAI,GAAG9D,mBAAmB,CAACG,cAApB,MAAwCgD,SAAS,CAACU,cAAV,EAAxC,IAAsE,IAAjF;AACA,QAAIqyB,SAAS,GAAGv0B,GAAC,CAACC,OAAF,CAAUk2B,QAAV,MAAwB,IAAxB,GAA+BxwB,YAAY,CAACouB,WAAb,IAA4B,cAA3D,GAA6EoC,QAAQ,CAAC/C,KAAT,CAAejxB,IAAf,KAAwBg0B,QAAQ,CAAC3D,SAA9H;AAGA,QAAI9vB,SAAS,GAAGlB,SAAS,CAACa,oBAAV,MAAoC,CAAC,IAAD,CAApD;;AACA,QAAIwyB,eAAe,GAAG70B,GAAC,CAACgN,GAAF,CAAMtK,SAAN,EAAiB,UAACP,IAAD,EAAU;AAC7C,aAAO;AAAE,iBAASA,IAAX;AAAiB,iBAASA;AAA1B,OAAP;AACH,KAFqB,CAAtB;;AAIA,QAAIw0B,WAAW,GAAG32B,GAAC,CAACgN,GAAF,CAAMic,KAAN,EAAa,UAAC5a,IAAD,EAAU;AACrC,UAAI+kB,KAAK,GAAGztB,YAAY,CAAC0I,IAAD,CAAZ,IAAsBA,IAAlC;AACA,aAAO;AAAE,iBAASA,IAAX;AAAiB,iBAAS+kB;AAA1B,OAAP;AACH,KAHiB,CAAlB;;AAIAuD,IAAAA,WAAW,GAAG32B,GAAC,CAACotB,MAAF,CAASuJ,WAAT,EAAsB,OAAtB,CAAd;AAEAnC,IAAAA,YAAY,CAACD,SAAD,CAAZ;AACAmC,IAAAA,kBAAkB,CAAC7B,eAAD,CAAlB;AACA+B,IAAAA,cAAc,CAACD,WAAD,CAAd;AACH,GAnBQ,EAmBN,EAnBM,CAAT;;AAqBA,WAASQ,SAAT,CAAmBxB,MAAnB,EAA2ByB,aAA3B,EAA0CpD,SAA1C,EAAqD;AACjD,QAAI7e,OAAO,GAAGnV,GAAC,CAACyyB,SAAF,CAAYkD,MAAZ,EAAoBxgB,OAApB,IAA+B,EAA7C;;AAEA,QAAIlH,GAAG,GAAGjO,GAAC,CAAC0O,IAAF,CAAOyG,OAAP,EAAgB;AAAE,eAAS6e,SAAS,CAACz1B;AAArB,KAAhB,CAAV;;AACA,QAAI0P,GAAJ,EAAS;AACL8P,MAAAA,mBAAK,CAACC,IAAN,CAAWrY,YAAY,CAAC0xB,iCAAb,IAAkD,kDAA7D;AACH,KAFD,MAEO;AACHliB,MAAAA,OAAO,CAACgY,IAAR,CAAa6G,SAAb;AACAoD,MAAAA,aAAa,CAAC,SAAD,EAAYjiB,OAAZ,CAAb;AACA2hB,MAAAA,oBAAoB,CAAC,KAAD,CAApB;AACH;AACJ;;AAED,WAASQ,YAAT,CAAsB3B,MAAtB,EAA8ByB,aAA9B,EAA6CjE,MAA7C,EAAqD;AACjD,QAAIhe,OAAO,GAAGnV,GAAC,CAACyyB,SAAF,CAAYkD,MAAZ,EAAoBxgB,OAApB,IAA+B,EAA7C;;AAEA,QAAIoiB,GAAG,GAAGv3B,GAAC,CAACw3B,SAAF,CAAYriB,OAAZ,EAAqB,CAAC,OAAD,EAAUge,MAAM,CAAC50B,KAAjB,CAArB,CAAV;;AACA4W,IAAAA,OAAO,CAACsiB,MAAR,CAAeF,GAAf,EAAoB,CAApB,EAAuBpE,MAAvB;AACAiE,IAAAA,aAAa,CAAC,SAAD,EAAYjiB,OAAZ,CAAb;AACA2hB,IAAAA,oBAAoB,CAAC,KAAD,CAApB;AACH;;AAED,WAASY,YAAT,CAAsB/B,MAAtB,EAA8ByB,aAA9B,EAA6CjE,MAA7C,EAAqD;AACjD,QAAIhe,OAAO,GAAGnV,GAAC,CAACyyB,SAAF,CAAYkD,MAAZ,EAAoBxgB,OAApB,IAA+B,EAA7C;;AAEA,QAAIoiB,GAAG,GAAGv3B,GAAC,CAACw3B,SAAF,CAAYriB,OAAZ,EAAqB,CAAC,OAAD,EAAUge,MAAM,CAAC50B,KAAjB,CAArB,CAAV;;AACA4W,IAAAA,OAAO,CAACsiB,MAAR,CAAeF,GAAf,EAAoB,CAApB;AACAH,IAAAA,aAAa,CAAC,SAAD,EAAYjiB,OAAZ,CAAb;AACA6hB,IAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACH;;AAKD,WAASzB,gBAAT,GAA4B;AACxB,QAAIC,aAAa,GAAGx1B,GAAC,CAACC,OAAF,CAAUk2B,QAAV,MAAwB,IAAxB,GAA+BpC,WAA/B,GAA6CoC,QAAjE;AACA,WAAOX,aAAP;AACH;;AAED,MAAIC,UAAU,GAAGz1B,GAAC,CAAC0O,IAAF,CAAOmmB,eAAP,EAAwB;AAAE,aAASX;AAAX,GAAxB,CAAjB;;AACA,sBACI3pB,6BAACmrB,aAAD;AACI,IAAA,gBAAgB,EAAEX,gBADtB;AAEI,IAAA,QAAQ,EAAE,kBAACY,MAAD,EAAS9a,OAAT,EAAqB;AAC3B6F,MAAAA,MAAM,CAACiV,MAAD,CAAN;AACH,KAJL;AAKI,IAAA,aAAa,EAAEJ,gBAAgB;AALnC,KAMK;AAAA,QAAGK,YAAH,SAAGA,YAAH;AAAA,QAAiBC,YAAjB,SAAiBA,YAAjB;AAAA,QAA+BF,MAA/B,SAA+BA,MAA/B;AAAA,QAAuCgC,AAAS7B,MAAhD,SAAgDA,MAAhD;AAAA,QAAwDsB,aAAxD,SAAwDA,aAAxD;AAAA,QAAuEQ,SAAvE,SAAuEA,SAAvE;AAAA,wBACGrtB,6BAACoW,mBAAD,qBACIpW,6BAACoW,mBAAD,CAAM,MAAN,qBACIpW,wCAAIgqB,SAAJ,CADJ,eAEIhqB;AAAM,MAAA,KAAK,EAAE;AAAE,iBAAO;AAAT;AAAb,oBACIA,6BAAC,eAAD;AAAiB,MAAA,QAAQ,EAAEssB,iBAAiB,KAAK,IAAtB,IAA8BE,gBAAgB,KAAK,IAA9E;AAAoF,MAAA,OAAO,EAAEpxB,YAAY,CAACkb,IAAb,IAAqB,MAAlH;AAA0H,MAAA,WAAW,EAAE,MAAvI;AAA+I,MAAA,OAAO,EAAE+U;AAAxJ,MADJ,eAEIrrB,6BAAC,iBAAD;AAAmB,MAAA,OAAO,EAAE5E,YAAY,CAAC2I,MAAb,IAAuB,QAAnD;AAA6D,MAAA,OAAO,EAAEkW;AAAtE,MAFJ,CAFJ,CADJ,eAQIja,6BAACoW,mBAAD,CAAM,IAAN,qBACIpW,6BAACwW,kBAAD,qBACIxW,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,oBACIzW,6BAAC,gBAAD;AAAkB,MAAA,KAAK,EAAE5E,YAAY,CAACxB,QAAb,IAAyB;AAAlD,MADJ,eAEIoG,6BAAC,aAAD;AACI,MAAA,KAAK,EAAEkrB,UADX;AAEI,MAAA,QAAQ,EAAE,kBAACz4B,IAAD,EAAU;AAAEs4B,QAAAA,kBAAkB,CAACt4B,IAAI,CAACuB,KAAN,CAAlB;AAAgC,OAF1D;AAGI,MAAA,OAAO,EAAEs2B;AAHb,MAFJ,CADJ,CADJ,eAWItqB,6BAACwW,kBAAD;AAAK,MAAA,KAAK,EAAE;AAAEI,QAAAA,SAAS,EAAE;AAAb;AAAZ,oBACI5W,6BAACyW,kBAAD,qBACIzW,6BAAC,mBAAD;AAAqB,MAAA,KAAK,EAAE,CAAC5E,YAAY,CAACkyB,iBAAb,IAAkC,qBAAnC,IAA4D,KAA5D,IAAqElyB,YAAY,CAACmyB,WAAb,IAA4B,aAAjG,IAAkH;AAA9I,MADJ,eAEIvtB,6BAACmc,0BAAD;AACI,MAAA,IAAI,EAAC,WADT;AAEI,MAAA,QAAQ,EAAE1mB,GAAC,CAACC,OAAF,CAAUk2B,QAAV,MAAwB,KAFtC;AAGI,MAAA,WAAW,EAAExwB,YAAY,CAACkyB,iBAAb,IAAkC,qBAHnD;AAII,MAAA,KAAK,EAAElC,MAAM,CAACnD,SAAP,IAAoB,EAJ/B;AAKI,MAAA,QAAQ,EAAEqD,YALd;AAMI,MAAA,SAAS,EAAEC,MAAM,CAACtD;AANtB,MAFJ,eAUIjoB,6BAACmc,0BAAD,CAAa,QAAb;AAAsB,MAAA,IAAI,EAAC;AAA3B,OAAsCoP,MAAM,CAACtD,SAA7C,CAVJ,CADJ,CAXJ,eAyBIjoB,6BAACwW,kBAAD;AAAK,MAAA,KAAK,EAAE;AAAEI,QAAAA,SAAS,EAAE;AAAb;AAAZ,oBACI5W,6BAACyW,kBAAD,qBACIzW,6BAAC,mBAAD;AAAqB,MAAA,KAAK,EAAE5E,YAAY,CAACswB,aAAb,IAA8B;AAA1D,MADJ,eAEI1rB,6BAACopB,yBAAD,qBACIppB,6BAACopB,yBAAD,CAAY,OAAZ,qBACIppB,6BAACopB,yBAAD,CAAY,IAAZ,QAAkBO,eAAlB,CADJ,CADJ,eAII3pB,6BAACmc,0BAAD;AACI,MAAA,IAAI,EAAEuN,iBAAiB,CAACC,eAAD,CAD3B;AAEI,MAAA,WAAW,EAAEvuB,YAAY,CAACswB,aAAb,IAA8B,gBAF/C;AAGI,MAAA,KAAK,EAAE9B,wBAAwB,CAACwB,MAAM,CAACvC,KAAR,EAAec,eAAf,CAAxB,IAA2D,EAHtE;AAII,MAAA,QAAQ,EAAE2B,YAJd;AAKI,MAAA,SAAS,EAAEC,MAAM,CAAC1C,KAAP,IAAgB0C,MAAM,CAAC1C,KAAP,CAAa1vB,WAAb;AAL/B,MAJJ,eAWI6G,6BAACmc,0BAAD,CAAa,QAAb;AAAsB,MAAA,IAAI,EAAC;AAA3B,OAAsCoP,MAAM,CAAC1C,KAAP,IAAgB0C,MAAM,CAAC1C,KAAP,CAAa1vB,WAAb,CAAhB,GAA4CoyB,MAAM,CAAC1C,KAAP,CAAa1vB,WAAb,CAA5C,GAAwE,EAA9G,CAXJ,CAFJ,CADJ,CAzBJ,eA2CI6G,6BAACwW,kBAAD;AAAK,MAAA,KAAK,EAAE;AAAEI,QAAAA,SAAS,EAAE;AAAb;AAAZ,oBACI5W,6BAACyW,kBAAD,qBACIzW,6BAAC,mBAAD;AAAqB,MAAA,KAAK,EAAE5E,YAAY,CAACoyB,YAAb,IAA6B;AAAzD,MADJ,eAEIxtB,6BAAC,aAAD;AACI,MAAA,SAAS,EAAEurB,MAAM,CAACznB,IADtB;AAEI,MAAA,UAAU,EAAErO,GAAC,CAACC,OAAF,CAAUk2B,QAAV,MAAwB,KAFxC;AAGI,MAAA,QAAQ,EAAEL,MAAM,CAACznB,IAHrB;AAII,MAAA,KAAK,EAAErO,GAAC,CAAC0O,IAAF,CAAOioB,WAAP,EAAoB;AAAE,iBAAShB,MAAM,CAACtnB;AAAlB,OAApB,CAJX;AAKI,MAAA,WAAW,EAAE1I,YAAY,CAACoyB,YAAb,IAA6B,eAL9C;AAMI,MAAA,OAAO,EAAEpB,WANb;AAOI,MAAA,QAAQ,EAAE,kBAAC35B,IAAD,EAAU;AAChB,YAAIuB,KAAK,GAAGvB,IAAI,GAAGA,IAAI,CAACuB,KAAR,GAAgB,IAAhC;AACAq5B,QAAAA,SAAS,cACFjC,MADE;AAELtnB,UAAAA,IAAI,EAAE9P,KAFD;AAGLk1B,UAAAA,IAAI,EAAEl1B,KAAK,KAAK,QAAV,GAAqB,KAArB,GAA6B,IAH9B;AAIL4W,UAAAA,OAAO,EAAE5W,KAAK,KAAK,QAAV,GAAqB,EAArB,GAA0B;AAJ9B,WAAT;AAMH;AAfL,MAFJ,CADJ,CA3CJ,EAiEKo3B,MAAM,CAACtnB,IAAP,IAAesnB,MAAM,CAACtnB,IAAP,KAAgB,QAA/B,iBACG9D,6BAACwW,kBAAD;AAAK,MAAA,KAAK,EAAE;AAAEI,QAAAA,SAAS,EAAE;AAAb;AAAZ,oBACI5W,6BAACyW,kBAAD,qBACIzW,6BAAC,gBAAD;AAAkB,MAAA,KAAK,EAAG5E,YAAY,CAACqyB,UAAb,IAA2B;AAArD,MADJ,eAEIztB,6BAACmc,0BAAD;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,WAAW,EAAE/gB,YAAY,CAAC8tB,IAAb,IAAqB,aAFtC;AAGI,MAAA,KAAK,EAAEkC,MAAM,CAAClC,IAAP,IAAe,EAH1B;AAII,MAAA,QAAQ,EAAEoC,YAJd;AAKI,MAAA,SAAS,EAAEC,MAAM,CAACrC;AALtB,MAFJ,eASIlpB,6BAACmc,0BAAD,CAAa,QAAb;AAAsB,MAAA,IAAI,EAAC;AAA3B,OAAsCoP,MAAM,CAACrC,IAA7C,CATJ,CADJ,CAlER,EAgFKkC,MAAM,CAACtnB,IAAP,IAAesnB,MAAM,CAACtnB,IAAP,KAAgB,QAA/B,iBACG9D,6BAACA,cAAD,CAAO,QAAP,qBACIA,6BAACwW,kBAAD;AAAK,MAAA,KAAK,EAAE;AAAEI,QAAAA,SAAS,EAAE;AAAb;AAAZ,oBACI5W,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,oBACIzW,6BAAC,gBAAD;AAAkB,MAAA,KAAK,EAAG5E,YAAY,CAACwP,OAAb,IAAwB;AAAlD,MADJ,CADJ,eAII5K,6BAACyW,kBAAD;AAAK,MAAA,EAAE,EAAE;AAAT,oBACIzW;AAAK,MAAA,KAAK,EAAE;AAAE,iBAAO;AAAT;AAAZ,OACKssB,iBAAiB,KAAK,IAAtB,iBACGtsB,6BAAC,cAAD;AAAgB,eAAM,OAAtB;AAA8B,MAAA,OAAO,EAAE5E,YAAY,CAACwxB,SAAb,IAA0B,YAAjE;AAA+E,MAAA,OAAO,EAAE,mBAAM;AAC1FL,QAAAA,oBAAoB,CAAC,IAAD,CAApB;AACAI,QAAAA,iBAAiB,CAAC,EAAD,CAAjB;AACH;AAHD,MAFR,CADJ,CAJJ,CADJ,EAiBKL,iBAAiB,KAAK,IAAtB,iBACGtsB,6BAAC,aAAD;AACI,MAAA,YAAY,EAAE5E,YADlB;AAEI,MAAA,eAAe,EAAEkvB,eAFrB;AAGI,MAAA,MAAM,EAAEoC,cAHZ;AAII,MAAA,MAAM,EAAE,gBAAC9D,MAAD,EAAY;AAAEgE,QAAAA,SAAS,CAACxB,MAAD,EAASyB,aAAT,EAAwBjE,MAAxB,CAAT;AAA0C,OAJpE;AAKI,MAAA,QAAQ,EAAE,kBAACA,MAAD,EAAY;AAAEmE,QAAAA,YAAY,CAAC3B,MAAD,EAASyB,aAAT,EAAwBjE,MAAxB,CAAZ;AAA6C,OALzE;AAMI,MAAA,QAAQ,EAAE,oBAAM;AAAE2D,QAAAA,oBAAoB,CAAC,KAAD,CAApB;AAA6B;AANnD,MAlBR,EA2BKC,gBAAgB,KAAK,IAArB,iBACGxsB,6BAAC,YAAD;AACI,MAAA,YAAY,EAAE5E,YADlB;AAEI,MAAA,MAAM,EAAEsxB,cAFZ;AAGI,MAAA,QAAQ,EAAE,kBAAC9D,MAAD,EAAY;AAAEuE,QAAAA,YAAY,CAAC/B,MAAD,EAASyB,aAAT,EAAwBjE,MAAxB,CAAZ;AAA6C,OAHzE;AAII,MAAA,QAAQ,EAAE,oBAAM;AAAE6D,QAAAA,mBAAmB,CAAC,KAAD,CAAnB;AAA4B;AAJlD,MA5BR,EAmCKrB,MAAM,CAACxgB,OAAP,CAAepI,MAAf,KAA0B,CAA1B,IAA+B8pB,iBAAiB,KAAK,KAArD,IAA8DE,gBAAgB,KAAK,KAAnF,iBACGxsB,6BAACwW,kBAAD;AAAK,MAAA,KAAK,EAAE;AAAEI,QAAAA,SAAS,EAAE;AAAb;AAAZ,oBACI5W,6BAACyW,kBAAD,QACKrb,YAAY,CAACsyB,uBAAb,IAAwC,6BAD7C,CADJ,CApCR,EA0CKtC,MAAM,CAACxgB,OAAP,CAAepI,MAAf,GAAwB,CAAxB,IAA6B8pB,iBAAiB,KAAK,KAAnD,IAA4DE,gBAAgB,KAAK,KAAjF,iBACGxsB,6BAACwW,kBAAD;AAAK,MAAA,KAAK,EAAE;AAAEI,QAAAA,SAAS,EAAE;AAAb;AAAZ,OACKnhB,GAAC,CAACgN,GAAF,CAAM2oB,MAAM,CAACxgB,OAAP,IAAkB,EAAxB,EAA4B,UAACge,MAAD,EAAY;AACrC,UAAIC,KAAK,GAAGD,MAAM,CAACC,KAAP,CAAac,eAAb,CAAZ;AAEA,0BAAO3pB,6BAACA,cAAD,CAAO,QAAP,qBACHA,6BAACyW,kBAAD;AAAK,QAAA,EAAE,EAAE;AAAT,SACKoS,KADL,CADG,eAIH7oB,6BAACyW,kBAAD;AAAK,QAAA,EAAE,EAAE;AAAT,sBACIzW,6BAAC2tB,0BAAD;AAAa,QAAA,KAAK,EAAE;AAAE,mBAAO;AAAT;AAApB,sBACI3tB,6BAACyO,aAAD;AAAS,QAAA,GAAG,EAAC,aAAb;AAA2B,QAAA,OAAO,EAAErT,YAAY,CAACwyB,YAAb,IAA6B;AAAjE,sBACI5tB,6BAAC6R,qBAAD;AAAQ,QAAA,OAAO,EAAC,iBAAhB;AAAkC,QAAA,OAAO,EAAE,mBAAM;AAC7C0a,UAAAA,oBAAoB,CAAC,IAAD,CAApB;AACAI,UAAAA,iBAAiB,CAAC/D,MAAD,CAAjB;AACH;AAHD,sBAII5oB,6BAACgR,gCAAD;AAAiB,QAAA,IAAI,EAAEI;AAAvB,QAJJ,CADJ,CADJ,eASIpR,6BAACyO,aAAD;AAAS,QAAA,GAAG,EAAC,eAAb;AAA6B,QAAA,OAAO,EAAErT,YAAY,UAAZ,IAAuB;AAA7D,sBACI4E,6BAAC6R,qBAAD;AAAQ,QAAA,OAAO,EAAC,gBAAhB;AAAiC,QAAA,OAAO,EAAE,mBAAM;AAC5C4a,UAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACAE,UAAAA,iBAAiB,CAAC/D,MAAD,CAAjB;AACH;AAHD,sBAII5oB,6BAACgR,gCAAD;AAAiB,QAAA,IAAI,EAAES;AAAvB,QAJJ,CADJ,CATJ,CADJ,CAJG,CAAP;AAyBH,KA5BA,CADL,CA3CR,CAjFR,CARJ,CADH;AAAA,GANL,CADJ;AAmLH;;ACjdD,SAASoc,cAAT,CAAwBruB,KAAxB,EAA+B;AAAA,MACnBpE,YADmB,GAC4BoE,KAD5B,CACnBpE,YADmB;AAAA,MACL2uB,QADK,GAC4BvqB,KAD5B,CACLuqB,QADK;AAAA,MACK9P,QADL,GAC4Bza,KAD5B,CACKya,QADL;AAAA,MACe2R,QADf,GAC4BpsB,KAD5B,CACeosB,QADf;AAM3B,MAAI3D,SAAS,GAAG2D,QAAQ,IAAIA,QAAQ,CAAC3D,SAArB,GAAiC2D,QAAQ,CAAC3D,SAA1C,GAAsD,IAAtE;AACA,MAAI6F,QAAQ,GAAGlC,QAAQ,IAAIA,QAAQ,CAACmC,SAArB,GAAiCnC,QAAQ,CAACmC,SAA1C,GAAsD,EAArE;AAEA,sBACI/tB,6BAACA,cAAD,CAAO,QAAP,qBACIA,6BAACka,oBAAD,CAAO,MAAP,qBACIla,6BAACka,oBAAD,CAAO,KAAP,QACK9e,YAAY,UAAZ,IAAuB,QAD5B,EACsC,GADtC,QAC4C6sB,SAD5C,OADJ,CADJ,eAMIjoB,6BAACka,oBAAD,CAAO,IAAP,QACK4T,QAAQ,CAACtrB,MAAT,KAAoB,CAApB,iBACGxC,0CACK5E,YAAY,CAAC4yB,qBAAb,IAAsC,2CAD3C,EACwF,GADxF,eAC4FhuB,wCAAIioB,SAAJ,CAD5F,MAFR,EAMK6F,QAAQ,CAACtrB,MAAT,GAAkB,CAAlB,iBACGxC,0CACK5E,YAAY,CAAC6yB,yBAAb,IAA0C,iEAD/C,CAPR,CANJ,eAkBIjuB,6BAACka,oBAAD,CAAO,MAAP,qBACIla,6BAAC6R,qBAAD;AAAQ,IAAA,OAAO,EAAC,mBAAhB;AAAoC,IAAA,OAAO,EAAEoI;AAA7C,UAA0D7e,YAAY,CAAC2I,MAAb,IAAuB,QAAjF,CADJ,EAEK+pB,QAAQ,CAACtrB,MAAT,KAAoB,CAApB,iBACGxC,6BAAC6R,qBAAD;AAAQ,IAAA,OAAO,EAAC,gBAAhB;AAAiC,IAAA,OAAO,EAAE,mBAAM;AAC5CkY,MAAAA,QAAQ,CAAC6B,QAAD,CAAR;AACH;AAFD,KAGKxwB,YAAY,UAAZ,IAAuB,QAH5B,CAHR,CAlBJ,CADJ;AA+BH;;AC3BD,SAAS8yB,iBAAT,CAA2B1uB,KAA3B,EAAkC;AAAA,MACtBpE,YADsB,GAC+BoE,KAD/B,CACtBpE,YADsB;AAAA,MACR+yB,KADQ,GAC+B3uB,KAD/B,CACR2uB,KADQ;AAAA,MACD7jB,QADC,GAC+B9K,KAD/B,CACD8K,QADC;AAAA,MACS8jB,iBADT,GAC+B5uB,KAD/B,CACS4uB,iBADT;;AAAA,kBAGRjnB,cAAQ,CAAC,EAAD,CAHA;AAAA,MAGzBuO,IAHyB;AAAA,MAGnB2Y,OAHmB;;AAAA,mBAIUlnB,cAAQ,CAAC,KAAD,CAJlB;AAAA,MAIzBmnB,aAJyB;AAAA,MAIVC,gBAJU;;AAAA,mBAKcpnB,cAAQ,CAAC,KAAD,CALtB;AAAA,MAKzBqnB,eALyB;AAAA,MAKRC,kBALQ;;AAAA,mBAMgBtnB,cAAQ,CAAC,IAAD,CANxB;AAAA,MAMzBunB,gBANyB;AAAA,MAMPC,mBANO;;AAW9BrnB,EAAAA,eAAS,CAAC,YAAM;AACZ,QAAIsnB,MAAM,GAAGn5B,GAAC,CAACC,OAAF,CAAU04B,iBAAV,MAAiC,IAAjC,GAAwC,EAAxC,GAA6CA,iBAA1D;AACA,QAAI1Y,IAAI,GAAGmZ,SAAS,CAACD,MAAD,CAApB;AACAP,IAAAA,OAAO,CAAC3Y,IAAD,CAAP;AACH,GAJQ,EAIN,CAAC0Y,iBAAD,CAJM,CAAT;;AAMA,WAASU,UAAT,CAAoBjG,KAApB,EAA2B;AACvB,QAAIjxB,IAAI,GAAG9D,mBAAmB,CAACG,cAApB,MAAwCgD,SAAS,CAACU,cAAV,EAAxC,IAAsE,IAAjF;AACAkxB,IAAAA,KAAK,GAAGA,KAAK,IAAIA,KAAK,CAACjxB,IAAD,CAAd,GAAuBixB,KAAK,CAACjxB,IAAD,CAA5B,GAAqC,IAA7C;AACA,WAAOixB,KAAP;AACH;;AAED,WAASkG,YAAT,CAAsBnD,QAAtB,EAAgC;AAC5B,wBAAO5rB,6BAACgvB,4BAAD,qBACHhvB,6BAAC2tB,0BAAD,qBACI3tB,6BAACyO,aAAD;AAAS,MAAA,GAAG,EAAC,eAAb;AAA6B,MAAA,OAAO,EAAErT,YAAY,CAAC6zB,YAAb,IAA6B;AAAnE,oBACIjvB,6BAAC6R,qBAAD;AAAQ,MAAA,OAAO,EAAC,iBAAhB;AAAkC,MAAA,OAAO,EAAE,mBAAM;AAC7C8c,QAAAA,mBAAmB,CAAC/C,QAAD,CAAnB;AACA2C,QAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACH;AAHD,oBAIIvuB,6BAACgR,gCAAD;AAAiB,MAAA,IAAI,EAAEI;AAAvB,MAJJ,CADJ,CADJ,eASIpR,6BAACyO,aAAD;AAAS,MAAA,GAAG,EAAC,iBAAb;AAA+B,MAAA,OAAO,EAAErT,YAAY,UAAZ,IAAuB;AAA/D,oBACI4E,6BAAC6R,qBAAD;AAAQ,MAAA,OAAO,EAAC,gBAAhB;AAAiC,MAAA,OAAO,EAAE,mBAAM;AAC5C8c,QAAAA,mBAAmB,CAAC/C,QAAD,CAAnB;AACA6C,QAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACH;AAHD,oBAIIzuB,6BAACgR,gCAAD;AAAiB,MAAA,IAAI,EAAES;AAAvB,MAJJ,CADJ,CATJ,CADG,CAAP;AAoBH;;AAED,WAASod,SAAT,CAAmBD,MAAnB,EAA2B;AACvB,QAAIlZ,IAAI,GAAG,EAAX;;AACAjgB,IAAAA,GAAC,CAACiG,IAAF,CAAOkzB,MAAP,EAAe,UAAChD,QAAD,EAAc;AACzB,UAAI/C,KAAK,GAAGiG,UAAU,CAAClD,QAAQ,CAAC/C,KAAV,CAAtB;AACA,UAAI/kB,IAAI,GAAG8nB,QAAQ,CAAC9nB,IAApB;AACA,UAAIwM,OAAO,GAAGye,YAAY,CAACnD,QAAD,CAA1B;AAEAlW,MAAAA,IAAI,CAACkN,IAAL,CAAU;AACNqF,QAAAA,SAAS,EAAE2D,QAAQ,CAAC3D,SADd;AAENY,QAAAA,KAAK,EAAEA,KAFD;AAGN/kB,QAAAA,IAAI,EAAE1I,YAAY,CAAC0I,IAAD,CAAZ,IAAsBA,IAHtB;AAINwM,QAAAA,OAAO,EAAEA;AAJH,OAAV;AAMH,KAXD;;AAaA,WAAOoF,IAAP;AACH;;AAKD,WAASwZ,cAAT,CAAwBtD,QAAxB,EAAkC;AAC9B,QAAIuD,SAAS,GAAG15B,GAAC,CAACyyB,SAAF,CAAYkG,iBAAZ,KAAkC,EAAlD;;AAEA,QAAIpB,GAAG,GAAGv3B,GAAC,CAACw3B,SAAF,CAAYkC,SAAZ,EAAuB;AAAE,mBAAavD,QAAQ,CAAC3D;AAAxB,KAAvB,CAAV;;AACA,QAAIxyB,GAAC,CAACC,OAAF,CAAUg5B,gBAAV,MAAgC,IAAhC,IAAwC1B,GAAG,KAAK,CAAC,CAArD,EAAwD;AAEpDxZ,MAAAA,mBAAK,CAACC,IAAN,CAAWrY,YAAY,CAACg0B,4BAAb,IAA6C,oDAAxD;AACH,KAHD,MAGO,IAAI35B,GAAC,CAACC,OAAF,CAAUg5B,gBAAV,MAAgC,IAAhC,IAAwC1B,GAAG,KAAK,CAAC,CAArD,EAAwD;AAE3DmC,MAAAA,SAAS,CAACvM,IAAV,CAAegJ,QAAf;AACH,KAHM,MAGA,IAAIn2B,GAAC,CAACC,OAAF,CAAUg5B,gBAAV,MAAgC,KAAhC,IAAyC1B,GAAG,KAAK,CAAC,CAAtD,EAAyD;AAE5DmC,MAAAA,SAAS,CAACjC,MAAV,CAAiBF,GAAjB,EAAsB,CAAtB,EAAyBpB,QAAzB;AACH;;AAED2C,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAjkB,IAAAA,QAAQ,CAAC6kB,SAAD,CAAR;AACH;;AAED,WAASE,cAAT,CAAwBzD,QAAxB,EAAkC;AAC9B,QAAIuD,SAAS,GAAG15B,GAAC,CAACyyB,SAAF,CAAYkG,iBAAZ,CAAhB;;AACA,QAAIpB,GAAG,GAAGv3B,GAAC,CAACw3B,SAAF,CAAYkC,SAAZ,EAAuB;AAAE,cAAQvD,QAAQ,CAACnkB;AAAnB,KAAvB,CAAV;;AACA0nB,IAAAA,SAAS,CAACjC,MAAV,CAAiBF,GAAjB,EAAsB,CAAtB;AAEAyB,IAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACAnkB,IAAAA,QAAQ,CAAC6kB,SAAD,CAAR;AACH;;AAKD,WAASG,UAAT,GAAsB;AAClB,WAAO,CACH;AACIxK,MAAAA,MAAM,EAAE1pB,YAAY,CAACm0B,YAAb,IAA6B,eADzC;AAEIC,MAAAA,QAAQ,EAAE,WAFd;AAGI7N,MAAAA,aAAa,EAAE;AAHnB,KADG,EAMH;AACImD,MAAAA,MAAM,EAAE1pB,YAAY,CAACswB,aAAb,IAA8B,gBAD1C;AAEI8D,MAAAA,QAAQ,EAAE,OAFd;AAGI7N,MAAAA,aAAa,EAAE;AAHnB,KANG,EAWH;AACImD,MAAAA,MAAM,EAAE1pB,YAAY,CAACoyB,YAAb,IAA6B,eADzC;AAEIgC,MAAAA,QAAQ,EAAE,MAFd;AAGI7N,MAAAA,aAAa,EAAE;AAHnB,KAXG,EAgBH;AACImD,MAAAA,MAAM,EAAE1pB,YAAY,CAACkV,OAAb,IAAwB,SADpC;AAEIkf,MAAAA,QAAQ,EAAE,SAFd;AAGI7N,MAAAA,aAAa,EAAE;AAHnB,KAhBG,CAAP;AAsBH;;AAED,sBACI3hB,6BAACA,cAAD,CAAO,QAAP,qBACIA,6BAACwW,kBAAD,QACK2X,KAAK,iBACFnuB,6BAACyW,kBAAD;AAAK,IAAA,EAAE,EAAE;AAAT,KACK0X,KADL,CAFR,eAMInuB,6BAACyW,kBAAD;AAAK,IAAA,EAAE,EAAE0X,KAAK,GAAG,CAAH,GAAO;AAArB,kBACInuB;AAAK,IAAA,KAAK,EAAE;AAAE,eAAO;AAAT;AAAZ,kBACIA,6BAAC,cAAD;AAAgB,aAAM,OAAtB;AAA8B,IAAA,OAAO,EAAE5E,YAAY,CAACq0B,WAAb,IAA4B,cAAnE;AAAmF,IAAA,OAAO,EAAE,mBAAM;AAC9FlB,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACAI,MAAAA,mBAAmB,CAAC,EAAD,CAAnB;AACH;AAHD,IADJ,CADJ,CANJ,CADJ,eAiBI3uB,6BAACwW,kBAAD;AAAK,IAAA,KAAK,EAAE;AAAEI,MAAAA,SAAS,EAAE;AAAb;AAAZ,kBACI5W,6BAACyW,kBAAD,qBACIzW,6BAAC,UAAD;AACI,IAAA,YAAY,EAAE5E,YADlB;AAEI,IAAA,OAAO,EAAEk0B,UAAU,EAFvB;AAGI,IAAA,IAAI,EAAE5Z,IAHV;AAII,IAAA,gBAAgB,EAAE,CAJtB;AAKI,IAAA,cAAc,EAAEta,YAAY,CAACs0B,MAAb,IAAuB,SAL3C;AAMI,IAAA,aAAa,EAAE;AANnB,IADJ,CADJ,CAjBJ,eA8BI1vB,6BAACka,oBAAD;AAAO,IAAA,MAAM,EAAE,kBAAM,EAArB;AAA0B,IAAA,IAAI,EAAEoU;AAAhC,kBACItuB,6BAAC,eAAD;AACI,IAAA,YAAY,EAAE5E,YADlB;AAEI,IAAA,QAAQ,EAAEszB,gBAFd;AAGI,IAAA,MAAM,EAAEQ,cAHZ;AAII,IAAA,QAAQ,EAAE,oBAAM;AAAEX,MAAAA,gBAAgB,CAAC,KAAD,CAAhB;AAAyB;AAJ/C,IADJ,CA9BJ,eAuCIvuB,6BAACka,oBAAD;AAAO,IAAA,MAAM,EAAE,kBAAM,EAArB;AAA0B,IAAA,IAAI,EAAC,IAA/B;AAAoC,IAAA,IAAI,EAAEsU;AAA1C,kBACIxuB,6BAAC,cAAD;AACI,IAAA,YAAY,EAAE5E,YADlB;AAEI,IAAA,QAAQ,EAAE3F,GAAC,CAACyyB,SAAF,CAAYwG,gBAAZ,CAFd;AAGI,IAAA,QAAQ,EAAEW,cAHd;AAII,IAAA,QAAQ,EAAE,oBAAM;AACZZ,MAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACAE,MAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACH;AAPL,IADJ,CAvCJ,CADJ;AAqDH;;;;;;;;;;;AC/LD,IAAMgB,eAAe,GAAGxpB,MAAM,CAACC,GAAV,sBACD,UAAC5G,KAAD;AAAA,SAAYA,KAAK,CAACowB,WAAN,IAAqB,MAAjC;AAAA,CADC,EAEF,UAACpwB,KAAD;AAAA,SAAYA,KAAK,CAACmnB,UAAN,IAAoB,MAAhC;AAAA,CAFE,EAGA,UAACnnB,KAAD;AAAA,SAAYA,KAAK,CAACqwB,YAAN,IAAsB,MAAlC;AAAA,CAHA,EAIP,UAACrwB,KAAD;AAAA,SAAYA,KAAK,CAAC0F,MAAlB;AAAA,CAJO,EAKH,UAAC1F,KAAD;AAAA,SAAYA,KAAK,CAACswB,SAAN,IAAmB,MAA/B;AAAA,CALG,CAArB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}